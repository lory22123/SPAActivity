(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Od={exports:{}},yl={};var M_;function Tb(){if(M_)return yl;M_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return yl.Fragment=t,yl.jsx=i,yl.jsxs=i,yl}var V_;function bb(){return V_||(V_=1,Od.exports=Tb()),Od.exports}var N=bb(),Md={exports:{}},Tt={};var k_;function Sb(){if(k_)return Tt;k_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function F(x){return x===null||typeof x!="object"?null:(x=M&&x[M]||x["@@iterator"],typeof x=="function"?x:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,nt={};function ft(x,K,W){this.props=x,this.context=K,this.refs=nt,this.updater=W||Z}ft.prototype.isReactComponent={},ft.prototype.setState=function(x,K){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,K,"setState")},ft.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function rt(){}rt.prototype=ft.prototype;function ut(x,K,W){this.props=x,this.context=K,this.refs=nt,this.updater=W||Z}var _t=ut.prototype=new rt;_t.constructor=ut,it(_t,ft.prototype),_t.isPureReactComponent=!0;var Bt=Array.isArray;function Ct(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(x,K,W){var st=W.ref;return{$$typeof:s,type:x,key:K,ref:st!==void 0?st:null,props:W}}function V(x,K){return I(x.type,K,x.props)}function D(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function U(x){var K={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(W){return K[W]})}var w=/\/+/g;function te(x,K){return typeof x=="object"&&x!==null&&x.key!=null?U(""+x.key):K.toString(36)}function ee(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Ct,Ct):(x.status="pending",x.then(function(K){x.status==="pending"&&(x.status="fulfilled",x.value=K)},function(K){x.status==="pending"&&(x.status="rejected",x.reason=K)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function H(x,K,W,st,vt){var wt=typeof x;(wt==="undefined"||wt==="boolean")&&(x=null);var Lt=!1;if(x===null)Lt=!0;else switch(wt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(x.$$typeof){case s:case t:Lt=!0;break;case b:return Lt=x._init,H(Lt(x._payload),K,W,st,vt)}}if(Lt)return vt=vt(x),Lt=st===""?"."+te(x,0):st,Bt(vt)?(W="",Lt!=null&&(W=Lt.replace(w,"$&/")+"/"),H(vt,K,W,"",function(us){return us})):vt!=null&&(D(vt)&&(vt=V(vt,W+(vt.key==null||x&&x.key===vt.key?"":(""+vt.key).replace(w,"$&/")+"/")+Lt)),K.push(vt)),1;Lt=0;var xe=st===""?".":st+":";if(Bt(x))for(var ae=0;ae<x.length;ae++)st=x[ae],wt=xe+te(st,ae),Lt+=H(st,K,W,wt,vt);else if(ae=F(x),typeof ae=="function")for(x=ae.call(x),ae=0;!(st=x.next()).done;)st=st.value,wt=xe+te(st,ae++),Lt+=H(st,K,W,wt,vt);else if(wt==="object"){if(typeof x.then=="function")return H(ee(x),K,W,st,vt);throw K=String(x),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function Q(x,K,W){if(x==null)return x;var st=[],vt=0;return H(x,st,"","",function(wt){return K.call(W,wt,vt++)}),st}function tt(x){if(x._status===-1){var K=x._result;K=K(),K.then(function(W){(x._status===0||x._status===-1)&&(x._status=1,x._result=W)},function(W){(x._status===0||x._status===-1)&&(x._status=2,x._result=W)}),x._status===-1&&(x._status=0,x._result=K)}if(x._status===1)return x._result.default;throw x._result}var mt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},kt={map:Q,forEach:function(x,K,W){Q(x,function(){K.apply(this,arguments)},W)},count:function(x){var K=0;return Q(x,function(){K++}),K},toArray:function(x){return Q(x,function(K){return K})||[]},only:function(x){if(!D(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Tt.Activity=A,Tt.Children=kt,Tt.Component=ft,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=ut,Tt.StrictMode=a,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},Tt.cache=function(x){return function(){return x.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(x,K,W){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var st=it({},x.props),vt=x.key;if(K!=null)for(wt in K.key!==void 0&&(vt=""+K.key),K)!S.call(K,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&K.ref===void 0||(st[wt]=K[wt]);var wt=arguments.length-2;if(wt===1)st.children=W;else if(1<wt){for(var Lt=Array(wt),xe=0;xe<wt;xe++)Lt[xe]=arguments[xe+2];st.children=Lt}return I(x.type,vt,st)},Tt.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},Tt.createElement=function(x,K,W){var st,vt={},wt=null;if(K!=null)for(st in K.key!==void 0&&(wt=""+K.key),K)S.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(vt[st]=K[st]);var Lt=arguments.length-2;if(Lt===1)vt.children=W;else if(1<Lt){for(var xe=Array(Lt),ae=0;ae<Lt;ae++)xe[ae]=arguments[ae+2];vt.children=xe}if(x&&x.defaultProps)for(st in Lt=x.defaultProps,Lt)vt[st]===void 0&&(vt[st]=Lt[st]);return I(x,wt,vt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(x){return{$$typeof:g,render:x}},Tt.isValidElement=D,Tt.lazy=function(x){return{$$typeof:b,_payload:{_status:-1,_result:x},_init:tt}},Tt.memo=function(x,K){return{$$typeof:y,type:x,compare:K===void 0?null:K}},Tt.startTransition=function(x){var K=C.T,W={};C.T=W;try{var st=x(),vt=C.S;vt!==null&&vt(W,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Ct,mt)}catch(wt){mt(wt)}finally{K!==null&&W.types!==null&&(K.types=W.types),C.T=K}},Tt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Tt.use=function(x){return C.H.use(x)},Tt.useActionState=function(x,K,W){return C.H.useActionState(x,K,W)},Tt.useCallback=function(x,K){return C.H.useCallback(x,K)},Tt.useContext=function(x){return C.H.useContext(x)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(x,K){return C.H.useDeferredValue(x,K)},Tt.useEffect=function(x,K){return C.H.useEffect(x,K)},Tt.useEffectEvent=function(x){return C.H.useEffectEvent(x)},Tt.useId=function(){return C.H.useId()},Tt.useImperativeHandle=function(x,K,W){return C.H.useImperativeHandle(x,K,W)},Tt.useInsertionEffect=function(x,K){return C.H.useInsertionEffect(x,K)},Tt.useLayoutEffect=function(x,K){return C.H.useLayoutEffect(x,K)},Tt.useMemo=function(x,K){return C.H.useMemo(x,K)},Tt.useOptimistic=function(x,K){return C.H.useOptimistic(x,K)},Tt.useReducer=function(x,K,W){return C.H.useReducer(x,K,W)},Tt.useRef=function(x){return C.H.useRef(x)},Tt.useState=function(x){return C.H.useState(x)},Tt.useSyncExternalStore=function(x,K,W){return C.H.useSyncExternalStore(x,K,W)},Tt.useTransition=function(){return C.H.useTransition()},Tt.version="19.2.4",Tt}var U_;function Am(){return U_||(U_=1,Md.exports=Sb()),Md.exports}var Gt=Am(),Vd={exports:{}},_l={},kd={exports:{}},Ud={};var L_;function Ab(){return L_||(L_=1,(function(s){function t(H,Q){var tt=H.length;H.push(Q);t:for(;0<tt;){var mt=tt-1>>>1,kt=H[mt];if(0<l(kt,Q))H[mt]=Q,H[tt]=kt,tt=mt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var Q=H[0],tt=H.pop();if(tt!==Q){H[0]=tt;t:for(var mt=0,kt=H.length,x=kt>>>1;mt<x;){var K=2*(mt+1)-1,W=H[K],st=K+1,vt=H[st];if(0>l(W,tt))st<kt&&0>l(vt,W)?(H[mt]=vt,H[st]=tt,mt=st):(H[mt]=W,H[K]=tt,mt=K);else if(st<kt&&0>l(vt,tt))H[mt]=vt,H[st]=tt,mt=st;else break t}}return Q}function l(H,Q){var tt=H.sortIndex-Q.sortIndex;return tt!==0?tt:H.id-Q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],y=[],b=1,A=null,M=3,F=!1,Z=!1,it=!1,nt=!1,ft=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function _t(H){for(var Q=i(y);Q!==null;){if(Q.callback===null)a(y);else if(Q.startTime<=H)a(y),Q.sortIndex=Q.expirationTime,t(v,Q);else break;Q=i(y)}}function Bt(H){if(it=!1,_t(H),!Z)if(i(v)!==null)Z=!0,Ct||(Ct=!0,U());else{var Q=i(y);Q!==null&&ee(Bt,Q.startTime-H)}}var Ct=!1,C=-1,S=5,I=-1;function V(){return nt?!0:!(s.unstable_now()-I<S)}function D(){if(nt=!1,Ct){var H=s.unstable_now();I=H;var Q=!0;try{t:{Z=!1,it&&(it=!1,rt(C),C=-1),F=!0;var tt=M;try{e:{for(_t(H),A=i(v);A!==null&&!(A.expirationTime>H&&V());){var mt=A.callback;if(typeof mt=="function"){A.callback=null,M=A.priorityLevel;var kt=mt(A.expirationTime<=H);if(H=s.unstable_now(),typeof kt=="function"){A.callback=kt,_t(H),Q=!0;break e}A===i(v)&&a(v),_t(H)}else a(v);A=i(v)}if(A!==null)Q=!0;else{var x=i(y);x!==null&&ee(Bt,x.startTime-H),Q=!1}}break t}finally{A=null,M=tt,F=!1}Q=void 0}}finally{Q?U():Ct=!1}}}var U;if(typeof ut=="function")U=function(){ut(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,te=w.port2;w.port1.onmessage=D,U=function(){te.postMessage(null)}}else U=function(){ft(D,0)};function ee(H,Q){C=ft(function(){H(s.unstable_now())},Q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var Q=3;break;default:Q=M}var tt=M;M=Q;try{return H()}finally{M=tt}},s.unstable_requestPaint=function(){nt=!0},s.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var tt=M;M=H;try{return Q()}finally{M=tt}},s.unstable_scheduleCallback=function(H,Q,tt){var mt=s.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?mt+tt:mt):tt=mt,H){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=tt+kt,H={id:b++,callback:Q,priorityLevel:H,startTime:tt,expirationTime:kt,sortIndex:-1},tt>mt?(H.sortIndex=tt,t(y,H),i(v)===null&&H===i(y)&&(it?(rt(C),C=-1):it=!0,ee(Bt,tt-mt))):(H.sortIndex=kt,t(v,H),Z||F||(Z=!0,Ct||(Ct=!0,U()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var Q=M;return function(){var tt=M;M=Q;try{return H.apply(this,arguments)}finally{M=tt}}}})(Ud)),Ud}var P_;function wb(){return P_||(P_=1,kd.exports=Ab()),kd.exports}var Ld={exports:{}},Ye={};var z_;function Rb(){if(z_)return Ye;z_=1;var s=Am();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:v,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(v,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,b)},Ye.flushSync=function(v){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=b,a.d.f()}},Ye.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Ye.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ye.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:F}):b==="script"&&a.d.X(v,{crossOrigin:A,integrity:M,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Ye.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin);a.d.L(v,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(v,y){if(typeof v=="string")if(y){var b=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Ye.requestFormReset=function(v){a.d.r(v)},Ye.unstable_batchedUpdates=function(v,y){return v(y)},Ye.useFormState=function(v,y,b){return d.H.useFormState(v,y,b)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var j_;function Cb(){if(j_)return Ld.exports;j_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ld.exports=Rb(),Ld.exports}var B_;function Ib(){if(B_)return _l;B_=1;var s=wb(),t=Am(),i=Cb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),rt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),_t=Symbol.for("react.forward_ref"),Bt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case ft:return"Profiler";case nt:return"StrictMode";case Bt:return"Suspense";case Ct:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case ut:return e.displayName||"Context";case rt:return(e._context.displayName||"Context")+".Consumer";case _t:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:te(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return te(e(n))}catch{}}return null}var ee=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},mt=[],kt=-1;function x(e){return{current:e}}function K(e){0>kt||(e.current=mt[kt],mt[kt]=null,kt--)}function W(e,n){kt++,mt[kt]=e.current,e.current=n}var st=x(null),vt=x(null),wt=x(null),Lt=x(null);function xe(e,n){switch(W(wt,n),W(vt,e),W(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?n_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=n_(n),e=i_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),W(st,e)}function ae(){K(st),K(vt),K(wt)}function us(e){e.memoizedState!==null&&W(Lt,e);var n=st.current,r=i_(n,e.type);n!==r&&(W(vt,e),W(st,r))}function Zs(e){vt.current===e&&(K(st),K(vt)),Lt.current===e&&(K(Lt),dl._currentValue=tt)}var Ws,ta;function ii(e){if(Ws===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ws=n&&n[1]||"",ta=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ws+e+ta}var fo=!1;function cs(e,n){if(!e||fo)return"";fo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var j=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){j=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){j=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{fo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ii(r):""}function mo(e,n){switch(e.tag){case 26:case 27:case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return e.child!==n&&n!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return cs(e.type,!1);case 11:return cs(e.type.render,!1);case 1:return cs(e.type,!0);case 31:return ii("Activity");default:return""}}function po(e){try{var n="",r=null;do n+=mo(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,Ne=s.unstable_scheduleCallback,ur=s.unstable_cancelCallback,Mh=s.unstable_shouldYield,Zl=s.unstable_requestPaint,tn=s.unstable_now,hs=s.unstable_getCurrentPriorityLevel,go=s.unstable_ImmediatePriority,yo=s.unstable_UserBlockingPriority,cr=s.unstable_NormalPriority,Vh=s.unstable_LowPriority,Wl=s.unstable_IdlePriority,tu=s.log,eu=s.unstable_setDisableYieldValue,Bn=null,ze=null;function wn(e){if(typeof tu=="function"&&eu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Bn,e)}catch{}}var fe=Math.clz32?Math.clz32:iu,nu=Math.log,ea=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(nu(e)/ea|0)|0}var ri=256,fs=262144,ve=4194304;function si(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=si(o):(p&=E,p!==0?h=si(p):r||(r=E&~e,r!==0&&(h=si(r))))):(E=o&~f,E!==0?h=si(E):p!==0?h=si(p):r||(r=o&~e,r!==0&&(h=si(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function kh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function oi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ds(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Uh(e,n,r,o,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(r=p&~r;0<r;){var G=31-fe(r),X=1<<G;E[G]=0,R[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}r&=~X}o!==0&&ms(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function ms(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function _o(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-fe(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function vo(e,n){var r=n&-n;return r=(r&42)!==0?1:ps(r),(r&(e.suspendedLanes|n))!==0?0:r}function ps(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function su(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:R_(e.type))}function Hn(e,n){var r=Q.p;try{return Q.p=e,n()}finally{Q.p=r}}var Gn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Gn,Ve="__reactProps$"+Gn,li="__reactContainer$"+Gn,na="__reactEvents$"+Gn,Lh="__reactListeners$"+Gn,au="__reactHandles$"+Gn,ou="__reactResources$"+Gn,ui="__reactMarker$"+Gn;function ia(e){delete e[Ee],delete e[Ve],delete e[na],delete e[Lh],delete e[au]}function ci(e){var n=e[Ee];if(n)return n;for(var r=e.parentNode;r;){if(n=r[li]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=c_(e);e!==null;){if(r=e[Ee])return r;e=c_(e)}return n}e=r,r=e.parentNode}return null}function Rn(e){if(e=e[Ee]||e[li]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function hi(e){var n=e[ou];return n||(n=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[ui]=!0}var Eo=new Set,To={};function fi(e,n){di(e,n),di(e+"Capture",n)}function di(e,n){for(To[e]=n,e=0;e<n.length;e++)Eo.add(n[e])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},Ao={};function lu(e){return _e.call(Ao,e)?!0:_e.call(So,e)?!1:bo.test(e)?Ao[e]=!0:(So[e]=!0,!1)}function ra(e,n,r){if(lu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function mn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function be(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=hr(e)?"checked":"value";e._valueTracker=wo(e,n,""+e[n])}}function gs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=hr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ys=/[\n"\\]/g;function rn(e){return e.replace(ys,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sa(e,n,r,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Ro(e,p,ke(n)):r!=null?Ro(e,p,ke(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function uu(e,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}r=r!=null?""+ke(r):"",n=n!=null?""+ke(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Qt(e)}function Ro(e,n,r){n==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function fr(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+ke(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,r){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+ke(r):""}function dr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(ee(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=ke(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Qt(e)}function sn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||hu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Io(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Co(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Co(e,f,n[f])}function aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return mr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fn(){}var xo=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pr=null,pi=null;function _s(e){var n=Rn(e);if(n&&(e=n.stateNode)){var r=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(sa(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));sa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&gs(o)}break t;case"textarea":cu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&fr(e,!!r.multiple,n,!1)}}}var la=!1;function gr(e,n,r){if(la)return e(n,r);la=!0;try{var o=e(n);return o}finally{if(la=!1,(pr!==null||pi!==null)&&(sc(),pr&&(n=pr,e=pi,pi=pr=null,_s(n),e)))for(n=0;n<e.length;n++)_s(e[n])}}function Qn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ve]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vs=!1;if(In)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){vs=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{vs=!1}var gi=null,No=null,Es=null;function Do(){if(Es)return Es;var e,n=No,r=n.length,o,h="value"in gi?gi.value:gi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return Es=h.slice(e,1<o?1-o:void 0)}function Ts(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function Kn(){return!1}function je(e){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:Kn,this.isPropagationStopped=Kn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=je(Ui),yr=A({},Ui,{view:0,detail:0}),Oo=je(yr),_r,ua,_i,ca=A({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(_r=e.screenX-_i.screenX,ua=e.screenY-_i.screenY):ua=_r=0,_i=e),_r)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),Mo=je(ca),bs=A({},ca,{dataTransfer:0}),du=je(bs),mu=A({},yr,{relatedTarget:0}),Ss=je(mu),Vo=A({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=je(Vo),ha=A({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=je(ha),yu=A({},Ui,{data:0}),vi=je(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function vr(){return Tu}var en=A({},yr,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(e){return e.type==="keypress"?Ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=je(en),Su=A({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=je(Su),u=A({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),m=je(u),_=A({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(_),L=A({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=je(L),et=A({},Ui,{newState:0,oldState:0}),St=je(et),de=[9,13,27,32],qt=In&&"CompositionEvent"in window,oe=null;In&&"documentMode"in document&&(oe=document.documentMode);var xn=In&&"TextEvent"in window&&!oe,Ei=In&&(!qt||oe&&8<oe&&11>=oe),Yn=" ",Xn=!1;function As(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function FT(e,n){switch(e){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:(Xn=!0,Yn);case"textInput":return e=n.data,e===Yn&&Xn?null:e;default:return null}}function QT(e,n){if(da)return e==="compositionend"||!qt&&As(e,n)?(e=Do(),Es=No=gi=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ei&&n.locale!=="ko"?null:n.data;default:return null}}var KT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!KT[e.type]:n==="textarea"}function mp(e,n,r,o){pr?pi?pi.push(o):pi=[o]:pr=o,n=fc(n,"onChange"),0<n.length&&(r=new yi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var ko=null,Uo=null;function YT(e){Jy(e,0)}function Au(e){var n=dn(e);if(gs(n))return e}function pp(e,n){if(e==="change")return n}var gp=!1;if(In){var Ph;if(In){var zh="oninput"in document;if(!zh){var yp=document.createElement("div");yp.setAttribute("oninput","return;"),zh=typeof yp.oninput=="function"}Ph=zh}else Ph=!1;gp=Ph&&(!document.documentMode||9<document.documentMode)}function _p(){ko&&(ko.detachEvent("onpropertychange",vp),Uo=ko=null)}function vp(e){if(e.propertyName==="value"&&Au(Uo)){var n=[];mp(n,Uo,e,Cn(e)),gr(YT,n)}}function XT(e,n,r){e==="focusin"?(_p(),ko=n,Uo=r,ko.attachEvent("onpropertychange",vp)):e==="focusout"&&_p()}function JT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Uo)}function $T(e,n){if(e==="click")return Au(n)}function ZT(e,n){if(e==="input"||e==="change")return Au(n)}function WT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:WT;function Lo(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!_e.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function Ep(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tp(e,n){var r=Ep(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Ep(r)}}function bp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?bp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Sp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=mi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=mi(e.document)}return n}function jh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var t1=In&&"documentMode"in document&&11>=document.documentMode,ma=null,Bh=null,Po=null,qh=!1;function Ap(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qh||ma==null||ma!==mi(o)||(o=ma,"selectionStart"in o&&jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Po&&Lo(Po,o)||(Po=o,o=fc(Bh,"onSelect"),0<o.length&&(n=new yi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ma)))}function ws(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var pa={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},Hh={},wp={};In&&(wp=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Rs(e){if(Hh[e])return Hh[e];if(!pa[e])return e;var n=pa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in wp)return Hh[e]=n[r];return e}var Rp=Rs("animationend"),Cp=Rs("animationiteration"),Ip=Rs("animationstart"),e1=Rs("transitionrun"),n1=Rs("transitionstart"),i1=Rs("transitioncancel"),xp=Rs("transitionend"),Np=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function Jn(e,n){Np.set(e,n),fi(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],ga=0,Fh=0;function Ru(){for(var e=ga,n=Fh=ga=0;n<e;){var r=Nn[n];Nn[n++]=null;var o=Nn[n];Nn[n++]=null;var h=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Dp(r,h,f)}}function Cu(e,n,r,o){Nn[ga++]=e,Nn[ga++]=n,Nn[ga++]=r,Nn[ga++]=o,Fh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Qh(e,n,r,o){return Cu(e,n,r,o),Iu(e)}function Cs(e,n){return Cu(e,null,null,n),Iu(e)}function Dp(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Iu(e){if(50<al)throw al=0,nd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ya={};function r1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,r,o){return new r1(e,n,r,o)}function Kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pi(e,n){var r=e.alternate;return r===null?(r=gn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Op(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function xu(e,n,r,o,h,f){var p=0;if(o=e,typeof e=="function")Kh(e)&&(p=1);else if(typeof e=="string")p=ub(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=gn(31,r,n,h),e.elementType=I,e.lanes=f,e;case it:return Is(r.children,h,f,n);case nt:p=8,h|=24;break;case ft:return e=gn(12,r,n,h|2),e.elementType=ft,e.lanes=f,e;case Bt:return e=gn(13,r,n,h),e.elementType=Bt,e.lanes=f,e;case Ct:return e=gn(19,r,n,h),e.elementType=Ct,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ut:p=10;break t;case rt:p=9;break t;case _t:p=11;break t;case C:p=14;break t;case S:p=16,o=null;break t}p=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=gn(p,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Is(e,n,r,o){return e=gn(7,e,o,n),e.lanes=r,e}function Yh(e,n,r){return e=gn(6,e,null,n),e.lanes=r,e}function Mp(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Xh(e,n,r){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Vp=new WeakMap;function Dn(e,n){if(typeof e=="object"&&e!==null){var r=Vp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:po(n)},Vp.set(e,n),n)}return{value:e,source:n,stack:po(n)}}var _a=[],va=0,Nu=null,zo=0,On=[],Mn=0,Er=null,Ti=1,bi="";function zi(e,n){_a[va++]=zo,_a[va++]=Nu,Nu=e,zo=n}function kp(e,n,r){On[Mn++]=Ti,On[Mn++]=bi,On[Mn++]=Er,Er=e;var o=Ti;e=bi;var h=32-fe(o)-1;o&=~(1<<h),r+=1;var f=32-fe(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ti=1<<32-fe(n)+h|r<<h|o,bi=f+e}else Ti=1<<f|r<<h|o,bi=e}function Jh(e){e.return!==null&&(zi(e,1),kp(e,1,0))}function $h(e){for(;e===Nu;)Nu=_a[--va],_a[va]=null,zo=_a[--va],_a[va]=null;for(;e===Er;)Er=On[--Mn],On[Mn]=null,bi=On[--Mn],On[Mn]=null,Ti=On[--Mn],On[Mn]=null}function Up(e,n){On[Mn++]=Ti,On[Mn++]=bi,On[Mn++]=Er,Ti=n.id,bi=n.overflow,Er=e}var Be=null,ne=null,Ut=!1,Tr=null,Vn=!1,Zh=Error(a(519));function br(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jo(Dn(n,e)),Zh}function Lp(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[Ve]=o,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(r=0;r<ll.length;r++)xt(ll[r],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),dr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||t_(n.textContent,r)?(o.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),o.onScroll!=null&&xt("scroll",n),o.onScrollEnd!=null&&xt("scrollend",n),o.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||br(e,!0)}function Pp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Be=Be.return}}function Ea(e){if(e!==Be)return!1;if(!Ut)return Pp(e),Ut=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||yd(e.type,e.memoizedProps)),r=!r),r&&ne&&br(e),Pp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=u_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=u_(e)}else n===27?(n=ne,Ur(e.type)?(e=bd,bd=null,ne=e):ne=n):ne=Be?Un(e.stateNode.nextSibling):null;return!0}function xs(){ne=Be=null,Ut=!1}function Wh(){var e=Tr;return e!==null&&(un===null?un=e:un.push.apply(un,e),Tr=null),e}function jo(e){Tr===null?Tr=[e]:Tr.push(e)}var tf=x(null),Ns=null,ji=null;function Sr(e,n,r){W(tf,n._currentValue),n._currentValue=r}function Bi(e){e._currentValue=tf.current,K(tf)}function ef(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function nf(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),ef(f.return,r,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),ef(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ta(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;pn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(dl):e=[dl])}h=h.return}e!==null&&nf(n,e,r,o),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ds(e){Ns=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return zp(Ns,e)}function Ou(e,n){return Ns===null&&Ds(e),zp(e,n)}function zp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ji===null){if(e===null)throw Error(a(308));ji=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ji=ji.next=n;return r}var s1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},a1=s.unstable_scheduleCallback,o1=s.unstable_NormalPriority,Se={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new s1,data:new Map,refCount:0}}function Bo(e){e.refCount--,e.refCount===0&&a1(o1,function(){e.controller.abort()})}var qo=null,sf=0,ba=0,Sa=null;function l1(e,n){if(qo===null){var r=qo=[];sf=0,ba=ld(),Sa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return sf++,n.then(jp,jp),n}function jp(){if(--sf===0&&qo!==null){Sa!==null&&(Sa.status="fulfilled");var e=qo;qo=null,ba=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function u1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Bp=H.S;H.S=function(e,n){Ay=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&l1(e,n),Bp!==null&&Bp(e,n)};var Os=x(null);function af(){var e=Os.current;return e!==null?e:Wt.pooledCache}function Mu(e,n){n===null?W(Os,Os.current):W(Os,n.pool)}function qp(){var e=af();return e===null?null:{parent:Se._currentValue,pool:e}}var Aa=Error(a(460)),of=Error(a(474)),Vu=Error(a(542)),ku={then:function(){}};function Hp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Fn,Fn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qp(e),e;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qp(e),e}throw Vs=n,Aa}}function Ms(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Vs=r,Aa):r}}var Vs=null;function Fp(){if(Vs===null)throw Error(a(459));var e=Vs;return Vs=null,e}function Qp(e){if(e===Aa||e===Vu)throw Error(a(483))}var wa=null,Ho=0;function Uu(e){var n=Ho;return Ho+=1,wa===null&&(wa=[]),Gp(wa,e,n)}function Go(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Kp(e){function n(k,O){if(e){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function r(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Pi(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,P,Y){return O===null||O.tag!==6?(O=Yh(P,k.mode,Y),O.return=k,O):(O=h(O,P),O.return=k,O)}function R(k,O,P,Y){var ht=P.type;return ht===it?G(k,O,P.props.children,Y,P.key):O!==null&&(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&Ms(ht)===O.type)?(O=h(O,P.props),Go(O,P),O.return=k,O):(O=xu(P.type,P.key,P.props,null,k.mode,Y),Go(O,P),O.return=k,O)}function z(k,O,P,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Xh(P,k.mode,Y),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function G(k,O,P,Y,ht){return O===null||O.tag!==7?(O=Is(P,k.mode,Y,ht),O.return=k,O):(O=h(O,P),O.return=k,O)}function X(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Yh(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return P=xu(O.type,O.key,O.props,null,k.mode,P),Go(P,O),P.return=k,P;case Z:return O=Xh(O,k.mode,P),O.return=k,O;case S:return O=Ms(O),X(k,O,P)}if(ee(O)||U(O))return O=Is(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return X(k,Uu(O),P);if(O.$$typeof===ut)return X(k,Ou(k,O),P);Lu(k,O)}return null}function j(k,O,P,Y){var ht=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ht!==null?null:E(k,O,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ht?R(k,O,P,Y):null;case Z:return P.key===ht?z(k,O,P,Y):null;case S:return P=Ms(P),j(k,O,P,Y)}if(ee(P)||U(P))return ht!==null?null:G(k,O,P,Y,null);if(typeof P.then=="function")return j(k,O,Uu(P),Y);if(P.$$typeof===ut)return j(k,O,Ou(k,P),Y);Lu(k,P)}return null}function q(k,O,P,Y,ht){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,E(O,k,""+Y,ht);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case F:return k=k.get(Y.key===null?P:Y.key)||null,R(O,k,Y,ht);case Z:return k=k.get(Y.key===null?P:Y.key)||null,z(O,k,Y,ht);case S:return Y=Ms(Y),q(k,O,P,Y,ht)}if(ee(Y)||U(Y))return k=k.get(P)||null,G(O,k,Y,ht,null);if(typeof Y.then=="function")return q(k,O,P,Uu(Y),ht);if(Y.$$typeof===ut)return q(k,O,P,Ou(O,Y),ht);Lu(O,Y)}return null}function ot(k,O,P,Y){for(var ht=null,zt=null,ct=O,Rt=O=0,Dt=null;ct!==null&&Rt<P.length;Rt++){ct.index>Rt?(Dt=ct,ct=null):Dt=ct.sibling;var jt=j(k,ct,P[Rt],Y);if(jt===null){ct===null&&(ct=Dt);break}e&&ct&&jt.alternate===null&&n(k,ct),O=f(jt,O,Rt),zt===null?ht=jt:zt.sibling=jt,zt=jt,ct=Dt}if(Rt===P.length)return r(k,ct),Ut&&zi(k,Rt),ht;if(ct===null){for(;Rt<P.length;Rt++)ct=X(k,P[Rt],Y),ct!==null&&(O=f(ct,O,Rt),zt===null?ht=ct:zt.sibling=ct,zt=ct);return Ut&&zi(k,Rt),ht}for(ct=o(ct);Rt<P.length;Rt++)Dt=q(ct,k,Rt,P[Rt],Y),Dt!==null&&(e&&Dt.alternate!==null&&ct.delete(Dt.key===null?Rt:Dt.key),O=f(Dt,O,Rt),zt===null?ht=Dt:zt.sibling=Dt,zt=Dt);return e&&ct.forEach(function(Br){return n(k,Br)}),Ut&&zi(k,Rt),ht}function pt(k,O,P,Y){if(P==null)throw Error(a(151));for(var ht=null,zt=null,ct=O,Rt=O=0,Dt=null,jt=P.next();ct!==null&&!jt.done;Rt++,jt=P.next()){ct.index>Rt?(Dt=ct,ct=null):Dt=ct.sibling;var Br=j(k,ct,jt.value,Y);if(Br===null){ct===null&&(ct=Dt);break}e&&ct&&Br.alternate===null&&n(k,ct),O=f(Br,O,Rt),zt===null?ht=Br:zt.sibling=Br,zt=Br,ct=Dt}if(jt.done)return r(k,ct),Ut&&zi(k,Rt),ht;if(ct===null){for(;!jt.done;Rt++,jt=P.next())jt=X(k,jt.value,Y),jt!==null&&(O=f(jt,O,Rt),zt===null?ht=jt:zt.sibling=jt,zt=jt);return Ut&&zi(k,Rt),ht}for(ct=o(ct);!jt.done;Rt++,jt=P.next())jt=q(ct,k,Rt,jt.value,Y),jt!==null&&(e&&jt.alternate!==null&&ct.delete(jt.key===null?Rt:jt.key),O=f(jt,O,Rt),zt===null?ht=jt:zt.sibling=jt,zt=jt);return e&&ct.forEach(function(Eb){return n(k,Eb)}),Ut&&zi(k,Rt),ht}function Zt(k,O,P,Y){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var ht=P.key;O!==null;){if(O.key===ht){if(ht=P.type,ht===it){if(O.tag===7){r(k,O.sibling),Y=h(O,P.props.children),Y.return=k,k=Y;break t}}else if(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&Ms(ht)===O.type){r(k,O.sibling),Y=h(O,P.props),Go(Y,P),Y.return=k,k=Y;break t}r(k,O);break}else n(k,O);O=O.sibling}P.type===it?(Y=Is(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=xu(P.type,P.key,P.props,null,k.mode,Y),Go(Y,P),Y.return=k,k=Y)}return p(k);case Z:t:{for(ht=P.key;O!==null;){if(O.key===ht)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){r(k,O.sibling),Y=h(O,P.children||[]),Y.return=k,k=Y;break t}else{r(k,O);break}else n(k,O);O=O.sibling}Y=Xh(P,k.mode,Y),Y.return=k,k=Y}return p(k);case S:return P=Ms(P),Zt(k,O,P,Y)}if(ee(P))return ot(k,O,P,Y);if(U(P)){if(ht=U(P),typeof ht!="function")throw Error(a(150));return P=ht.call(P),pt(k,O,P,Y)}if(typeof P.then=="function")return Zt(k,O,Uu(P),Y);if(P.$$typeof===ut)return Zt(k,O,Ou(k,P),Y);Lu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(r(k,O.sibling),Y=h(O,P),Y.return=k,k=Y):(r(k,O),Y=Yh(P,k.mode,Y),Y.return=k,k=Y),p(k)):r(k,O)}return function(k,O,P,Y){try{Ho=0;var ht=Zt(k,O,P,Y);return wa=null,ht}catch(ct){if(ct===Aa||ct===Vu)throw ct;var zt=gn(29,ct,null,k.mode);return zt.lanes=Y,zt.return=k,zt}}}var ks=Kp(!0),Yp=Kp(!1),Ar=!1;function lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Iu(e),Dp(e,null,r),n}return Cu(e,o,n,r),Iu(e)}function Fo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,_o(e,r)}}function cf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var hf=!1;function Qo(){if(hf){var e=Sa;if(e!==null)throw e}}function Ko(e,n,r,o){hf=!1;var h=e.updateQueue;Ar=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;p=0,G=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Nt&j)===j:(o&j)===j){j!==0&&j===ba&&(hf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,pt=E;j=n;var Zt=r;switch(pt.tag){case 1:if(ot=pt.payload,typeof ot=="function"){X=ot.call(Zt,X,j);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=pt.payload,j=typeof ot=="function"?ot.call(Zt,X,j):ot,j==null)break t;X=A({},X,j);break t;case 2:Ar=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,R=X):G=G.next=q,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=X),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Dr|=p,e.lanes=p,e.memoizedState=X}}function Xp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Jp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Xp(r[e],n)}var Ra=x(null),Pu=x(0);function $p(e,n){e=Ji,W(Pu,e),W(Ra,n),Ji=e|n.baseLanes}function ff(){W(Pu,Ji),W(Ra,Ra.current)}function df(){Ji=Pu.current,K(Ra),K(Pu)}var yn=x(null),kn=null;function Cr(e){var n=e.alternate;W(me,me.current&1),W(yn,e),kn===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(kn=e)}function mf(e){W(me,me.current),W(yn,e),kn===null&&(kn=e)}function Zp(e){e.tag===22?(W(me,me.current),W(yn,e),kn===null&&(kn=e)):Ir()}function Ir(){W(me,me.current),W(yn,yn.current)}function _n(e){K(yn),kn===e&&(kn=null),K(me)}var me=x(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Ed(r)||Td(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qi=0,At=null,Jt=null,Ae=null,ju=!1,Ca=!1,Us=!1,Bu=0,Yo=0,Ia=null,c1=0;function ce(){throw Error(a(321))}function pf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!pn(e[r],n[r]))return!1;return!0}function gf(e,n,r,o,h,f){return qi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?kg:Df,Us=!1,f=r(o,h),Us=!1,Ca&&(f=tg(n,r,o,h)),Wp(e),f}function Wp(e){H.H=$o;var n=Jt!==null&&Jt.next!==null;if(qi=0,Ae=Jt=At=null,ju=!1,Yo=0,Ia=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&Du(e)&&(we=!0))}function tg(e,n,r,o){At=e;var h=0;do{if(Ca&&(Ia=null),Yo=0,Ca=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Ug,f=n(r,o)}while(Ca);return f}function h1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Xo(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(At.flags|=1024),n}function yf(){var e=Bu!==0;return Bu=0,e}function _f(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function vf(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}qi=0,Ae=Jt=At=null,Ca=!1,Yo=Bu=0,Ia=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function pe(){if(Jt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Ae===null?At.memoizedState:Ae.next;if(n!==null)Ae=n,Jt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xo(e){var n=Yo;return Yo+=1,Ia===null&&(Ia=[]),e=Gp(Ia,e,n),n=At,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?kg:Df),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xo(e);if(e.$$typeof===ut)return qe(e)}throw Error(a(438,String(e)))}function Ef(e){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=qu(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function Hi(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=pe();return Tf(n,Jt,e)}function Tf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,R=null,z=n,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Nt&X)===X:(qi&X)===X){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===ba&&(G=!0);else if((qi&j)===j){z=z.next,j===ba&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=X,p=f):R=R.next=X,At.lanes|=j,Dr|=j;X=z.action,Us&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,p=f):R=R.next=j,At.lanes|=X,Dr|=X;z=z.next}while(z!==null&&z!==n);if(R===null?p=f:R.next=E,!pn(f,e.memoizedState)&&(we=!0,G&&(r=Sa,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function bf(e){var n=pe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);pn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function eg(e,n,r){var o=At,h=pe(),f=Ut;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!pn((Jt||h).memoizedState,r);if(p&&(h.memoizedState=r,we=!0),h=h.queue,wf(rg.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,xa(9,{destroy:void 0},ig.bind(null,o,h,r,n),null),Wt===null)throw Error(a(349));f||(qi&127)!==0||ng(o,n,r)}return r}function ng(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=qu(),At.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function ig(e,n,r,o){n.value=r,n.getSnapshot=o,sg(n)&&ag(e)}function rg(e,n,r){return r(function(){sg(n)&&ag(e)})}function sg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!pn(e,r)}catch{return!0}}function ag(e){var n=Cs(e,2);n!==null&&cn(n,e,2)}function Sf(e){var n=nn();if(typeof e=="function"){var r=e;if(e=r(),Us){wn(!0);try{r()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},n}function og(e,n,r,o){return e.baseState=r,Tf(e,Jt,typeof o=="function"?o:Hi)}function f1(e,n,r,o,h){if(Ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,lg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function lg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=r(h,o),R=H.S;R!==null&&R(p,E),ug(e,n,E)}catch(z){Af(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=r(h,o),ug(e,n,f)}catch(z){Af(e,n,z)}}function ug(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){cg(e,n,o)},function(o){return Af(e,n,o)}):cg(e,n,r)}function cg(e,n,r){n.status="fulfilled",n.value=r,hg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,lg(e,r)))}function Af(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,hg(n),n=n.next;while(n!==o)}e.action=null}function hg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function fg(e,n){return n}function dg(e,n){if(Ut){var r=Wt.formState;if(r!==null){t:{var o=At;if(Ut){if(ne){e:{for(var h=ne,f=Vn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=Un(h.nextSibling),o=h.data==="F!";break t}}br(o)}o=!1}o&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fg,lastRenderedState:n},r.queue=o,r=Og.bind(null,At,o),o.dispatch=r,o=Sf(!1),f=Nf.bind(null,At,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=f1.bind(null,At,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function mg(e){var n=pe();return pg(n,Jt,e)}function pg(e,n,r){if(n=Tf(e,n,fg)[0],e=Gu(Hi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Xo(n)}catch(p){throw p===Aa?Vu:p}else o=n;n=pe();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(At.flags|=2048,xa(9,{destroy:void 0},d1.bind(null,h,r),null)),[o,f,e]}function d1(e,n){e.action=n}function gg(e){var n=pe(),r=Jt;if(r!==null)return pg(n,r,e);pe(),n=n.memoizedState,r=pe();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function xa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=qu(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function yg(){return pe().memoizedState}function Fu(e,n,r,o){var h=nn();At.flags|=e,h.memoizedState=xa(1|n,{destroy:void 0},r,o===void 0?null:o)}function Qu(e,n,r,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&pf(o,Jt.memoizedState.deps)?h.memoizedState=xa(n,f,r,o):(At.flags|=e,h.memoizedState=xa(1|n,f,r,o))}function _g(e,n){Fu(8390656,8,e,n)}function wf(e,n){Qu(2048,8,e,n)}function m1(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=qu(),At.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function vg(e){var n=pe().memoizedState;return m1({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Eg(e,n){return Qu(4,2,e,n)}function Tg(e,n){return Qu(4,4,e,n)}function bg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Sg(e,n,r){r=r!=null?r.concat([e]):null,Qu(4,4,bg.bind(null,n,e),r)}function Rf(){}function Ag(e,n){var r=pe();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&pf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function wg(e,n){var r=pe();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&pf(n,o[1]))return o[0];if(o=e(),Us){wn(!0);try{e()}finally{wn(!1)}}return r.memoizedState=[o,n],o}function Cf(e,n,r){return r===void 0||(qi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Ry(),At.lanes|=e,Dr|=e,r)}function Rg(e,n,r,o){return pn(r,n)?r:Ra.current!==null?(e=Cf(e,r,o),pn(e,n)||(we=!0),e):(qi&42)===0||(qi&1073741824)!==0&&(Nt&261930)===0?(we=!0,e.memoizedState=r):(e=Ry(),At.lanes|=e,Dr|=e,n)}function Cg(e,n,r,o,h){var f=Q.p;Q.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,Nf(e,!1,n,r);try{var R=h(),z=H.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=u1(R,o);Jo(e,n,G,Tn(e))}else Jo(e,n,o,Tn(e))}catch(X){Jo(e,n,{then:function(){},status:"rejected",reason:X},Tn())}finally{Q.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function p1(){}function If(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Ig(e).queue;Cg(e,h,n,tt,r===null?p1:function(){return xg(e),r(o)})}function Ig(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:tt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function xg(e){var n=Ig(e);n.next===null&&(n=e.alternate.memoizedState),Jo(e,n.next.queue,{},Tn())}function xf(){return qe(dl)}function Ng(){return pe().memoizedState}function Dg(){return pe().memoizedState}function g1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Tn();e=wr(r);var o=Rr(n,e,r);o!==null&&(cn(o,n,r),Fo(o,n,r)),n={cache:rf()},e.payload=n;return}n=n.return}}function y1(e,n,r){var o=Tn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Mg(n,r):(r=Qh(e,n,r,o),r!==null&&(cn(r,e,o),Vg(r,n,o)))}function Og(e,n,r){var o=Tn();Jo(e,n,r,o)}function Jo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Mg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,pn(E,p))return Cu(e,n,h,0),Wt===null&&Ru(),!1}catch{}if(r=Qh(e,n,h,o),r!==null)return cn(r,e,o),Vg(r,n,o),!0}return!1}function Nf(e,n,r,o){if(o={lane:2,revertLane:ld(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(a(479))}else n=Qh(e,r,o,2),n!==null&&cn(n,e,2)}function Ku(e){var n=e.alternate;return e===At||n!==null&&n===At}function Mg(e,n){Ca=ju=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Vg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,_o(e,r)}}var $o={readContext:qe,use:Hu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};$o.useEffectEvent=ce;var kg={readContext:qe,use:Hu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:_g,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Fu(4194308,4,bg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var r=nn();n=n===void 0?null:n;var o=e();if(Us){wn(!0);try{e()}finally{wn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=nn();if(r!==void 0){var h=r(n);if(Us){wn(!0);try{r(n)}finally{wn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=y1.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Sf(e);var n=e.queue,r=Og.bind(null,At,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Rf,useDeferredValue:function(e,n){var r=nn();return Cf(r,e,n)},useTransition:function(){var e=Sf(!1);return e=Cg.bind(null,At,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=At,h=nn();if(Ut){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Wt===null)throw Error(a(349));(Nt&127)!==0||ng(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,_g(rg.bind(null,o,f,e),[e]),o.flags|=2048,xa(9,{destroy:void 0},ig.bind(null,o,f,r,n),null),r},useId:function(){var e=nn(),n=Wt.identifierPrefix;if(Ut){var r=bi,o=Ti;r=(o&~(1<<32-fe(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Bu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=c1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:xf,useFormState:dg,useActionState:dg,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Nf.bind(null,At,!0,r),r.dispatch=n,[e,n]},useMemoCache:Ef,useCacheRefresh:function(){return nn().memoizedState=g1.bind(null,At)},useEffectEvent:function(e){var n=nn(),r={impl:e};return n.memoizedState=r,function(){if((Ht&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Df={readContext:qe,use:Hu,useCallback:Ag,useContext:qe,useEffect:wf,useImperativeHandle:Sg,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:wg,useReducer:Gu,useRef:yg,useState:function(){return Gu(Hi)},useDebugValue:Rf,useDeferredValue:function(e,n){var r=pe();return Rg(r,Jt.memoizedState,e,n)},useTransition:function(){var e=Gu(Hi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Xo(e),n]},useSyncExternalStore:eg,useId:Ng,useHostTransitionStatus:xf,useFormState:mg,useActionState:mg,useOptimistic:function(e,n){var r=pe();return og(r,Jt,e,n)},useMemoCache:Ef,useCacheRefresh:Dg};Df.useEffectEvent=vg;var Ug={readContext:qe,use:Hu,useCallback:Ag,useContext:qe,useEffect:wf,useImperativeHandle:Sg,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:wg,useReducer:bf,useRef:yg,useState:function(){return bf(Hi)},useDebugValue:Rf,useDeferredValue:function(e,n){var r=pe();return Jt===null?Cf(r,e,n):Rg(r,Jt.memoizedState,e,n)},useTransition:function(){var e=bf(Hi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Xo(e),n]},useSyncExternalStore:eg,useId:Ng,useHostTransitionStatus:xf,useFormState:gg,useActionState:gg,useOptimistic:function(e,n){var r=pe();return Jt!==null?og(r,Jt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Dg};Ug.useEffectEvent=vg;function Of(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Mf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Tn(),h=wr(o);h.payload=n,r!=null&&(h.callback=r),n=Rr(e,h,o),n!==null&&(cn(n,e,o),Fo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Tn(),h=wr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Rr(e,h,o),n!==null&&(cn(n,e,o),Fo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Tn(),o=wr(r);o.tag=2,n!=null&&(o.callback=n),n=Rr(e,o,r),n!==null&&(cn(n,e,r),Fo(n,e,r))}};function Lg(e,n,r,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Lo(r,o)||!Lo(h,f):!0}function Pg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Mf.enqueueReplaceState(n,n.state,null)}function Ls(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function zg(e){wu(e)}function jg(e){console.error(e)}function Bg(e){wu(e)}function Yu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function qg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(e,n,r){return r=wr(r),r.tag=3,r.payload={element:null},r.callback=function(){Yu(e,n)},r}function Hg(e){return e=wr(e),e.tag=3,e}function Gg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){qg(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){qg(n,r,o),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function _1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ta(n,r,h,!0),r=yn.current,r!==null){switch(r.tag){case 31:case 13:return kn===null?ac():r.alternate===null&&he===0&&(he=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===ku?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),sd(e,o,h)),!1;case 22:return r.flags|=65536,o===ku?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),sd(e,o,h)),!1}throw Error(a(435,r.tag))}return sd(e,o,h),ac(),!1}if(Ut)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Zh&&(e=Error(a(422),{cause:o}),jo(Dn(e,r)))):(o!==Zh&&(n=Error(a(423),{cause:o}),jo(Dn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,r),h=Vf(e.stateNode,o,h),cf(e,h),he!==4&&(he=2)),!1;var f=Error(a(520),{cause:o});if(f=Dn(f,r),sl===null?sl=[f]:sl.push(f),he!==4&&(he=2),n===null)return!0;o=Dn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Vf(r.stateNode,o,e),cf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Or===null||!Or.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Hg(h),Gg(h,e,r,o),cf(r,h),!1}r=r.return}while(r!==null);return!1}var kf=Error(a(461)),we=!1;function He(e,n,r,o){n.child=e===null?Yp(n,null,r,o):ks(n,e.child,r,o)}function Fg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Ds(n),o=gf(e,n,r,p,f,h),E=yf(),e!==null&&!we?(_f(e,n,h),Gi(e,n,h)):(Ut&&E&&Jh(n),n.flags|=1,He(e,n,o,h),n.child)}function Qg(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Kg(e,n,f,o,h)):(e=xu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Hf(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Lo,r(p,o)&&e.ref===n.ref)return Gi(e,n,h)}return n.flags|=1,e=Pi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Kg(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Lo(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,Hf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,Gi(e,n,h)}return Uf(e,n,r,o,h)}function Yg(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Xg(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?$p(n,f):ff(),Zp(n);else return o=n.lanes=536870912,Xg(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Mu(n,f.cachePool),$p(n,f),Ir(),n.memoizedState=null):(e!==null&&Mu(n,null),ff(),Ir());return He(e,n,h,r),n.child}function Zo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Xg(e,n,r,o,h){var f=af();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Mu(n,null),ff(),Zp(n),e!==null&&Ta(e,n,o,!0),n.childLanes=h,null}function Xu(e,n){return n=$u({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Jg(e,n,r){return ks(n,e.child,null,r),e=Xu(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function v1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=Xu(n,o),n.lanes=536870912,Zo(null,e);if(mf(n),(e=ne)?(e=l_(e,Vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Er!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},r=Mp(e),r.return=n,n.child=r,Be=n,ne=null)):e=null,e===null)throw br(n);return n.lanes=536870912,null}return Xu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=Jg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||Ta(e,n,r,!1),h=(r&e.childLanes)!==0,we||h){if(o=Wt,o!==null&&(p=vo(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Cs(e,p),cn(o,e,p),kf;ac(),n=Jg(e,n,r)}else e=f.treeContext,ne=Un(p.nextSibling),Be=n,Ut=!0,Tr=null,Vn=!1,e!==null&&Up(n,e),n=Xu(n,o),n.flags|=4096;return n}return e=Pi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Uf(e,n,r,o,h){return Ds(n),r=gf(e,n,r,o,void 0,h),o=yf(),e!==null&&!we?(_f(e,n,h),Gi(e,n,h)):(Ut&&o&&Jh(n),n.flags|=1,He(e,n,r,h),n.child)}function $g(e,n,r,o,h,f){return Ds(n),n.updateQueue=null,r=tg(n,o,r,h),Wp(e),o=yf(),e!==null&&!we?(_f(e,n,f),Gi(e,n,f)):(Ut&&o&&Jh(n),n.flags|=1,He(e,n,r,f),n.child)}function Zg(e,n,r,o,h){if(Ds(n),n.stateNode===null){var f=ya,p=r.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},lf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?qe(p):ya,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Of(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Mf.enqueueReplaceState(f,f.state,null),Ko(n,o,f,h),Qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Ls(r,E);f.props=R;var z=f.context,G=r.contextType;p=ya,typeof G=="object"&&G!==null&&(p=qe(G));var X=r.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Pg(n,f,o,p),Ar=!1;var j=n.memoizedState;f.state=j,Ko(n,o,f,h),Qo(),z=n.memoizedState,E||j!==z||Ar?(typeof X=="function"&&(Of(n,r,X,o),z=n.memoizedState),(R=Ar||Lg(n,r,R,o,j,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,uf(e,n),p=n.memoizedProps,G=Ls(r,p),f.props=G,X=n.pendingProps,j=f.context,z=r.contextType,R=ya,typeof z=="object"&&z!==null&&(R=qe(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||j!==R)&&Pg(n,f,o,R),Ar=!1,j=n.memoizedState,f.state=j,Ko(n,o,f,h),Qo();var q=n.memoizedState;p!==X||j!==q||Ar||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof E=="function"&&(Of(n,r,E,o),q=n.memoizedState),(G=Ar||Lg(n,r,G,o,j,q,R)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ks(n,e.child,null,h),n.child=ks(n,null,r,h)):He(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Gi(e,n,h),e}function Wg(e,n,r,o){return xs(),n.flags|=256,He(e,n,r,o),n.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(e){return{baseLanes:e,cachePool:qp()}}function zf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=En),e}function ty(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Cr(n):Ir(),(e=ne)?(e=l_(e,Vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Er!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},r=Mp(e),r.return=n,n.child=r,Be=n,ne=null)):e=null,e===null)throw br(n);return Td(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ir(),h=n.mode,E=$u({mode:"hidden",children:E},h),o=Is(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Pf(r),o.childLanes=zf(e,p,r),n.memoizedState=Lf,Zo(null,o)):(Cr(n),jf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Cr(n),n.flags&=-257,n=Bf(e,n,r)):n.memoizedState!==null?(Ir(),n.child=e.child,n.flags|=128,n=null):(Ir(),E=o.fallback,h=n.mode,o=$u({mode:"visible",children:o.children},h),E=Is(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,ks(n,e.child,null,r),o=n.child,o.memoizedState=Pf(r),o.childLanes=zf(e,p,r),n.memoizedState=Lf,n=Zo(null,o));else if(Cr(n),Td(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,jo({value:o,source:null,stack:null}),n=Bf(e,n,r)}else if(we||Ta(e,n,r,!1),p=(r&e.childLanes)!==0,we||p){if(p=Wt,p!==null&&(o=vo(p,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,Cs(e,o),cn(p,e,o),kf;Ed(E)||ac(),n=Bf(e,n,r)}else Ed(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ne=Un(E.nextSibling),Be=n,Ut=!0,Tr=null,Vn=!1,e!==null&&Up(n,e),n=jf(n,o.children),n.flags|=4096);return n}return h?(Ir(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Pi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Pi(z,E):(E=Is(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Zo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Pf(r):(h=E.cachePool,h!==null?(R=Se._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=qp(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=zf(e,p,r),n.memoizedState=Lf,Zo(e.child,o)):(Cr(n),r=e.child,e=r.sibling,r=Pi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function jf(e,n){return n=$u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $u(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Bf(e,n,r){return ks(n,e.child,null,r),e=jf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ey(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),ef(e.return,n,r)}function qf(e,n,r,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function ny(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=me.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,W(me,p),He(e,n,o,r),o=Ut?zo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ey(e,r,n);else if(e.tag===19)ey(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&zu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),qf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}qf(n,!0,r,null,f,o);break;case"together":qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Gi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Dr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ta(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Pi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Pi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Hf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function E1(e,n,r){switch(n.tag){case 3:xe(n,n.stateNode.containerInfo),Sr(n,Se,e.memoizedState.cache),xs();break;case 27:case 5:us(n);break;case 4:xe(n,n.stateNode.containerInfo);break;case 10:Sr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Cr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ty(e,n,r):(Cr(n),e=Gi(e,n,r),e!==null?e.sibling:null);Cr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ta(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return ny(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(me,me.current),o)break;return null;case 22:return n.lanes=0,Yg(e,n,r,n.pendingProps);case 24:Sr(n,Se,e.memoizedState.cache)}return Gi(e,n,r)}function iy(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Hf(e,r)&&(n.flags&128)===0)return we=!1,E1(e,n,r);we=(e.flags&131072)!==0}else we=!1,Ut&&(n.flags&1048576)!==0&&kp(n,zo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ms(n.elementType),n.type=e,typeof e=="function")Kh(e)?(o=Ls(e,o),n.tag=1,n=Zg(null,n,e,o,r)):(n.tag=0,n=Uf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===_t){n.tag=11,n=Fg(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Qg(null,n,e,o,r);break t}}throw n=te(e)||e,Error(a(306,n,""))}}return n;case 0:return Uf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Ls(o,n.pendingProps),Zg(e,n,o,h,r);case 3:t:{if(xe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,uf(e,n),Ko(n,o,null,r);var p=n.memoizedState;if(o=p.cache,Sr(n,Se,o),o!==f.cache&&nf(n,[Se],r,!0),Qo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Wg(e,n,o,r);break t}else if(o!==h){h=Dn(Error(a(424)),n),jo(h),n=Wg(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=Un(e.firstChild),Be=n,Ut=!0,Tr=null,Vn=!0,r=Yp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(xs(),o===h){n=Gi(e,n,r);break t}He(e,n,o,r)}n=n.child}return n;case 26:return Ju(e,n),e===null?(r=m_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ut||(r=n.type,e=n.pendingProps,o=dc(wt.current).createElement(r),o[Ee]=n,o[Ve]=e,Ge(o,r,e),Te(o),n.stateNode=o):n.memoizedState=m_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return us(n),e===null&&Ut&&(o=n.stateNode=h_(n.type,n.pendingProps,wt.current),Be=n,Vn=!0,h=ne,Ur(n.type)?(bd=h,ne=Un(o.firstChild)):ne=h),He(e,n,n.pendingProps.children,r),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=ne)&&(o=J1(o,n.type,n.pendingProps,Vn),o!==null?(n.stateNode=o,Be=n,ne=Un(o.firstChild),Vn=!1,h=!0):h=!1),h||br(n)),us(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,yd(h,f)?o=null:p!==null&&yd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(e,n,h1,null,null,r),dl._currentValue=h),Ju(e,n),He(e,n,o,r),n.child;case 6:return e===null&&Ut&&((e=r=ne)&&(r=$1(r,n.pendingProps,Vn),r!==null?(n.stateNode=r,Be=n,ne=null,e=!0):e=!1),e||br(n)),null;case 13:return ty(e,n,r);case 4:return xe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ks(n,null,o,r):He(e,n,o,r),n.child;case 11:return Fg(e,n,n.type,n.pendingProps,r);case 7:return He(e,n,n.pendingProps,r),n.child;case 8:return He(e,n,n.pendingProps.children,r),n.child;case 12:return He(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Sr(n,n.type,o.value),He(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ds(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,r),n.child;case 14:return Qg(e,n,n.type,n.pendingProps,r);case 15:return Kg(e,n,n.type,n.pendingProps,r);case 19:return ny(e,n,r);case 31:return v1(e,n,r);case 22:return Yg(e,n,r,n.pendingProps);case 24:return Ds(n),o=qe(Se),e===null?(h=af(),h===null&&(h=Wt,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},lf(n),Sr(n,Se,h)):((e.lanes&r)!==0&&(uf(e,n),Ko(n,null,null,r),Qo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Sr(n,Se,o)):(o=f.cache,Sr(n,Se,o),o!==h.cache&&nf(n,[Se],r,!0))),He(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Fi(e){e.flags|=4}function Gf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ny())e.flags|=8192;else throw Vs=ku,of}else e.flags&=-16777217}function ry(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!v_(n))if(Ny())e.flags|=8192;else throw Vs=ku,of}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,Ma|=n)}function Wo(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function T1(e,n,r){var o=n.pendingProps;switch($h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Bi(Se),ae(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ea(n)?Fi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Fi(n),f!==null?(ie(n),ry(n,f)):(ie(n),Gf(n,h,null,o,r))):f?f!==e.memoizedState?(Fi(n),ie(n),ry(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Fi(n),ie(n),Gf(n,h,e,o,r)),null;case 27:if(Zs(n),r=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=st.current,Ea(n)?Lp(n):(e=h_(h,o,r),n.stateNode=e,Fi(n))}return ie(n),null;case 5:if(Zs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(f=st.current,Ea(n))Lp(n);else{var p=dc(wt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ee]=n,f[Ve]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Fi(n)}}return ie(n),Gf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,Ea(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||t_(e.nodeValue,r)),e||br(n,!0)}else e=dc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return ie(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ea(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else r=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ea(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Zu(n,n.updateQueue),ie(n),null);case 4:return ae(),e===null&&fd(n.stateNode.containerInfo),ie(n),null;case 10:return Bi(n.type),ie(n),null;case 19:if(K(me),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Wo(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,Wo(o,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Op(r,e),r=r.sibling;return W(me,me.current&1|2),Ut&&zi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>ic&&(n.flags|=128,h=!0,Wo(o,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),Wo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ie(n),null}else 2*tn()-o.renderingStartTime>ic&&r!==536870912&&(n.flags|=128,h=!0,Wo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,r=me.current,W(me,h?r&1|2:r&1),Ut&&zi(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return _n(n),df(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&Zu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(Os),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Bi(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function b1(e,n){switch($h(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Bi(Se),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Zs(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));xs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));xs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(me),null;case 4:return ae(),null;case 10:return Bi(n.type),null;case 22:case 23:return _n(n),df(),e!==null&&K(Os),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Bi(Se),null;case 25:return null;default:return null}}function sy(e,n){switch($h(n),n.tag){case 3:Bi(Se),ae();break;case 26:case 27:case 5:Zs(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:K(me);break;case 10:Bi(n.type);break;case 22:case 23:_n(n),df(),e!==null&&K(Os);break;case 24:Bi(Se)}}function tl(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){Yt(n,n.return,E)}}function xr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=r,z=E;try{z()}catch(G){Yt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Yt(n,n.return,G)}}function ay(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Jp(n,r)}catch(o){Yt(e,e.return,o)}}}function oy(e,n,r){r.props=Ls(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Yt(e,n,o)}}function el(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Yt(e,n,h)}}function Si(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Yt(e,n,h)}else r.current=null}function ly(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Yt(e,e.return,h)}}function Ff(e,n,r){try{var o=e.stateNode;G1(o,e.type,r,n),o[Ve]=n}catch(h){Yt(e,e.return,h)}}function uy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ur(e.type)||e.tag===4}function Qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ur(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Fn));else if(o!==4&&(o===27&&Ur(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Kf(e,n,r),e=e.sibling;e!==null;)Kf(e,n,r),e=e.sibling}function Wu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Ur(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Wu(e,n,r),e=e.sibling;e!==null;)Wu(e,n,r),e=e.sibling}function cy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,r),n[Ee]=e,n[Ve]=r}catch(f){Yt(e,e.return,f)}}var Qi=!1,Re=!1,Yf=!1,hy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function S1(e,n){if(e=e.containerInfo,pd=Ec,e=Sp(e),jh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,R=-1,z=0,G=0,X=e,j=null;e:for(;;){for(var q;X!==r||h!==0&&X.nodeType!==3||(E=p+h),X!==f||o!==0&&X.nodeType!==3||(R=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(q=X.firstChild)!==null;)j=X,X=q;for(;;){if(X===e)break e;if(j===r&&++z===h&&(E=p),j===f&&++G===o&&(R=p),(q=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(gd={focusedElem:e,selectionRange:r},Ec=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ot=Ls(r.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Yt(r,r.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)vd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function fy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Yi(e,r),o&4&&tl(5,r);break;case 1:if(Yi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Yt(r,r.return,p)}else{var h=Ls(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Yt(r,r.return,p)}}o&64&&ay(r),o&512&&el(r,r.return);break;case 3:if(Yi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Jp(e,n)}catch(p){Yt(r,r.return,p)}}break;case 27:n===null&&o&4&&cy(r);case 26:case 5:Yi(e,r),n===null&&o&4&&ly(r),o&512&&el(r,r.return);break;case 12:Yi(e,r);break;case 31:Yi(e,r),o&4&&py(e,r);break;case 13:Yi(e,r),o&4&&gy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=O1.bind(null,r),Z1(e,r))));break;case 22:if(o=r.memoizedState!==null||Qi,!o){n=n!==null&&n.memoizedState!==null||Re,h=Qi;var f=Re;Qi=o,(Re=n)&&!f?Xi(e,r,(r.subtreeFlags&8772)!==0):Yi(e,r),Qi=h,Re=f}break;case 30:break;default:Yi(e,r)}}function dy(e){var n=e.alternate;n!==null&&(e.alternate=null,dy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ia(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,an=!1;function Ki(e,n,r){for(r=r.child;r!==null;)my(e,n,r),r=r.sibling}function my(e,n,r){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Bn,r)}catch{}switch(r.tag){case 26:Re||Si(r,n),Ki(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Re||Si(r,n);var o=le,h=an;Ur(r.type)&&(le=r.stateNode,an=!1),Ki(e,n,r),cl(r.stateNode),le=o,an=h;break;case 5:Re||Si(r,n);case 6:if(o=le,h=an,le=null,Ki(e,n,r),le=o,an=h,le!==null)if(an)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(r.stateNode)}catch(f){Yt(r,n,f)}else try{le.removeChild(r.stateNode)}catch(f){Yt(r,n,f)}break;case 18:le!==null&&(an?(e=le,a_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ba(e)):a_(le,r.stateNode));break;case 4:o=le,h=an,le=r.stateNode.containerInfo,an=!0,Ki(e,n,r),le=o,an=h;break;case 0:case 11:case 14:case 15:xr(2,r,n),Re||xr(4,r,n),Ki(e,n,r);break;case 1:Re||(Si(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&oy(r,n,o)),Ki(e,n,r);break;case 21:Ki(e,n,r);break;case 22:Re=(o=Re)||r.memoizedState!==null,Ki(e,n,r),Re=o;break;default:Ki(e,n,r)}}function py(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(r){Yt(n,n.return,r)}}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(r){Yt(n,n.return,r)}}function A1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new hy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new hy),n;default:throw Error(a(435,e.tag))}}function tc(e,n){var r=A1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=M1.bind(null,e,o);o.then(h,h)}})}function on(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ur(E.type)){le=E.stateNode,an=!1;break t}break;case 5:le=E.stateNode,an=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(le===null)throw Error(a(160));my(f,p,h),le=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)yy(n,e),n=n.sibling}var $n=null;function yy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(xr(3,e,e.return),tl(3,e),xr(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(Re||r===null||Si(r,r.return)),o&64&&Qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=$n;if(on(n,e),ln(e),o&512&&(Re||r===null||Si(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ui]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,r),f[Ee]=e,Te(f),o=f;break t;case"link":var p=y_("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,r),h.head.appendChild(f);break;case"meta":if(p=y_("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else __(h,e.type,e.stateNode);else e.stateNode=g_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?__(h,e.type,e.stateNode):g_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,r.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(Re||r===null||Si(r,r.return)),r!==null&&o&4&&Ff(e,e.memoizedProps,r.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(Re||r===null||Si(r,r.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(ot){Yt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Yf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ot){Yt(e,e.return,ot)}}break;case 3:if(gc=null,h=$n,$n=mc(n.containerInfo),on(n,e),$n=h,ln(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(ot){Yt(e,e.return,ot)}Yf&&(Yf=!1,_y(e));break;case 4:o=$n,$n=mc(e.stateNode.containerInfo),on(n,e),ln(e),$n=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(nc=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=Qi,G=Re;if(Qi=z||h,Re=G||R,on(n,e),Re=G,Qi=z,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||Qi||Re||Ps(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Yt(R,R.return,ot)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){Yt(R,R.return,ot)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?o_(q,!0):o_(R.stateNode,!1)}catch(ot){Yt(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,tc(e,r))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(uy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Qf(e);Wu(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(sn(p,""),r.flags&=-33);var E=Qf(e);Wu(e,E,p);break;case 3:case 4:var R=r.stateNode.containerInfo,z=Qf(e);Kf(e,z,R);break;default:throw Error(a(161))}}catch(G){Yt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function _y(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;_y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Yi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fy(e,n.alternate,n),n=n.sibling}function Ps(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:xr(4,n,n.return),Ps(n);break;case 1:Si(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&oy(n,n.return,r),Ps(n);break;case 27:cl(n.stateNode);case 26:case 5:Si(n,n.return),Ps(n);break;case 22:n.memoizedState===null&&Ps(n);break;case 30:Ps(n);break;default:Ps(n)}e=e.sibling}}function Xi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(h,f,r),tl(4,f);break;case 1:if(Xi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Xp(R[h],E)}catch(z){Yt(o,o.return,z)}}r&&p&64&&ay(f),el(f,f.return);break;case 27:cy(f);case 26:case 5:Xi(h,f,r),r&&o===null&&p&4&&ly(f),el(f,f.return);break;case 12:Xi(h,f,r);break;case 31:Xi(h,f,r),r&&p&4&&py(h,f);break;case 13:Xi(h,f,r),r&&p&4&&gy(h,f);break;case 22:f.memoizedState===null&&Xi(h,f,r),el(f,f.return);break;case 30:break;default:Xi(h,f,r)}n=n.sibling}}function Xf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Bo(r))}function Jf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e))}function Zn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vy(e,n,r,o),n=n.sibling}function vy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(e,n,r,o),h&2048&&tl(9,n);break;case 1:Zn(e,n,r,o);break;case 3:Zn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e)));break;case 12:if(h&2048){Zn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Yt(n,n.return,R)}}else Zn(e,n,r,o);break;case 31:Zn(e,n,r,o);break;case 13:Zn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(e,n,r,o):nl(e,n):f._visibility&2?Zn(e,n,r,o):(f._visibility|=2,Na(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(p,n);break;case 24:Zn(e,n,r,o),h&2048&&Jf(n.alternate,n);break;default:Zn(e,n,r,o)}}function Na(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=r,R=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Na(f,p,E,R,h),tl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Na(f,p,E,R,h):nl(f,p):(G._visibility|=2,Na(f,p,E,R,h)),h&&z&2048&&Xf(p.alternate,p);break;case 24:Na(f,p,E,R,h),h&&z&2048&&Jf(p.alternate,p);break;default:Na(f,p,E,R,h)}n=n.sibling}}function nl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:nl(r,o),h&2048&&Xf(o.alternate,o);break;case 24:nl(r,o),h&2048&&Jf(o.alternate,o);break;default:nl(r,o)}n=n.sibling}}var il=8192;function Da(e,n,r){if(e.subtreeFlags&il)for(e=e.child;e!==null;)Ey(e,n,r),e=e.sibling}function Ey(e,n,r){switch(e.tag){case 26:Da(e,n,r),e.flags&il&&e.memoizedState!==null&&cb(r,$n,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,r);break;case 3:case 4:var o=$n;$n=mc(e.stateNode.containerInfo),Da(e,n,r),$n=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=il,il=16777216,Da(e,n,r),il=o):Da(e,n,r));break;default:Da(e,n,r)}}function Ty(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,Sy(o,e)}Ty(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)by(e),e=e.sibling}function by(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&xr(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):rl(e);break;default:rl(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,Sy(o,e)}Ty(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:xr(8,n,n.return),ec(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function Sy(e,n){for(;Ue!==null;){var r=Ue;switch(r.tag){case 0:case 11:case 15:xr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Bo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ue=o;else t:for(r=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(dy(o),o===r){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var w1={getCacheForType:function(e){var n=qe(Se),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return qe(Se).controller.signal}},R1=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Wt=null,It=null,Nt=0,Kt=0,vn=null,Nr=!1,Oa=!1,$f=!1,Ji=0,he=0,Dr=0,zs=0,Zf=0,En=0,Ma=0,sl=null,un=null,Wf=!1,nc=0,Ay=0,ic=1/0,rc=null,Or=null,De=0,Mr=null,Va=null,$i=0,td=0,ed=null,wy=null,al=0,nd=null;function Tn(){return(Ht&2)!==0&&Nt!==0?Nt&-Nt:H.T!==null?ld():su()}function Ry(){if(En===0)if((Nt&536870912)===0||Ut){var e=fs;fs<<=1,(fs&3932160)===0&&(fs=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,r){(e===Wt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),Vr(e,Nt,En,!1)),ds(e,r),((Ht&2)===0||e!==Wt)&&(e===Wt&&((Ht&2)===0&&(zs|=r),he===4&&Vr(e,Nt,En,!1)),Ai(e))}function Cy(e,n,r){if((Ht&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||qn(e,n),h=o?x1(e,n):rd(e,n,!0),f=o;do{if(h===0){Oa&&!o&&Vr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!C1(r)){h=rd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=sl;var R=E.current.memoizedState.isDehydrated;if(R&&(ka(E,p).flags|=256),p=rd(E,p,!1),p!==2){if($f&&!R){E.errorRecoveryDisabledLanes|=f,zs|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){ka(e,0),Vr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Vr(o,n,En,!Nr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-tn(),10<h)){if(Vr(o,n,En,!Nr),ai(o,0,!0)!==0)break t;$i=n,o.timeoutHandle=r_(Iy.bind(null,o,r,un,rc,Wf,n,En,zs,Ma,Nr,f,"Throttled",-0,0),h);break t}Iy(o,r,un,rc,Wf,n,En,zs,Ma,Nr,f,null,-0,0)}}break}while(!0);Ai(e)}function Iy(e,n,r,o,h,f,p,E,R,z,G,X,j,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},Ey(n,f,X);var ot=(f&62914560)===f?nc-tn():(f&4194048)===f?Ay-tn():0;if(ot=hb(X,ot),ot!==null){$i=f,e.cancelPendingCommit=ot(Uy.bind(null,e,n,f,r,o,h,p,E,R,G,X,null,j,q)),Vr(e,f,p,!z);return}}Uy(e,n,f,r,o,h,p,E,R)}function C1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vr(e,n,r,o){n&=~Zf,n&=~zs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&ms(e,r,n)}function sc(){return(Ht&6)===0?(ol(0),!1):!0}function id(){if(It!==null){if(Kt===0)var e=It.return;else e=It,ji=Ns=null,vf(e),wa=null,Ho=0,e=It;for(;e!==null;)sy(e.alternate,e),e=e.return;It=null}}function ka(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,K1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),$i=0,id(),Wt=e,It=r=Pi(e.current,null),Nt=n,Kt=0,vn=null,Nr=!1,Oa=qn(e,n),$f=!1,Ma=En=Zf=zs=Dr=he=0,un=sl=null,Wf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Ji=n,Ru(),r}function xy(e,n){At=null,H.H=$o,n===Aa||n===Vu?(n=Fp(),Kt=3):n===of?(n=Fp(),Kt=4):Kt=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,It===null&&(he=1,Yu(e,Dn(n,e.current)))}function Ny(){var e=yn.current;return e===null?!0:(Nt&4194048)===Nt?kn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===kn:!1}function Dy(){var e=H.H;return H.H=$o,e===null?$o:e}function Oy(){var e=H.A;return H.A=w1,e}function ac(){he=4,Nr||(Nt&4194048)!==Nt&&yn.current!==null||(Oa=!0),(Dr&134217727)===0&&(zs&134217727)===0||Wt===null||Vr(Wt,Nt,En,!1)}function rd(e,n,r){var o=Ht;Ht|=2;var h=Dy(),f=Oy();(Wt!==e||Nt!==n)&&(rc=null,ka(e,n)),n=!1;var p=he;t:do try{if(Kt!==0&&It!==null){var E=It,R=vn;switch(Kt){case 8:id(),p=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var z=Kt;if(Kt=0,vn=null,Ua(e,E,R,z),r&&Oa){p=0;break t}break;default:z=Kt,Kt=0,vn=null,Ua(e,E,R,z)}}I1(),p=he;break}catch(G){xy(e,G)}while(!0);return n&&e.shellSuspendCounter++,ji=Ns=null,Ht=o,H.H=h,H.A=f,It===null&&(Wt=null,Nt=0,Ru()),p}function I1(){for(;It!==null;)My(It)}function x1(e,n){var r=Ht;Ht|=2;var o=Dy(),h=Oy();Wt!==e||Nt!==n?(rc=null,ic=tn()+500,ka(e,n)):Oa=qn(e,n);t:do try{if(Kt!==0&&It!==null){n=It;var f=vn;e:switch(Kt){case 1:Kt=0,vn=null,Ua(e,n,f,1);break;case 2:case 9:if(Hp(f)){Kt=0,vn=null,Vy(n);break}n=function(){Kt!==2&&Kt!==9||Wt!==e||(Kt=7),Ai(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Hp(f)?(Kt=0,vn=null,Vy(n)):(Kt=0,vn=null,Ua(e,n,f,7));break;case 5:var p=null;switch(It.tag){case 26:p=It.memoizedState;case 5:case 27:var E=It;if(p?v_(p):E.stateNode.complete){Kt=0,vn=null;var R=E.sibling;if(R!==null)It=R;else{var z=E.return;z!==null?(It=z,oc(z)):It=null}break e}}Kt=0,vn=null,Ua(e,n,f,5);break;case 6:Kt=0,vn=null,Ua(e,n,f,6);break;case 8:id(),he=6;break t;default:throw Error(a(462))}}N1();break}catch(G){xy(e,G)}while(!0);return ji=Ns=null,H.H=o,H.A=h,Ht=r,It!==null?0:(Wt=null,Nt=0,Ru(),he)}function N1(){for(;It!==null&&!Mh();)My(It)}function My(e){var n=iy(e.alternate,e,Ji);e.memoizedProps=e.pendingProps,n===null?oc(e):It=n}function Vy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=$g(r,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=$g(r,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:vf(n);default:sy(r,n),n=It=Op(n,Ji),n=iy(r,n,Ji)}e.memoizedProps=e.pendingProps,n===null?oc(e):It=n}function Ua(e,n,r,o){ji=Ns=null,vf(n),wa=null,Ho=0;var h=n.return;try{if(_1(e,h,n,r,Nt)){he=1,Yu(e,Dn(r,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;he=1,Yu(e,Dn(r,e.current)),It=null;return}n.flags&32768?(Ut||o===1?e=!0:Oa||(Nt&536870912)!==0?e=!1:(Nr=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),ky(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){ky(n,Nr);return}e=n.return;var r=T1(n.alternate,n,Ji);if(r!==null){It=r;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);he===0&&(he=5)}function ky(e,n){do{var r=b1(e.alternate,e);if(r!==null){r.flags&=32767,It=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=r}while(e!==null);he=6,It=null}function Uy(e,n,r,o,h,f,p,E,R){e.cancelPendingCommit=null;do lc();while(De!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Fh,Uh(e,r,f,p,E,R),e===Wt&&(It=Wt=null,Nt=0),Va=n,Mr=e,$i=r,td=f,ed=h,wy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,V1(cr,function(){return By(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=Q.p,Q.p=2,p=Ht,Ht|=4;try{S1(e,n,r)}finally{Ht=p,Q.p=h,H.T=o}}De=1,Ly(),Py(),zy()}}function Ly(){if(De===1){De=0;var e=Mr,n=Va,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=Q.p;Q.p=2;var h=Ht;Ht|=4;try{yy(n,e);var f=gd,p=Sp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&bp(E.ownerDocument.documentElement,E)){if(R!==null&&jh(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,pt=Math.min(R.start,ot),Zt=R.end===void 0?pt:Math.min(R.end,ot);!q.extend&&pt>Zt&&(p=Zt,Zt=pt,pt=p);var k=Tp(E,pt),O=Tp(E,Zt);if(k&&O&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=X.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),pt>Zt?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ec=!!pd,gd=pd=null}finally{Ht=h,Q.p=o,H.T=r}}e.current=n,De=2}}function Py(){if(De===2){De=0;var e=Mr,n=Va,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=Q.p;Q.p=2;var h=Ht;Ht|=4;try{fy(e,n.alternate,n)}finally{Ht=h,Q.p=o,H.T=r}}De=3}}function zy(){if(De===4||De===3){De=0,Zl();var e=Mr,n=Va,r=$i,o=wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Va=Mr=null,jy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Or=null),Vi(r),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Bn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=Q.p,Q.p=2,H.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,Q.p=h}}($i&3)!==0&&lc(),Ai(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===nd?al++:(al=0,nd=e):al=0,ol(0)}}function jy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Bo(n)))}function lc(){return Ly(),Py(),zy(),By()}function By(){if(De!==5)return!1;var e=Mr,n=td;td=0;var r=Vi($i),o=H.T,h=Q.p;try{Q.p=32>r?32:r,H.T=null,r=ed,ed=null;var f=Mr,p=$i;if(De=0,Va=Mr=null,$i=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,by(f.current),vy(f,f.current,p,r),Ht=E,ol(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Bn,f)}catch{}return!0}finally{Q.p=h,H.T=o,jy(e,n)}}function qy(e,n,r){n=Dn(r,n),n=Vf(e.stateNode,n,2),e=Rr(e,n,2),e!==null&&(ds(e,2),Ai(e))}function Yt(e,n,r){if(e.tag===3)qy(e,e,r);else for(;n!==null;){if(n.tag===3){qy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Or===null||!Or.has(o))){e=Dn(r,e),r=Hg(2),o=Rr(n,r,2),o!==null&&(Gg(r,o,n,e),ds(o,2),Ai(o));break}}n=n.return}}function sd(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new R1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||($f=!0,h.add(r),e=D1.bind(null,e,n,r),n.then(e,e))}function D1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Wt===e&&(Nt&r)===r&&(he===4||he===3&&(Nt&62914560)===Nt&&300>tn()-nc?(Ht&2)===0&&ka(e,0):Zf|=r,Ma===Nt&&(Ma=0)),Ai(e)}function Hy(e,n){n===0&&(n=ru()),e=Cs(e,n),e!==null&&(ds(e,n),Ai(e))}function O1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Hy(e,r)}function M1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Hy(e,r)}function V1(e,n){return Ne(e,n)}var uc=null,La=null,ad=!1,cc=!1,od=!1,kr=0;function Ai(e){e!==La&&e.next===null&&(La===null?uc=La=e:La=La.next=e),cc=!0,ad||(ad=!0,U1())}function ol(e,n){if(!od&&cc){od=!0;do for(var r=!1,o=uc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Ky(o,f))}else f=Nt,f=ai(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||qn(o,f)||(r=!0,Ky(o,f));o=o.next}while(r);od=!1}}function k1(){Gy()}function Gy(){cc=ad=!1;var e=0;kr!==0&&Q1()&&(e=kr);for(var n=tn(),r=null,o=uc;o!==null;){var h=o.next,f=Fy(o,n);f===0?(o.next=null,r===null?uc=h:r.next=h,h===null&&(La=r)):(r=o,(e!==0||(f&3)!==0)&&(cc=!0)),o=h}De!==0&&De!==5||ol(e),kr!==0&&(kr=0)}function Fy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-fe(f),E=1<<p,R=h[p];R===-1?((E&r)===0||(E&o)!==0)&&(h[p]=kh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,r=Nt,r=ai(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ur(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||qn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&ur(o),Vi(r)){case 2:case 8:r=yo;break;case 32:r=cr;break;case 268435456:r=Wl;break;default:r=cr}return o=Qy.bind(null,e),r=Ne(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&ur(o),e.callbackPriority=2,e.callbackNode=null,2}function Qy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(lc()&&e.callbackNode!==r)return null;var o=Nt;return o=ai(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Cy(e,o,n),Fy(e,tn()),e.callbackNode!=null&&e.callbackNode===r?Qy.bind(null,e):null)}function Ky(e,n){if(lc())return null;Cy(e,n,!0)}function U1(){Y1(function(){(Ht&6)!==0?Ne(go,k1):Gy()})}function ld(){if(kr===0){var e=ba;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),kr=e}return kr}function Yy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function Xy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function L1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Yy((h[Ve]||null).action),p=o.submitter;p&&(n=(n=p[Ve]||null)?Yy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new yi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(kr!==0){var R=p?Xy(h,p):new FormData(h);If(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?Xy(h,p):new FormData(h),If(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ud=0;ud<Gh.length;ud++){var cd=Gh[ud],P1=cd.toLowerCase(),z1=cd[0].toUpperCase()+cd.slice(1);Jn(P1,"on"+z1)}Jn(Rp,"onAnimationEnd"),Jn(Cp,"onAnimationIteration"),Jn(Ip,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(e1,"onTransitionRun"),Jn(n1,"onTransitionStart"),Jn(i1,"onTransitionCancel"),Jn(xp,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function Jy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){wu(G)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){wu(G)}h.currentTarget=null,f=R}}}}function xt(e,n){var r=n[na];r===void 0&&(r=n[na]=new Set);var o=e+"__bubble";r.has(o)||($y(n,e,2,!1),r.add(o))}function hd(e,n,r){var o=0;n&&(o|=4),$y(r,e,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function fd(e){if(!e[hc]){e[hc]=!0,Eo.forEach(function(r){r!=="selectionchange"&&(j1.has(r)||hd(r,!1,e),hd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,hd("selectionchange",!1,n))}}function $y(e,n,r,o){switch(R_(n)){case 2:var h=mb;break;case 8:h=pb;break;default:h=Cd}r=h.bind(null,n,r,e),h=void 0,!vs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function dd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ci(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}E=E.parentNode}}o=o.return}gr(function(){var z=f,G=Cn(r),X=[];t:{var j=Np.get(e);if(j!==void 0){var q=yi,ot=e;switch(e){case"keypress":if(Ts(r)===0)break t;case"keydown":case"keyup":q=bu;break;case"focusin":ot="focus",q=Ss;break;case"focusout":ot="blur",q=Ss;break;case"beforeblur":case"afterblur":q=Ss;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Rp:case Cp:case Ip:q=pu;break;case xp:q=T;break;case"scroll":case"scrollend":q=Oo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Li;break;case"toggle":case"beforetoggle":q=St}var pt=(n&4)!==0,Zt=!pt&&(e==="scroll"||e==="scrollend"),k=pt?j!==null?j+"Capture":null:j;pt=[];for(var O=z,P;O!==null;){var Y=O;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=Qn(O,k),Y!=null&&pt.push(ul(O,Y,P))),Zt)break;O=O.return}0<pt.length&&(j=new q(j,ot,null,r,G),X.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&r!==xo&&(ot=r.relatedTarget||r.fromElement)&&(ci(ot)||ot[li]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=r.relatedTarget||r.toElement,q=z,ot=ot?ci(ot):null,ot!==null&&(Zt=c(ot),pt=ot.tag,ot!==Zt||pt!==5&&pt!==27&&pt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(pt=Mo,Y="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Li,Y="onPointerLeave",k="onPointerEnter",O="pointer"),Zt=q==null?j:dn(q),P=ot==null?j:dn(ot),j=new pt(Y,O+"leave",q,r,G),j.target=Zt,j.relatedTarget=P,Y=null,ci(G)===z&&(pt=new pt(k,O+"enter",ot,r,G),pt.target=P,pt.relatedTarget=Zt,Y=pt),Zt=Y,q&&ot)e:{for(pt=B1,k=q,O=ot,P=0,Y=k;Y;Y=pt(Y))P++;Y=0;for(var ht=O;ht;ht=pt(ht))Y++;for(;0<P-Y;)k=pt(k),P--;for(;0<Y-P;)O=pt(O),Y--;for(;P--;){if(k===O||O!==null&&k===O.alternate){pt=k;break e}k=pt(k),O=pt(O)}pt=null}else pt=null;q!==null&&Zy(X,j,q,pt,!1),ot!==null&&Zt!==null&&Zy(X,Zt,ot,pt,!0)}}t:{if(j=z?dn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var zt=pp;else if(dp(j))if(gp)zt=ZT;else{zt=JT;var ct=XT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&aa(z.elementType)&&(zt=pp):zt=$T;if(zt&&(zt=zt(e,z))){mp(X,zt,r,G);break t}ct&&ct(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Ro(j,"number",j.value)}switch(ct=z?dn(z):window,e){case"focusin":(dp(ct)||ct.contentEditable==="true")&&(ma=ct,Bh=z,Po=null);break;case"focusout":Po=Bh=ma=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Ap(X,r,G);break;case"selectionchange":if(t1)break;case"keydown":case"keyup":Ap(X,r,G)}var Rt;if(qt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else da?As(e,r)&&(Dt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Dt="onCompositionStart");Dt&&(Ei&&r.locale!=="ko"&&(da||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&da&&(Rt=Do()):(gi=G,No="value"in gi?gi.value:gi.textContent,da=!0)),ct=fc(z,Dt),0<ct.length&&(Dt=new vi(Dt,e,null,r,G),X.push({event:Dt,listeners:ct}),Rt?Dt.data=Rt:(Rt=fa(r),Rt!==null&&(Dt.data=Rt)))),(Rt=xn?FT(e,r):QT(e,r))&&(Dt=fc(z,"onBeforeInput"),0<Dt.length&&(ct=new vi("onBeforeInput","beforeinput",null,r,G),X.push({event:ct,listeners:Dt}),ct.data=Rt)),L1(X,e,z,r,G)}Jy(X,n)})}function ul(e,n,r){return{instance:e,listener:n,currentTarget:r}}function fc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(e,r),h!=null&&o.unshift(ul(e,h,f)),h=Qn(e,n),h!=null&&o.push(ul(e,h,f))),e.tag===3)return o;e=e.return}return[]}function B1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zy(e,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=Qn(r,f),z!=null&&p.unshift(ul(r,z,R))):h||(z=Qn(r,f),z!=null&&p.push(ul(r,z,R)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var q1=/\r\n?/g,H1=/\u0000|\uFFFD/g;function Wy(e){return(typeof e=="string"?e:""+e).replace(q1,`
`).replace(H1,"")}function t_(e,n){return n=Wy(n),Wy(e)===n}function $t(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,r,o);break;case"style":Io(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=oa(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=oa(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=oa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),ra(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ra(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fu.get(r)||r,ra(e,r,o))}}function md(e,n,r,o,h,f){switch(r){case"style":Io(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!To.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ra(e,r,o)}}}function Ge(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,f,p,r,null)}}h&&$t(e,n,"srcSet",r.srcSet,r,null),o&&$t(e,n,"src",r.src,r,null);return;case"input":xt("invalid",e);var E=f=p=h=null,R=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:$t(e,n,o,G,r,null)}}uu(e,f,E,R,z,p,h,!1);return;case"select":xt("invalid",e),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:$t(e,n,h,E,r,null)}n=f,r=p,e.multiple=!!o,n!=null?fr(e,!!o,n,!1):r!=null&&fr(e,!!o,r,!0);return;case"textarea":xt("invalid",e),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$t(e,n,p,E,r,null)}dr(e,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":$t(e,n,R,o,r,null));return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<ll.length;o++)xt(ll[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,z,o,r,null)}return;default:if(aa(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&md(e,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&$t(e,n,E,o,r,null))}function G1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,z=null,G=null;for(q in r){var X=r[q];if(r.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(q)||$t(e,n,q,null,o,X)}}for(var j in o){var q=o[j];if(X=r[j],o.hasOwnProperty(j)&&(q!=null||X!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&$t(e,n,j,q,o,X)}}sa(e,p,E,R,z,G,f,h);return;case"select":q=p=E=j=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&$t(e,n,h,f,o,R)}n=E,r=p,o=q,j!=null?fr(e,!!r,j,!1):!!o!=!!r&&(n!=null?fr(e,!!r,n,!0):fr(e,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&$t(e,n,p,h,o,f)}cu(e,j,q);return;case"option":for(var ot in r)j=r[ot],r.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:$t(e,n,ot,null,o,j));for(R in o)j=o[R],q=r[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":$t(e,n,R,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)j=r[pt],r.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&$t(e,n,pt,null,o,j);for(z in o)if(j=o[z],q=r[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:$t(e,n,z,j,o,q)}return;default:if(aa(n)){for(var Zt in r)j=r[Zt],r.hasOwnProperty(Zt)&&j!==void 0&&!o.hasOwnProperty(Zt)&&md(e,n,Zt,void 0,o,j);for(G in o)j=o[G],q=r[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||md(e,n,G,j,o,q);return}}for(var k in r)j=r[k],r.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&$t(e,n,k,null,o,j);for(X in o)j=o[X],q=r[X],!o.hasOwnProperty(X)||j===q||j==null&&q==null||$t(e,n,X,j,o,q)}function e_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function F1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&e_(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],z=R.startTime;if(z>E)break;var G=R.transferSize,X=R.initiatorType;G&&e_(X)&&(R=R.responseEnd,p+=G*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pd=null,gd=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function n_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function yd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function Q1(){var e=window.event;return e&&e.type==="popstate"?e===_d?!1:(_d=e,!0):(_d=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,K1=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,Y1=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(e){return s_.resolve(null).then(e).catch(X1)}:r_;function X1(e){setTimeout(function(){throw e})}function Ur(e){return e==="head"}function a_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ba(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")cl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,cl(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ui]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&cl(e.ownerDocument.body);r=h}while(r);Ba(n)}function o_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function vd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":vd(r),ia(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function J1(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ui])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function $1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Un(e.nextSibling),e===null))return null;return e}function l_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Un(e.nextSibling),e===null))return null;return e}function Ed(e){return e.data==="$?"||e.data==="$~"}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Z1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var bd=null;function u_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Un(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function c_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function h_(e,n,r){switch(n=dc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function cl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ia(e)}var Ln=new Map,f_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=Q.d;Q.d={f:W1,r:tb,D:eb,C:nb,L:ib,m:rb,X:ab,S:sb,M:ob};function W1(){var e=Zi.f(),n=sc();return e||n}function tb(e){var n=Rn(e);n!==null&&n.tag===5&&n.type==="form"?xg(n):Zi.r(e)}var Pa=typeof document>"u"?null:document;function d_(e,n,r){var o=Pa;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),f_.has(h)||(f_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Te(n),o.head.appendChild(n)))}}function eb(e){Zi.D(e),d_("dns-prefetch",e,null)}function nb(e,n){Zi.C(e,n),d_("preconnect",e,n)}function ib(e,n,r){Zi.L(e,n,r);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+rn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+rn(r.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=za(e);break;case"script":f=ja(e)}Ln.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Ln.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(hl(f))||n==="script"&&o.querySelector(fl(f))||(n=o.createElement("link"),Ge(n,"link",e),Te(n),o.head.appendChild(n)))}}function rb(e,n){Zi.m(e,n);var r=Pa;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ja(e)}if(!Ln.has(f)&&(e=A({rel:"modulepreload",href:e},n),Ln.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(fl(f)))return}o=r.createElement("link"),Ge(o,"link",e),Te(o),r.head.appendChild(o)}}}function sb(e,n,r){Zi.S(e,n,r);var o=Pa;if(o&&e){var h=hi(o).hoistableStyles,f=za(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(hl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Ln.get(f))&&Sd(e,r);var R=p=o.createElement("link");Te(R),Ge(R,"link",e),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function ab(e,n){Zi.X(e,n);var r=Pa;if(r&&e){var o=hi(r).hoistableScripts,h=ja(e),f=o.get(h);f||(f=r.querySelector(fl(h)),f||(e=A({src:e,async:!0},n),(n=Ln.get(h))&&Ad(e,n),f=r.createElement("script"),Te(f),Ge(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function ob(e,n){Zi.M(e,n);var r=Pa;if(r&&e){var o=hi(r).hoistableScripts,h=ja(e),f=o.get(h);f||(f=r.querySelector(fl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Ln.get(h))&&Ad(e,n),f=r.createElement("script"),Te(f),Ge(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function m_(e,n,r,o){var h=(h=wt.current)?mc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=za(r.href),r=hi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=za(r.href);var f=hi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(hl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Ln.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ln.set(e,r),f||lb(h,e,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ja(r),r=hi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function za(e){return'href="'+rn(e)+'"'}function hl(e){return'link[rel="stylesheet"]['+e+"]"}function p_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function lb(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",r),Te(n),e.head.appendChild(n))}function ja(e){return'[src="'+rn(e)+'"]'}function fl(e){return"script[async]"+e}function g_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(r.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Ge(o,"style",h),pc(o,r.precedence,e),n.instance=o;case"stylesheet":h=za(r.href);var f=e.querySelector(hl(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=p_(r),(h=Ln.get(h))&&Sd(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Ge(f,"link",o),n.state.loading|=4,pc(f,r.precedence,e),n.instance=f;case"script":return f=ja(r.src),(h=e.querySelector(fl(f)))?(n.instance=h,Te(h),h):(o=r,(h=Ln.get(f))&&(o=A({},r),Ad(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,r.precedence,e));return n.instance}function pc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function y_(e,n,r){if(gc===null){var o=new Map,h=gc=new Map;h.set(r,o)}else h=gc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ui]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function __(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function ub(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function v_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function cb(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=za(o.href),f=n.querySelector(hl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Te(f);return}f=n.ownerDocument||n,o=p_(o),(h=Ln.get(h))&&Sd(o,h),f=f.createElement("link"),Te(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Ge(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=yc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var wd=0;function hb(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&wd===0&&(wd=62500*F1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>wd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(fb,e),_c=null,yc.call(e))}function fb(e,n){if(!(n.state.loading&4)){var r=_c.get(e);if(r)var o=r.get(null);else{r=new Map,_c.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var dl={$$typeof:ut,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function db(e,n,r,o,h,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function E_(e,n,r,o,h,f,p,E,R,z,G,X){return e=new db(e,n,r,p,R,z,G,X,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=rf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},lf(f),e}function T_(e){return e?(e=ya,e):ya}function b_(e,n,r,o,h,f){h=T_(h),o.context===null?o.context=h:o.pendingContext=h,o=wr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Rr(e,o,n),r!==null&&(cn(r,e,n),Fo(r,e,n))}function S_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Rd(e,n){S_(e,n),(e=e.alternate)&&S_(e,n)}function A_(e){if(e.tag===13||e.tag===31){var n=Cs(e,67108864);n!==null&&cn(n,e,67108864),Rd(e,67108864)}}function w_(e){if(e.tag===13||e.tag===31){var n=Tn();n=ps(n);var r=Cs(e,n);r!==null&&cn(r,e,n),Rd(e,n)}}var Ec=!0;function mb(e,n,r,o){var h=H.T;H.T=null;var f=Q.p;try{Q.p=2,Cd(e,n,r,o)}finally{Q.p=f,H.T=h}}function pb(e,n,r,o){var h=H.T;H.T=null;var f=Q.p;try{Q.p=8,Cd(e,n,r,o)}finally{Q.p=f,H.T=h}}function Cd(e,n,r,o){if(Ec){var h=Id(o);if(h===null)dd(e,n,o,Tc,r),C_(e,o);else if(yb(h,e,n,r,o))o.stopPropagation();else if(C_(e,o),n&4&&-1<gb.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=si(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-fe(p);E.entanglements[1]|=R,p&=~R}Ai(f),(Ht&6)===0&&(ic=tn()+500,ol(0))}}break;case 31:case 13:E=Cs(f,2),E!==null&&cn(E,f,2),sc(),Rd(f,2)}if(f=Id(o),f===null&&dd(e,n,o,Tc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else dd(e,n,o,null,r)}}function Id(e){return e=Cn(e),xd(e)}var Tc=null;function xd(e){if(Tc=null,e=ci(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function R_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hs()){case go:return 2;case yo:return 8;case cr:case Vh:return 32;case Wl:return 268435456;default:return 32}default:return 32}}var Nd=!1,Lr=null,Pr=null,zr=null,ml=new Map,pl=new Map,jr=[],gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(e,n){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function gl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&A_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function yb(e,n,r,o,h){switch(n){case"focusin":return Lr=gl(Lr,e,n,r,o,h),!0;case"dragenter":return Pr=gl(Pr,e,n,r,o,h),!0;case"mouseover":return zr=gl(zr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return ml.set(f,gl(ml.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,pl.set(f,gl(pl.get(f)||null,e,n,r,o,h)),!0}return!1}function I_(e){var n=ci(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Hn(e.priority,function(){w_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,Hn(e.priority,function(){w_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Id(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);xo=o,r.target.dispatchEvent(o),xo=null}else return n=Rn(r),n!==null&&A_(n),e.blockedOn=r,!1;n.shift()}return!0}function x_(e,n,r){bc(e)&&r.delete(n)}function _b(){Nd=!1,Lr!==null&&bc(Lr)&&(Lr=null),Pr!==null&&bc(Pr)&&(Pr=null),zr!==null&&bc(zr)&&(zr=null),ml.forEach(x_),pl.forEach(x_)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,Nd||(Nd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_b)))}var Ac=null;function N_(e){Ac!==e&&(Ac=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(xd(o||r)===null)continue;break}var f=Rn(r);f!==null&&(e.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ba(e){function n(R){return Sc(R,e)}Lr!==null&&Sc(Lr,e),Pr!==null&&Sc(Pr,e),zr!==null&&Sc(zr,e),ml.forEach(n),pl.forEach(n);for(var r=0;r<jr.length;r++){var o=jr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<jr.length&&(r=jr[0],r.blockedOn===null);)I_(r),r.blockedOn===null&&jr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[Ve]||null;if(typeof f=="function")p||N_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ve]||null)E=p.formAction;else if(xd(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),N_(r)}}}function D_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(e){this._internalRoot=e}wc.prototype.render=Dd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Tn();b_(r,o,e,n,null,null)},wc.prototype.unmount=Dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;b_(e.current,2,null,e,null,null),sc(),n[li]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=su();e={blockedOn:null,target:e,priority:n};for(var r=0;r<jr.length&&n!==0&&n<jr[r].priority;r++);jr.splice(r,0,e),r===0&&I_(e)}};var O_=t.version;if(O_!=="19.2.4")throw Error(a(527,O_,"19.2.4"));Q.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var vb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Bn=Rc.inject(vb),ze=Rc}catch{}}return _l.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=zg,f=jg,p=Bg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=E_(e,1,!1,null,null,r,o,null,h,f,p,D_),e[li]=n.current,fd(e),new Dd(n)},_l.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=zg,p=jg,E=Bg,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=E_(e,1,!0,n,r??null,o,h,R,f,p,E,D_),n.context=T_(null),r=n.current,o=Tn(),o=ps(o),h=wr(o),h.callback=null,Rr(r,h,o),r=o,n.current.lanes=r,ds(n,r),Ai(n),e[li]=n.current,fd(e),new wc(n)},_l.version="19.2.4",_l}var q_;function xb(){if(q_)return Vd.exports;q_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Vd.exports=Ib(),Vd.exports}var Nb=xb();const Db=()=>{};var H_={};const yv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Ob=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},_v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,v=l+2<s.length,y=v?s[l+2]:0,b=c>>2,A=(c&3)<<4|g>>4;let M=(g&15)<<2|y>>6,F=y&63;v||(F=64,d||(M=64)),a.push(i[b],i[A],i[M],i[F])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(yv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Ob(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||A==null)throw new Mb;const M=c<<2|g>>4;if(a.push(M),y!==64){const F=g<<4&240|y>>2;if(a.push(F),A!==64){const Z=y<<6&192|A;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Mb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vb=function(s){const t=yv(s);return _v.encodeByteArray(t,!0)},Gc=function(s){return Vb(s).replace(/\./g,"")},vv=function(s){try{return _v.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ub=()=>kb().__FIREBASE_DEFAULTS__,Lb=()=>{if(typeof process>"u"||typeof H_>"u")return;const s=H_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Pb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&vv(s[1]);return t&&JSON.parse(t)},ch=()=>{try{return Db()||Ub()||Lb()||Pb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Ev=s=>ch()?.emulatorHosts?.[s],zb=s=>{const t=Ev(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Tv=()=>ch()?.config,bv=s=>ch()?.[`_${s}`];class jb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function so(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sv(s){return(await fetch(s,{credentials:"include"})).ok}function Bb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const Al={};function qb(){const s={prod:[],emulator:[]};for(const t of Object.keys(Al))Al[t]?s.emulator.push(t):s.prod.push(t);return s}function Hb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let G_=!1;function Av(s,t){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||Al[s]===t||Al[s]||G_)return;Al[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=qb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{G_=!0,d()},M}function b(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=Hb(a),F=i("text"),Z=document.getElementById(F)||document.createElement("span"),it=i("learnmore"),nt=document.getElementById(it)||document.createElement("a"),ft=i("preprendIcon"),rt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ut=M.element;g(ut),b(nt,it);const _t=y();v(rt,ft),ut.append(rt,Z,nt,_t),document.body.appendChild(ut)}c?(Z.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Fb(){const s=ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Qb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Yb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xb(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Jb(){return!Fb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $b(){try{return typeof indexedDB=="object"}catch{return!1}}function Zb(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const Wb="FirebaseError";class lr extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Wb,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?tS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new lr(l,g,a)}}function tS(s,t){return s.replace(eS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const eS=/\{\$([^}]+)}/g;function nS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Hs(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(F_(c)&&F_(d)){if(!Hs(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function F_(s){return s!==null&&typeof s=="object"}function Bl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function iS(s,t){const i=new rS(s,t);return i.subscribe.bind(i)}class rS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");sS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Pd),l.error===void 0&&(l.error=Pd),l.complete===void 0&&(l.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Pd(){}function Pe(s){return s&&s._delegate?s._delegate:s}class Gs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const js="[DEFAULT]";class aS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new jb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lS(t))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=js){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=js){return this.instances.has(t)}getOptions(t=js){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:oS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=js){return this.component?this.component.multipleInstances?t:js:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oS(s){return s===js?void 0:s}function lS(s){return s.instantiationMode==="EAGER"}class uS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new aS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ot||(Ot={}));const cS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},hS=Ot.INFO,fS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},dS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=fS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wm{constructor(t){this.name=t,this._logLevel=hS,this._logHandler=dS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?cS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const mS=(s,t)=>t.some(i=>s instanceof i);let Q_,K_;function pS(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gS(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wv=new WeakMap,Wd=new WeakMap,Rv=new WeakMap,zd=new WeakMap,Rm=new WeakMap;function yS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Xr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&wv.set(i,s)}).catch(()=>{}),Rm.set(t,s),t}function _S(s){if(Wd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Wd.set(s,t)}let tm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Wd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Rv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Xr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function vS(s){tm=s(tm)}function ES(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(jd(this),t,...i);return Rv.set(a,t.sort?t.sort():[t]),Xr(a)}:gS().includes(s)?function(...t){return s.apply(jd(this),t),Xr(wv.get(this))}:function(...t){return Xr(s.apply(jd(this),t))}}function TS(s){return typeof s=="function"?ES(s):(s instanceof IDBTransaction&&_S(s),mS(s,pS())?new Proxy(s,tm):s)}function Xr(s){if(s instanceof IDBRequest)return yS(s);if(zd.has(s))return zd.get(s);const t=TS(s);return t!==s&&(zd.set(s,t),Rm.set(t,s)),t}const jd=s=>Rm.get(s);function bS(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=Xr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Xr(d.result),v.oldVersion,v.newVersion,Xr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const SS=["get","getKey","getAll","getAllKeys","count"],AS=["put","add","delete","clear"],Bd=new Map;function Y_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Bd.get(t))return Bd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=AS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||SS.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&v.done]))[0]};return Bd.set(t,c),c}vS(s=>({...s,get:(t,i,a)=>Y_(t,i)||s.get(t,i,a),has:(t,i)=>!!Y_(t,i)||s.has(t,i)}));class wS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(RS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function RS(s){return s.getComponent()?.type==="VERSION"}const em="@firebase/app",X_="0.14.8";const nr=new wm("@firebase/app"),CS="@firebase/app-compat",IS="@firebase/analytics-compat",xS="@firebase/analytics",NS="@firebase/app-check-compat",DS="@firebase/app-check",OS="@firebase/auth",MS="@firebase/auth-compat",VS="@firebase/database",kS="@firebase/data-connect",US="@firebase/database-compat",LS="@firebase/functions",PS="@firebase/functions-compat",zS="@firebase/installations",jS="@firebase/installations-compat",BS="@firebase/messaging",qS="@firebase/messaging-compat",HS="@firebase/performance",GS="@firebase/performance-compat",FS="@firebase/remote-config",QS="@firebase/remote-config-compat",KS="@firebase/storage",YS="@firebase/storage-compat",XS="@firebase/firestore",JS="@firebase/ai",$S="@firebase/firestore-compat",ZS="firebase",WS="12.9.0";const nm="[DEFAULT]",tA={[em]:"fire-core",[CS]:"fire-core-compat",[xS]:"fire-analytics",[IS]:"fire-analytics-compat",[DS]:"fire-app-check",[NS]:"fire-app-check-compat",[OS]:"fire-auth",[MS]:"fire-auth-compat",[VS]:"fire-rtdb",[kS]:"fire-data-connect",[US]:"fire-rtdb-compat",[LS]:"fire-fn",[PS]:"fire-fn-compat",[zS]:"fire-iid",[jS]:"fire-iid-compat",[BS]:"fire-fcm",[qS]:"fire-fcm-compat",[HS]:"fire-perf",[GS]:"fire-perf-compat",[FS]:"fire-rc",[QS]:"fire-rc-compat",[KS]:"fire-gcs",[YS]:"fire-gcs-compat",[XS]:"fire-fst",[$S]:"fire-fst-compat",[JS]:"fire-vertex","fire-js":"fire-js",[ZS]:"fire-js-all"};const Fc=new Map,eA=new Map,im=new Map;function J_(s,t){try{s.container.addComponent(t)}catch(i){nr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Wa(s){const t=s.name;if(im.has(t))return nr.debug(`There were multiple attempts to register component ${t}.`),!1;im.set(t,s);for(const i of Fc.values())J_(i,s);for(const i of eA.values())J_(i,s);return!0}function Cm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function zn(s){return s==null?!1:s.settings!==void 0}const nA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new jl("app","Firebase",nA);class iA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}const ao=WS;function Cv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:nm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Jr.create("bad-app-name",{appName:String(l)});if(i||(i=Tv()),!i)throw Jr.create("no-options");const c=Fc.get(l);if(c){if(Hs(i,c.options)&&Hs(a,c.config))return c;throw Jr.create("duplicate-app",{appName:l})}const d=new uS(l);for(const v of im.values())d.addComponent(v);const g=new iA(i,a,d);return Fc.set(l,g),g}function Iv(s=nm){const t=Fc.get(s);if(!t&&s===nm&&Tv())return Cv();if(!t)throw Jr.create("no-app",{appName:s});return t}function $r(s,t,i){let a=tA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),nr.warn(d.join(" "));return}Wa(new Gs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const rA="firebase-heartbeat-database",sA=1,Nl="firebase-heartbeat-store";let qd=null;function xv(){return qd||(qd=bS(rA,sA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Nl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Jr.create("idb-open",{originalErrorMessage:s.message})})),qd}async function aA(s){try{const i=(await xv()).transaction(Nl),a=await i.objectStore(Nl).get(Nv(s));return await i.done,a}catch(t){if(t instanceof lr)nr.warn(t.message);else{const i=Jr.create("idb-get",{originalErrorMessage:t?.message});nr.warn(i.message)}}}async function $_(s,t){try{const a=(await xv()).transaction(Nl,"readwrite");await a.objectStore(Nl).put(t,Nv(s)),await a.done}catch(i){if(i instanceof lr)nr.warn(i.message);else{const a=Jr.create("idb-set",{originalErrorMessage:i?.message});nr.warn(a.message)}}}function Nv(s){return`${s.name}!${s.options.appId}`}const oA=1024,lA=30;class uA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new hA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Z_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>lA){const l=fA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){nr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Z_(),{heartbeatsToSend:i,unsentEntries:a}=cA(this._heartbeatsCache.heartbeats),l=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return nr.warn(t),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function cA(s,t=oA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),W_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),W_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class hA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $b()?Zb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await aA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return $_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return $_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function W_(s){return Gc(JSON.stringify({version:2,heartbeats:s})).length}function fA(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function dA(s){Wa(new Gs("platform-logger",t=>new wS(t),"PRIVATE")),Wa(new Gs("heartbeat",t=>new uA(t),"PRIVATE")),$r(em,X_,s),$r(em,X_,"esm2020"),$r("fire-js","")}dA("");var mA="firebase",pA="12.9.0";$r(mA,pA,"app");var t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zr,Dv;(function(){var s;function t(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,D,U){for(var w=Array(arguments.length-2),te=2;te<arguments.length;te++)w[te-2]=arguments[te];return S.prototype[D].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],D=C.g[2];let U=C.g[3],w;w=S+(U^I&(D^U))+V[0]+3614090360&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(D^S&(I^D))+V[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(I^U&(S^I))+V[2]+606105819&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(S^D&(U^S))+V[3]+3250441966&4294967295,I=D+(w<<22&4294967295|w>>>10),w=S+(U^I&(D^U))+V[4]+4118548399&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(D^S&(I^D))+V[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(I^U&(S^I))+V[6]+2821735955&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(S^D&(U^S))+V[7]+4249261313&4294967295,I=D+(w<<22&4294967295|w>>>10),w=S+(U^I&(D^U))+V[8]+1770035416&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(D^S&(I^D))+V[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(I^U&(S^I))+V[10]+4294925233&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(S^D&(U^S))+V[11]+2304563134&4294967295,I=D+(w<<22&4294967295|w>>>10),w=S+(U^I&(D^U))+V[12]+1804603682&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(D^S&(I^D))+V[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(I^U&(S^I))+V[14]+2792965006&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(S^D&(U^S))+V[15]+1236535329&4294967295,I=D+(w<<22&4294967295|w>>>10),w=S+(D^U&(I^D))+V[1]+4129170786&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(S^I))+V[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^I&(U^S))+V[11]+643717713&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(D^U))+V[0]+3921069994&4294967295,I=D+(w<<20&4294967295|w>>>12),w=S+(D^U&(I^D))+V[5]+3593408605&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(S^I))+V[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^I&(U^S))+V[15]+3634488961&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(D^U))+V[4]+3889429448&4294967295,I=D+(w<<20&4294967295|w>>>12),w=S+(D^U&(I^D))+V[9]+568446438&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(S^I))+V[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^I&(U^S))+V[3]+4107603335&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(D^U))+V[8]+1163531501&4294967295,I=D+(w<<20&4294967295|w>>>12),w=S+(D^U&(I^D))+V[13]+2850285829&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(S^I))+V[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^I&(U^S))+V[7]+1735328473&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(D^U))+V[12]+2368359562&4294967295,I=D+(w<<20&4294967295|w>>>12),w=S+(I^D^U)+V[5]+4294588738&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^D)+V[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^I)+V[11]+1839030562&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^S)+V[14]+4259657740&4294967295,I=D+(w<<23&4294967295|w>>>9),w=S+(I^D^U)+V[1]+2763975236&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^D)+V[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^I)+V[7]+4139469664&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^S)+V[10]+3200236656&4294967295,I=D+(w<<23&4294967295|w>>>9),w=S+(I^D^U)+V[13]+681279174&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^D)+V[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^I)+V[3]+3572445317&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^S)+V[6]+76029189&4294967295,I=D+(w<<23&4294967295|w>>>9),w=S+(I^D^U)+V[9]+3654602809&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^D)+V[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^I)+V[15]+530742520&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^S)+V[2]+3299628645&4294967295,I=D+(w<<23&4294967295|w>>>9),w=S+(D^(I|~U))+V[0]+4096336452&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~D))+V[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~I))+V[14]+2878612391&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~S))+V[5]+4237533241&4294967295,I=D+(w<<21&4294967295|w>>>11),w=S+(D^(I|~U))+V[12]+1700485571&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~D))+V[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~I))+V[10]+4293915773&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~S))+V[1]+2240044497&4294967295,I=D+(w<<21&4294967295|w>>>11),w=S+(D^(I|~U))+V[8]+1873313359&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~D))+V[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~I))+V[6]+2734768916&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~S))+V[13]+1309151649&4294967295,I=D+(w<<21&4294967295|w>>>11),w=S+(D^(I|~U))+V[4]+4149444226&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~D))+V[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~I))+V[2]+718787259&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~S))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=I;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(V[D++]=C.charCodeAt(U++),D==this.blockSize){l(this,V),D=0;break}}else for(;U<S;)if(V[D++]=C[U++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[S++]=this.g[I]>>>V&255;return C};function c(C,S){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let V=!0;for(let D=C.length-1;D>=0;D--){const U=C[D]|0;V&&U==S||(I[D]=U,V=!1)}this.g=I}var g={};function v(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return nt(y(-C));const S=[];let I=1;for(let V=0;C>=I;V++)S[V]=C/I|0,I*=4294967296;return new d(S,0)}function b(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return nt(b(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(S,8));let V=A;for(let U=0;U<C.length;U+=8){var D=Math.min(8,C.length-U);const w=parseInt(C.substring(U,U+D),S);D<8?(D=y(Math.pow(S,D)),V=V.j(D).add(y(w))):(V=V.j(I),V=V.add(y(w)))}return V}var A=v(0),M=v(1),F=v(16777216);s=d.prototype,s.m=function(){if(it(this))return-nt(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(it(this))return"-"+nt(this).toString(C);const S=y(Math.pow(C,6));var I=this;let V="";for(;;){const D=_t(I,S).g;I=ft(I,D.j(S));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=D,Z(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function it(C){return C.h==-1}s.l=function(C){return C=ft(this,C),it(C)?-1:Z(C)?0:1};function nt(C){const S=C.g.length,I=[];for(let V=0;V<S;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}s.abs=function(){return it(this)?nt(this):this},s.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let D=0;D<=S;D++){let U=V+(this.i(D)&65535)+(C.i(D)&65535),w=(U>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=w>>>16,U&=65535,w&=65535,I[D]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ft(C,S){return C.add(nt(S))}s.j=function(C){if(Z(this)||Z(C))return A;if(it(this))return it(C)?nt(this).j(nt(C)):nt(nt(this).j(C));if(it(C))return nt(this.j(nt(C)));if(this.l(F)<0&&C.l(F)<0)return y(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const U=this.i(V)>>>16,w=this.i(V)&65535,te=C.i(D)>>>16,ee=C.i(D)&65535;I[2*V+2*D]+=w*ee,rt(I,2*V+2*D),I[2*V+2*D+1]+=U*ee,rt(I,2*V+2*D+1),I[2*V+2*D+1]+=w*te,rt(I,2*V+2*D+1),I[2*V+2*D+2]+=U*te,rt(I,2*V+2*D+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function rt(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function ut(C,S){this.g=C,this.h=S}function _t(C,S){if(Z(S))throw Error("division by zero");if(Z(C))return new ut(A,A);if(it(C))return S=_t(nt(C),S),new ut(nt(S.g),nt(S.h));if(it(S))return S=_t(C,nt(S)),new ut(nt(S.g),S.h);if(C.g.length>30){if(it(C)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=S;V.l(C)<=0;)I=Bt(I),V=Bt(V);var D=Ct(I,1),U=Ct(V,1);for(V=Ct(V,2),I=Ct(I,2);!Z(V);){var w=U.add(V);w.l(C)<=0&&(D=D.add(I),U=w),V=Ct(V,1),I=Ct(I,1)}return S=ft(C,D.j(S)),new ut(D,S)}for(D=A;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(I),w=U.j(S);it(w)||w.l(C)>0;)I-=V,U=y(I),w=U.j(S);Z(U)&&(U=M),D=D.add(U),C=ft(C,w)}return new ut(D,C)}s.B=function(C){return _t(this,C).h},s.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function Bt(C){const S=C.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Ct(C,S){const I=S>>5;S%=32;const V=C.g.length-I,D=[];for(let U=0;U<V;U++)D[U]=S>0?C.i(U+I)>>>S|C.i(U+I+1)<<32-S:C.i(U+I);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Dv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,Zr=d}).apply(typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ov,El,Mv,Mc,rm,Vv,kv,Uv;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var et=Array(arguments.length-2),St=2;St<arguments.length;St++)et[St-2]=arguments[St];return m.prototype[L].apply(T,et)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let et=0;et<B;et++)u[_+et]=L[et]}else u.push(L)}}class it{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class rt{constructor(){this.h=this.g=null}add(m,_){const T=ut.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ut=new it(()=>new _t,u=>u.reset());class _t{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Bt,Ct=!1,C=new rt,S=()=>{const u=Promise.resolve(void 0);Bt=()=>{u.then(I)}};function I(){for(var u;u=ft();){try{u.h.call(u.g)}catch(_){nt(_)}var m=ut;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ct=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function te(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(te,D),te.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),H=0;function Q(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function mt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function kt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function x(u){const m={};for(const _ in u)m[_]=u[_];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let B=0;B<K.length;B++)_=K[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,_,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=wt(u,m,T,L);return et>-1?(m=u[et],_||(m.fa=!1)):(m=new Q(m,this.src,B,!!T,L),m.fa=_,u.push(m)),m};function vt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(tt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function wt(u,m,_,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return L}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),xe={};function ae(u,m,_,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ae(u,m[B],_,T,L);return null}return _=po(_),u&&u[ee]?u.J(m,_,g(T)?!!T.capture:!1,L):us(u,m,_,!1,T,L)}function us(u,m,_,T,L,B){if(!m)throw Error("Invalid event type");const et=g(L)?!!L.capture:!!L;let St=cs(u);if(St||(u[Lt]=St=new st(u)),_=St.add(m,_,T,et,B),_.proxy)return _;if(T=Zs(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)U||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(ii(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Zs(){function u(_){return m.call(u.src,u.listener,_)}const m=fo;return u}function Ws(u,m,_,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ws(u,m[B],_,T,L);else T=g(T)?!!T.capture:!!T,_=po(_),u&&u[ee]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=wt(m,_,T,L),_>-1&&(tt(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=cs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,_,T,L)),(_=u>-1?m[u]:null)&&ta(_))}function ta(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ee])vt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(ii(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=cs(m))?(vt(_,u),_.h==0&&(_.src=null,m[Lt]=null)):tt(u)}}}function ii(u){return u in xe?xe[u]:xe[u]="on"+u}function fo(u,m){if(u.da)u=!0;else{m=new te(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&ta(u),u=_.call(T,m)}return u}function cs(u){return u=u[Lt],u instanceof st?u:null}var mo="__closure_events_fn_"+(Math.random()*1e9>>>0);function po(u){return typeof u=="function"?u:(u[mo]||(u[mo]=function(m){return u.handleEvent(m)}),u[mo])}function _e(){V.call(this),this.i=new st(this),this.M=this,this.G=null}A(_e,V),_e.prototype[ee]=!0,_e.prototype.removeEventListener=function(u,m,_,T){Ws(this,u,m,_,T)};function Ne(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),W(m,L)}L=!0;let B,et;if(_)for(et=_.length-1;et>=0;et--)B=m.g=_[et],L=ur(B,T,!0,m)&&L;if(B=m.g=u,L=ur(B,T,!0,m)&&L,L=ur(B,T,!1,m)&&L,_)for(et=0;et<_.length;et++)B=m.g=_[et],L=ur(B,T,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)tt(_[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},_e.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function ur(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==_){const St=et.listener,de=et.ha||et.src;et.fa&&vt(u.i,et),L=St.call(de,T)!==!1&&L}}return L&&!T.defaultPrevented}function Mh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zl(u){u.g=Mh(()=>{u.g=null,u.i&&(u.i=!1,Zl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(u){V.call(this),this.h=u,this.g={}}A(hs,V);var go=[];function yo(u){mt(u.g,function(m,_){this.g.hasOwnProperty(_)&&ta(m)},u),u.g={}}hs.prototype.N=function(){hs.Z.N.call(this),yo(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=d.JSON.stringify,Vh=d.JSON.parse,Wl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function eu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){D.call(this,"d")}A(ze,D);function wn(){D.call(this,"c")}A(wn,D);var fe={},nu=null;function ea(){return nu=nu||new _e}fe.Ia="serverreachability";function iu(u){D.call(this,fe.Ia,u)}A(iu,D);function ri(u){const m=ea();Ne(m,new iu(m))}fe.STAT_EVENT="statevent";function fs(u,m){D.call(this,fe.STAT_EVENT,u),this.stat=m}A(fs,D);function ve(u){const m=ea();Ne(m,new fs(m,u))}fe.Ja="timingevent";function si(u,m){D.call(this,fe.Ja,u),this.size=m}A(si,D);function ai(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function kh(u,m,_,T,L,B){u.info(function(){if(u.g)if(B){var et="",St=B.split("&");for(let qt=0;qt<St.length;qt++){var de=St[qt].split("=");if(de.length>1){const oe=de[0];de=de[1];const xn=oe.split("_");et=xn.length>=2&&xn[1]=="type"?et+(oe+"="+de+"&"):et+(oe+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+et})}function ru(u,m,_,T,L,B,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+et})}function oi(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Uh(u,_)+(T?" "+T:"")})}function ds(u,m){u.info(function(){return"TIMEOUT: "+m})}qn.prototype.info=function(){};function Uh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return cr(B)}catch{return m}}var ms={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_o={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vo;function ps(){}A(ps,tu),ps.prototype.g=function(){return new XMLHttpRequest},vo=new ps;function Vi(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Hn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new hs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Ee={},Ve={};function li(u,m,_){u.M=1,u.A=gs(be(m)),u.u=_,u.R=!0,na(u,null)}function na(u,m){u.F=Date.now(),ui(u),u.B=be(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),aa(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Gn,u.g=Eu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(go[0]=L.toString()),L=go);for(let B=0;B<L.length;B++){const et=ae(_,L[B],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ri(),kh(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Kn(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Kn(this.g),de=this.g.ya(),qt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||St!=4||de==7||(de==8||qt<=0?ri(3):ri(2)),ci(this);var m=this.g.ca();this.X=m;var _=Lh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)oi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,ve(12),dn(this),Rn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<_.length;)if(oe=ou(this,_),oe==Ve){St==4&&(this.m=4,ve(14),u=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ee){this.m=4,ve(15),oi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else oi(this.i,this.l,oe,null),hi(this,oe);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||_.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)oi(this.i,this.l,_,"[Invalid Chunked Response]"),dn(this),Rn(this);else if(_.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Vo(et),et.P=!0,ve(11))}}else oi(this.i,this.l,_,null),hi(this,_);St==4&&dn(this),this.o&&!this.K&&(St==4?gu(this.j,this):(this.o=!1,ui(this)))}else Ui(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),dn(this),Rn(this)}}}catch{}};function Lh(u){if(!au(u))return u.g.la();const m=je(u.g);if(m==="")return"";let _="";const T=m.length,L=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Ve:(_=Number(m.substring(_,T)),isNaN(_)?Ee:(T+=1,T+_>m.length?Ve:(m=m.slice(T,T+_),u.C=T+_,m)))}Hn.prototype.cancel=function(){this.K=!0,dn(this)};function ui(u){u.T=Date.now()+u.H,ia(u,u.H)}function ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ai(y(u.aa,u),m)}function ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ds(this.i,this.B),this.M!=2&&(ri(),ve(17)),dn(this),this.m=2,Rn(this)):ia(this,this.T-u)};function Rn(u){u.j.I==0||u.K||gu(u.j,u)}function dn(u){ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,yo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||di(_.h,u))){if(!u.L&&di(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ha(_),_r(_);else break t;Ss(_),ve(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ai(y(_.Va,_),6e3));fi(_.h)<=1&&_.ta&&(_.ta=void 0)}else vi(_,11)}else if((u.L||_.g==u)&&ha(_),!w(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const oe=qt[0];if(!(oe<=_.K))if(_.K=oe,qt=qt[1],_.I==2)if(qt[0]=="c"){_.M=qt[1],_.ba=qt[2];const xn=qt[3];xn!=null&&(_.ka=xn,_.j.info("VER="+_.ka));const Ei=qt[4];Ei!=null&&(_.za=Ei,_.j.info("SVER="+_.za));const Yn=qt[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(T=1.5*Yn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Xn=u.g;if(Xn){const As=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var B=T.h;B.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(bo(B,B.h),B.h=null))}if(T.G){const fa=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(T.wa=fa,Qt(T.J,T.G,fa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var et=u;if(T.na=vu(T,T.L?T.ba:null,T.W),et.L){So(T.h,et);var St=et,de=T.O;de&&(St.H=de),St.D&&(ci(St),ui(St)),T.g=et}else mu(T);_.i.length>0&&_i(_)}else qt[0]!="stop"&&qt[0]!="close"||vi(_,7);else _.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?vi(_,7):Oo(_):qt[0]!="noop"&&_.l&&_.l.qa(qt),_.A=0)}}ri(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function Eo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function To(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function bo(u,m){u.g?u.g.add(m):u.h=m}function So(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Eo.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return F(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,B=null;T>=0?(L=u[_].substring(0,T),B=u[_].substring(T+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,hr(this,u.u),this.h=u.h,wo(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,ke(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),hr(this,m[4]),this.h=mi(m[5]||"",!0),wo(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new dr(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ys(m,sa,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ys(m,sa,!0),"@"),u.push(Vi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ys(_,_.charAt(0)=="/"?Ro:uu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ys(_,cu)),u.join("")},mn.prototype.resolve=function(u){const m=be(this);let _=!!u.j;_?ke(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)hr(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const St=L[et++];St=="."?T&&et==L.length&&B.push(""):St==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&et==L.length&&B.push("")):(B.push(St),T=!0)}T=B.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?wo(m,fu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function be(u){return new mn(u)}function ke(u,m,_){u.j=_?mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function hr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function wo(u,m,_){m instanceof dr?(u.i=m,oa(u.i,u.l)):(_||(m=ys(m,fr)),u.i=new dr(m,u.l))}function Qt(u,m,_){u.i.set(m,_)}function gs(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ys(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sa=/[#\/\?@]/g,uu=/[#\?:]/g,Ro=/[#\?]/g,fr=/[#\?@]/g,cu=/#/g;function dr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&ra(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=dr.prototype,s.add=function(u,m){sn(this),this.i=null,u=mr(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function hu(u,m){sn(u),m=mr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Co(u,m){return sn(u),m=mr(u,m),u.g.has(m)}s.forEach=function(u,m){sn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Io(u,m){sn(u);let _=[];if(typeof m=="string")Co(u,m)&&(_=_.concat(u.g.get(mr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}s.set=function(u,m){return sn(this),this.i=null,u=mr(this,u),Co(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Io(this,u),u.length>0?String(u[0]):m):m};function aa(u,m,_){hu(u,m),_.length>0&&(u.i=null,u.g.set(mr(u,m),F(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=Vi(_);_=Io(this,_);for(let B=0;B<_.length;B++){let et=L;_[B]!==""&&(et+="="+Vi(_[B])),u.push(et)}}return this.i=u.join("&")};function fu(u){const m=new dr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function mr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oa(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(hu(this,T),aa(this,L,_))},u)),u.j=m}function Fn(u,m){const _=new qn;if(d.Image){const T=new Image;T.onload=b(Cn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Cn,_,"TestLoadImage: error",!1,m,T),T.onabort=b(Cn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Cn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function xo(u,m){const _=new qn,T=new AbortController,L=setTimeout(()=>{T.abort(),Cn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Cn(_,"TestPingServer: ok",!0,m):Cn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Cn(_,"TestPingServer: error",!1,m)})}function Cn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function pr(){this.g=new Wl}function pi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(pi,tu),pi.prototype.g=function(){return new _s(this.i,this.h)};function _s(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(_s,_e),s=_s.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?gr(this):Qn(this),this.readyState==3&&la(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,gr(this))},s.Na=function(u){this.g&&(this.response=u,gr(this))},s.ga=function(){this.g&&gr(this)};function gr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let m="";return mt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function vs(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=In(_),typeof u=="string"?_!=null&&Vi(_):Qt(u,m,_))}function Xt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Xt,_e);var gi=/^https?$/i,No=["POST","PUT"];s=Xt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vo.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Es(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(No,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of _)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Es(this,B)}};function Es(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Do(u),ki(u)}function Do(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),ki(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ts(this):this.Xa())},s.Xa=function(){Ts(this)};function Ts(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let et=String(u.D).match(lu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!gi.test(et?et.toLowerCase():"")}_=T}if(_)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var L=Kn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Do(u)}}finally{ki(u)}}}}function ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ne(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Vh(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(u){const m={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=su(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}kt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function yr(u){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Eo(u&&u.concurrentRequestLimit),this.Ba=new pr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=yr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,_,T){ve(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=vu(this,null,this.W),_i(this)};function Oo(u){if(ua(u),u.I==3){var m=u.V++,_=be(u.J);if(Qt(_,"SID",u.M),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),bs(u,_),m=new Hn(u,u.j,m),m.M=2,m.A=gs(be(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}_u(u)}function _r(u){u.g&&(Vo(u),u.g.cancel(),u.g=null)}function ua(u){_r(u),u.v&&(d.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!To(u.h)&&!u.m){u.m=!0;var m=u.Ea;Bt||S(),Ct||(Bt(),Ct=!0),C.add(m,u),u.D=0}}function ca(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ai(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Hn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=x(B),W(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=du(this,L,m),_=be(this.J),Qt(_,"RID",u),Qt(_,"CVER",22),this.G&&Qt(_,"X-HTTP-Session-Id",this.G),bs(this,_),B&&(this.R?m="headers="+Vi(In(B))+"&"+m:this.u&&vs(_,this.u,B)),bo(this.h,L),this.Ra&&Qt(_,"TYPE","init"),this.S?(Qt(_,"$req",m),Qt(_,"SID","null"),L.U=!0,li(L,_,null)):li(L,_,m),this.I=2}}else this.I==3&&(u?Mo(this,u):this.i.length==0||To(this.h)||Mo(this))};function Mo(u,m){var _;m?_=m.l:_=u.V++;const T=be(u.J);Qt(T,"SID",u.M),Qt(T,"RID",_),Qt(T,"AID",u.K),bs(u,T),u.u&&u.o&&vs(T,u.u,u.o),_=new Hn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),bo(u.h,_),li(_,T,m)}function bs(u,m){u.H&&mt(u.H,function(_,T){Qt(m,T,_)}),u.l&&mt({},function(_,T){Qt(m,T,_)})}function du(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let St=-1;for(;;){const de=["count="+_];St==-1?_>0?(St=L[0].g,de.push("ofs="+St)):St=0:de.push("ofs="+St);let qt=!0;for(let oe=0;oe<_;oe++){var B=L[oe].g;const xn=L[oe].map;if(B-=St,B<0)St=Math.max(0,L[oe].g-100),qt=!1;else try{B="req"+B+"_"||"";try{var et=xn instanceof Map?xn:Object.entries(xn);for(const[Ei,Yn]of et){let Xn=Yn;g(Yn)&&(Xn=cr(Yn)),de.push(B+Ei+"="+encodeURIComponent(Xn))}}catch(Ei){throw de.push(B+"type="+encodeURIComponent("_badmap")),Ei}}catch{T&&T(xn)}}if(qt){et=de.join("&");break t}}et=void 0}return u=u.i.splice(0,_),m.G=u,et}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Bt||S(),Ct||(Bt(),Ct=!0),C.add(m,u),u.A=0}}function Ss(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ai(y(u.Da,u),yu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ai(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),_r(this),pu(this))};function Vo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),bs(u,m),u.u&&u.o&&vs(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=gs(be(m)),_.u=null,_.R=!0,na(_,u)}s.Va=function(){this.C!=null&&(this.C=null,_r(this),Ss(this),ve(19))};function ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var _=null;if(u.g==m){ha(u),Vo(u),u.g=null;var T=2}else if(di(u.h,m))_=m.G,So(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ea(),Ne(T,new si(T,_)),_i(u)}else mu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ca(u,m)||T==2&&Ss(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function yu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const L=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),gs(T),L?Fn(T.toString(),_):xo(T.toString(),_)}else ve(2);u.I=0,u.l&&u.l.pa(m),_u(u),ua(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,_){var T=_ instanceof mn?be(_):new mn(_);if(T.g!="")m&&(T.g=m+"."+T.g),hr(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new mn(null);T&&ke(B,T),m&&(B.g=m),L&&hr(B,L),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Qt(T,_,m),Qt(T,"VER",u.ka),bs(u,T),T}function Eu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new pi({ab:_})):new Xt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function vr(){}vr.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_e.call(this),this.g=new yr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Li(this)}A(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Oo(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=cr(u),u=_);m.i.push(new Te(m.Ya++,u)),m.I==3&&_i(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,en.Z.N.call(this)};function bu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(bu,ze);function Su(){wn.call(this),this.status=1}A(Su,wn);function Li(u){this.g=u}A(Li,Tu),Li.prototype.ra=function(){Ne(this.g,"a")},Li.prototype.qa=function(u){Ne(this.g,new bu(u))},Li.prototype.pa=function(u){Ne(this.g,new Su)},Li.prototype.oa=function(){Ne(this.g,"b")},vr.prototype.createWebChannel=vr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,Uv=function(){return new vr},kv=function(){return ea()},Vv=fe,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,Mc=ms,_o.COMPLETE="complete",Mv=_o,eu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,El=eu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,Ov=Xt}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let oo="12.9.0";function gA(s){oo=s}const Fs=new wm("@firebase/firestore");function qa(){return Fs.logLevel}function at(s,...t){if(Fs.logLevel<=Ot.DEBUG){const i=t.map(Im);Fs.debug(`Firestore (${oo}): ${s}`,...i)}}function ir(s,...t){if(Fs.logLevel<=Ot.ERROR){const i=t.map(Im);Fs.error(`Firestore (${oo}): ${s}`,...i)}}function Qs(s,...t){if(Fs.logLevel<=Ot.WARN){const i=t.map(Im);Fs.warn(`Firestore (${oo}): ${s}`,...i)}}function Im(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,Lv(s,a,i)}function Lv(s,t,i){let a=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ir(a),new Error(a)}function Ft(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||Lv(t,l,a)}function bt(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends lr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class Pv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class _A{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class vA{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Wr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},g=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Wr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new Pv(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class EA{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class TA{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new EA(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class e0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bA{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new e0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new e0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function SA(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class xm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=SA(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Mt(s,t){return s<t?-1:s>t?1:0}function sm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Hd(l)===Hd(c)?Mt(l,c):Hd(l)?1:-1}return Mt(s.length,t.length)}const AA=55296,wA=57343;function Hd(s){const t=s.charCodeAt(0);return t>=AA&&t<=wA}function to(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const n0="__name__";class Ri{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ri.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=Ri.isNumericId(t),l=Ri.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ri.extractNumericId(t).compare(Ri.extractNumericId(i)):sm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zr.fromString(t.substring(4,t.length-2))}}class re extends Ri{construct(t,i,a){return new re(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const RA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ri{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return RA.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n0}static keyField(){return new Qe([n0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new lt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new lt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new lt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new lt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(re.fromString(t))}static fromName(t){return new dt(re.fromString(t).popFirst(5))}static empty(){return new dt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new re(t.slice()))}}function zv(s,t,i){if(!i)throw new lt($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function CA(s,t,i,a){if(t===!0&&a===!0)throw new lt($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function i0(s){if(!dt.isDocumentKey(s))throw new lt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function r0(s){if(dt.isDocumentKey(s))throw new lt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function jv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Nm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function ei(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new lt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Nm(s);throw new lt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ie(s,t){const i={typeString:s};return t&&(i.value=t),i}function ql(s,t){if(!jv(s))throw new lt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new lt($.INVALID_ARGUMENT,i);return!0}const s0=-62135596800,a0=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*a0);return new se(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<s0)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a0}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ql(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-s0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ie("string",se._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new se(0,0))}static max(){return new Et(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dl=-1;function IA(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(a===1e9?new se(i+1,0):new se(i,a));return new es(l,dt.empty(),t)}function xA(s){return new es(s.readTime,s.key,Dl)}class es{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new es(Et.min(),dt.empty(),Dl)}static max(){return new es(Et.max(),dt.empty(),Dl)}}function NA(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:Mt(s.largestBatchId,t.largestBatchId))}const DA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function lo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==DA)throw s;at("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,a)=>{i(t)}))}static reject(t){return new J(((i,a)=>{a(t)}))}static waitFor(t){return new J(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const a of t)i=i.next((l=>l?J.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new J(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((b=>{d[y]=b,++g,g===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new J(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function MA(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function uo(s){return s.name==="IndexedDbTransactionError"}class hh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hh.ce=-1;const Dm=-1;function fh(s){return s==null}function Qc(s){return s===0&&1/s==-1/0}function VA(s){return typeof s=="number"&&Number.isInteger(s)&&!Qc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Bv="";function kA(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=o0(t)),t=UA(s.get(i),t);return o0(t)}function UA(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case Bv:i+="";break;default:i+=c}}return i}function o0(s){return s+Bv+""}function l0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function os(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function qv(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new u0(this.data.getIterator())}getIteratorFrom(t){return new u0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class u0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Sn([])}unionWith(t){let i=new Me(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Sn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return to(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class Hv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Hv("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const LA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(s){if(Ft(!!s,39018),typeof s=="string"){let t=0;const i=LA.exec(s);if(Ft(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function is(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}const Gv="server_timestamp",Fv="__type__",Qv="__previous_value__",Kv="__local_write_time__";function Om(s){return(s?.mapValue?.fields||{})[Fv]?.stringValue===Gv}function dh(s){const t=s.mapValue.fields[Qv];return Om(t)?dh(t):t}function Ol(s){const t=ns(s.mapValue.fields[Kv].timestampValue);return new se(t.seconds,t.nanos)}class PA{constructor(t,i,a,l,c,d,g,v,y,b,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=A}}const Kc="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||Kc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}function zA(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new lt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(s.options.projectId,t)}const Yv="__type__",jA="__max__",xc={mapValue:{}},Xv="__vector__",Yc="value";function rs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Om(s)?4:qA(s)?9007199254740991:BA(s)?10:11:gt(28295,{value:s})}function Oi(s,t){if(s===t)return!0;const i=rs(s);if(i!==rs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ol(s).isEqual(Ol(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ns(l.timestampValue),g=ns(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return is(l.bytesValue).isEqual(is(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),g=ge(c.doubleValue);return d===g?Qc(d)===Qc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return to(s.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(l0(d)!==l0(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Oi(d[v],g[v])))return!1;return!0})(s,t);default:return gt(52216,{left:s})}}function Vl(s,t){return(s.values||[]).find((i=>Oi(i,t)))!==void 0}function eo(s,t){if(s===t)return 0;const i=rs(s),a=rs(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),v=ge(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(s,t);case 3:return c0(s.timestampValue,t.timestampValue);case 4:return c0(Ol(s),Ol(t));case 5:return sm(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=is(c),v=is(d);return g.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const b=Mt(g[y],v[y]);if(b!==0)return b}return Mt(g.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Mt(ge(c.latitude),ge(d.latitude));return g!==0?g:Mt(ge(c.longitude),ge(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return h0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[Yc]?.arrayValue,b=v[Yc]?.arrayValue,A=Mt(y?.values?.length||0,b?.values?.length||0);return A!==0?A:h0(y,b)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===xc.mapValue&&d===xc.mapValue)return 0;if(c===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},b=Object.keys(y);v.sort(),b.sort();for(let A=0;A<v.length&&A<b.length;++A){const M=sm(v[A],b[A]);if(M!==0)return M;const F=eo(g[v[A]],y[b[A]]);if(F!==0)return F}return Mt(v.length,b.length)})(s.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function c0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Mt(s,t);const i=ns(s),a=ns(t),l=Mt(i.seconds,a.seconds);return l!==0?l:Mt(i.nanos,a.nanos)}function h0(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=eo(i[l],a[l]);if(c)return c}return Mt(i.length,a.length)}function no(s){return am(s)}function am(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=ns(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return is(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=am(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${am(i.fields[d])}`;return l+"}"})(s.mapValue):gt(61005,{value:s})}function Vc(s){switch(rs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dh(s);return t?16+Vc(t):16;case 5:return 2*s.stringValue.length;case 6:return is(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Vc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return os(a.fields,((c,d)=>{l+=c.length+Vc(d)})),l})(s.mapValue);default:throw gt(13486,{value:s})}}function om(s){return!!s&&"integerValue"in s}function Mm(s){return!!s&&"arrayValue"in s}function f0(s){return!!s&&"nullValue"in s}function d0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function kc(s){return!!s&&"mapValue"in s}function BA(s){return(s?.mapValue?.fields||{})[Yv]?.stringValue===Xv}function wl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return os(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=wl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=wl(s.arrayValue.values[i]);return t}return{...s}}function qA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===jA}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!kc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=wl(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=wl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Oi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){os(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new fn(wl(this.value))}}function Jv(s){const t=[];return os(s.fields,((i,a)=>{const l=new Qe([i]);if(kc(a)){const c=Jv(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Sn(t)}class $e{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new $e(t,0,Et.min(),Et.min(),Et.min(),fn.empty(),0)}static newFoundDocument(t,i,a,l){return new $e(t,1,i,Et.min(),a,l,0)}static newNoDocument(t,i){return new $e(t,2,i,Et.min(),Et.min(),fn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,Et.min(),Et.min(),fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xc{constructor(t,i){this.position=t,this.inclusive=i}}function m0(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=eo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function p0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Oi(s.position[i],t.position[i]))return!1;return!0}class Jc{constructor(t,i="asc"){this.field=t,this.dir=i}}function HA(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class $v{}class Oe extends $v{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new FA(t,i,a):i==="array-contains"?new YA(t,a):i==="in"?new XA(t,a):i==="not-in"?new JA(t,a):i==="array-contains-any"?new $A(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new QA(t,a):new KA(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(eo(i,this.value)):i!==null&&rs(this.value)===rs(i)&&this.matchesComparison(eo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends $v{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Mi(t,i)}matches(t){return Zv(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Zv(s){return s.op==="and"}function Wv(s){return GA(s)&&Zv(s)}function GA(s){for(const t of s.filters)if(t instanceof Mi)return!1;return!0}function lm(s){if(s instanceof Oe)return s.field.canonicalString()+s.op.toString()+no(s.value);if(Wv(s))return s.filters.map((t=>lm(t))).join(",");{const t=s.filters.map((i=>lm(i))).join(",");return`${s.op}(${t})`}}function tE(s,t){return s instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&Oi(a.value,l.value)})(s,t):s instanceof Mi?(function(a,l){return l instanceof Mi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&tE(d,l.filters[g])),!0):!1})(s,t):void gt(19439)}function eE(s){return s instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${no(i.value)}`})(s):s instanceof Mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(eE).join(" ,")+"}"})(s):"Filter"}class FA extends Oe{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class QA extends Oe{constructor(t,i){super(t,"in",i),this.keys=nE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class KA extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=nE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function nE(s,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class YA extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Mm(i)&&Vl(i.arrayValue,this.value)}}class XA extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class JA extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class $A extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Mm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vl(this.value.arrayValue,a)))}}class ZA{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function g0(s,t=null,i=[],a=[],l=null,c=null,d=null){return new ZA(s,t,i,a,l,c,d)}function Vm(s){const t=bt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>lm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),fh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>no(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>no(a))).join(",")),t.Te=i}return t.Te}function km(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!HA(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!tE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!p0(s.startAt,t.startAt)&&p0(s.endAt,t.endAt)}function um(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class mh{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function WA(s,t,i,a,l,c,d,g){return new mh(s,t,i,a,l,c,d,g)}function ph(s){return new mh(s)}function y0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function tw(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function ew(s){return s.collectionGroup!==null}function Rl(s){const t=bt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Jc(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Jc(Qe.keyField(),a))}return t.Ie}function Ci(s){const t=bt(s);return t.Ee||(t.Ee=nw(t,Rl(s))),t.Ee}function nw(s,t){if(s.limitType==="F")return g0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Jc(l.field,c)}));const i=s.endAt?new Xc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Xc(s.startAt.position,s.startAt.inclusive):null;return g0(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function cm(s,t,i){return new mh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function gh(s,t){return km(Ci(s),Ci(t))&&s.limitType===t.limitType}function iE(s){return`${Vm(Ci(s))}|lt:${s.limitType}`}function Ha(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>eE(l))).join(", ")}]`),fh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>no(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>no(l))).join(",")),`Target(${a})`})(Ci(s))}; limitType=${s.limitType})`}function yh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Rl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,v){const y=m0(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,Rl(a),l)||a.endAt&&!(function(d,g,v){const y=m0(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,Rl(a),l))})(s,t)}function iw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function rE(s){return(t,i)=>{let a=!1;for(const l of Rl(s)){const c=rw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function rw(s,t,i){const a=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?eo(v,y):gt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:s.dir})}}class Js{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){os(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return qv(this.inner)}size(){return this.innerSize}}const sw=new ue(dt.comparator);function rr(){return sw}const sE=new ue(dt.comparator);function Tl(...s){let t=sE;for(const i of s)t=t.insert(i.key,i);return t}function aE(s){let t=sE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Bs(){return Cl()}function oE(){return Cl()}function Cl(){return new Js((s=>s.toString()),((s,t)=>s.isEqual(t)))}const aw=new ue(dt.comparator),ow=new Me(dt.comparator);function Vt(...s){let t=ow;for(const i of s)t=t.add(i);return t}const lw=new Me(Mt);function uw(){return lw}function Um(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(t)?"-0":t}}function lE(s){return{integerValue:""+s}}function cw(s,t){return VA(t)?lE(t):Um(s,t)}class _h{constructor(){this._=void 0}}function hw(s,t,i){return s instanceof kl?(function(l,c){const d={fields:{[Fv]:{stringValue:Gv},[Kv]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Om(c)&&(c=dh(c)),c&&(d.fields[Qv]=c),{mapValue:d}})(i,t):s instanceof Ul?cE(s,t):s instanceof Ll?hE(s,t):(function(l,c){const d=uE(l,c),g=_0(d)+_0(l.Ae);return om(d)&&om(l.Ae)?lE(g):Um(l.serializer,g)})(s,t)}function fw(s,t,i){return s instanceof Ul?cE(s,t):s instanceof Ll?hE(s,t):i}function uE(s,t){return s instanceof $c?(function(a){return om(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class kl extends _h{}class Ul extends _h{constructor(t){super(),this.elements=t}}function cE(s,t){const i=fE(t);for(const a of s.elements)i.some((l=>Oi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ll extends _h{constructor(t){super(),this.elements=t}}function hE(s,t){let i=fE(t);for(const a of s.elements)i=i.filter((l=>!Oi(l,a)));return{arrayValue:{values:i}}}class $c extends _h{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function _0(s){return ge(s.integerValue||s.doubleValue)}function fE(s){return Mm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class dw{constructor(t,i){this.field=t,this.transform=i}}function mw(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Ul&&l instanceof Ul||a instanceof Ll&&l instanceof Ll?to(a.elements,l.elements,Oi):a instanceof $c&&l instanceof $c?Oi(a.Ae,l.Ae):a instanceof kl&&l instanceof kl})(s.transform,t.transform)}class pw{constructor(t,i){this.version=t,this.transformResults=i}}class An{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new An}static exists(t){return new An(void 0,t)}static updateTime(t){return new An(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class vh{}function dE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Lm(s.key,An.none()):new Hl(s.key,s.data,An.none());{const i=s.data,a=fn.empty();let l=new Me(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ls(s.key,a,new Sn(l.toArray()),An.none())}}function gw(s,t,i){s instanceof Hl?(function(l,c,d){const g=l.value.clone(),v=E0(l.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof ls?(function(l,c,d){if(!Uc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=E0(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(mE(l)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Il(s,t,i,a){return s instanceof Hl?(function(c,d,g,v){if(!Uc(c.precondition,d))return g;const y=c.value.clone(),b=T0(c.fieldTransforms,v,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof ls?(function(c,d,g,v){if(!Uc(c.precondition,d))return g;const y=T0(c.fieldTransforms,v,d),b=d.data;return b.setAll(mE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,a):(function(c,d,g){return Uc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function yw(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=uE(a.transform,l||null);c!=null&&(i===null&&(i=fn.empty()),i.set(a.field,c))}return i||null}function v0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&to(a,l,((c,d)=>mw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Hl extends vh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ls extends vh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function mE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function E0(s,t,i){const a=new Map;Ft(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,fw(d,g,i[l]))}return a}function T0(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,hw(c,d,t))}return a}class Lm extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _w extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&gw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Il(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Il(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=oE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const v=dE(d,g);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&to(this.mutations,t.mutations,((i,a)=>v0(i,a)))&&to(this.baseMutations,t.baseMutations,((i,a)=>v0(i,a)))}}class Pm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return aw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Pm(t,i,a,l)}}class Ew{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Tw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ce,Pt;function bw(s){switch(s){case $.OK:return gt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function pE(s){if(s===void 0)return ir("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ce.OK:return $.OK;case Ce.CANCELLED:return $.CANCELLED;case Ce.UNKNOWN:return $.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return $.INTERNAL;case Ce.UNAVAILABLE:return $.UNAVAILABLE;case Ce.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ce.NOT_FOUND:return $.NOT_FOUND;case Ce.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ce.ABORTED:return $.ABORTED;case Ce.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ce.DATA_LOSS:return $.DATA_LOSS;default:return gt(39323,{code:s})}}(Pt=Ce||(Ce={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function Sw(){return new TextEncoder}const Aw=new Zr([4294967295,4294967295],0);function b0(s){const t=Sw().encode(s),i=new Dv;return i.update(t),new Uint8Array(i.digest())}function S0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Zr([i,a],0),new Zr([l,c],0)]}class zm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new bl(`Invalid padding: ${i}`);if(a<0)throw new bl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Zr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Zr.fromNumber(a)));return l.compare(Aw)===1&&(l=new Zr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=b0(t),[a,l]=S0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new zm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=b0(t),[a,l]=S0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Gl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Eh(Et.min(),l,new ue(Mt),rr(),Vt())}}class Gl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Gl(a,i,Vt(),Vt(),Vt())}}class Lc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class gE{constructor(t,i){this.targetId=t,this.Ce=i}}class yE{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class A0{constructor(){this.ve=0,this.Fe=w0(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new Gl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=w0()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ww{constructor(t){this.Ge=t,this.ze=new Map,this.je=rr(),this.He=Nc(),this.Je=Nc(),this.Ze=new ue(Mt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(um(c))if(a===0){const d=new dt(c.path);this.et(i,d,$e.newNoDocument(d,Et.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=is(a).toUint8Array()}catch(v){if(v instanceof Hv)return Qs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new zm(d,l,c)}catch(v){return Qs(v instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&um(g.target)){const v=new dt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,$e.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Vt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Eh(t,i,this.Ze,this.je,a);return this.je=rr(),this.He=Nc(),this.Je=Nc(),this.Ze=new ue(Mt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new A0,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Me(Mt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Me(Mt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new A0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new ue(dt.comparator)}function w0(){return new ue(dt.comparator)}const Rw={asc:"ASCENDING",desc:"DESCENDING"},Cw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iw={and:"AND",or:"OR"};class xw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function hm(s,t){return s.useProto3Json||fh(t)?t:{value:t}}function Zc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _E(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Nw(s,t){return Zc(s,t.toTimestamp())}function Ii(s){return Ft(!!s,49232),Et.fromTimestamp((function(i){const a=ns(i);return new se(a.seconds,a.nanos)})(s))}function jm(s,t){return fm(s,t).canonicalString()}function fm(s,t){const i=(function(l){return new re(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function vE(s){const t=re.fromString(s);return Ft(AE(t),10190,{key:t.toString()}),t}function dm(s,t){return jm(s.databaseId,t.path)}function Gd(s,t){const i=vE(t);if(i.get(1)!==s.databaseId.projectId)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(TE(i))}function EE(s,t){return jm(s.databaseId,t)}function Dw(s){const t=vE(s);return t.length===4?re.emptyPath():TE(t)}function mm(s){return new re(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function TE(s){return Ft(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function R0(s,t,i){return{name:dm(s,t),fields:i.value.mapValue.fields}}function Ow(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Ft(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(Ft(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?$.UNKNOWN:pE(y.code);return new lt(b,y.message||"")})(d);i=new yE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Gd(s,a.document.name),c=Ii(a.document.updateTime),d=a.document.createTime?Ii(a.document.createTime):Et.min(),g=new fn({mapValue:{fields:a.document.fields}}),v=$e.newFoundDocument(l,c,d,g),y=a.targetIds||[],b=a.removedTargetIds||[];i=new Lc(y,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Gd(s,a.document),c=a.readTime?Ii(a.readTime):Et.min(),d=$e.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Lc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Gd(s,a.document),c=a.removedTargetIds||[];i=new Lc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Tw(l,c),g=a.targetId;i=new gE(g,d)}}return i}function Mw(s,t){let i;if(t instanceof Hl)i={update:R0(s,t.key,t.value)};else if(t instanceof Lm)i={delete:dm(s,t.key)};else if(t instanceof ls)i={update:R0(s,t.key,t.data),updateMask:qw(t.fieldMask)};else{if(!(t instanceof _w))return gt(16599,{dt:t.type});i={verify:dm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof kl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ul)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ll)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof $c)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Nw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(s,t.precondition)),i}function Vw(s,t){return s&&s.length>0?(Ft(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ii(l.updateTime):Ii(c);return d.isEqual(Et.min())&&(d=Ii(c)),new pw(d,l.transformResults||[])})(i,t)))):[]}function kw(s,t){return{documents:[EE(s,t.path)]}}function Uw(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=EE(s,l);const c=(function(y){if(y.length!==0)return SE(Mi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(M){return{field:Ga(M.field),direction:zw(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=hm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function Lw(s){let t=Dw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ft(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const M=bE(A);return M instanceof Mi&&Wv(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(Z){return new Jc(Fa(Z.field),(function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let M;return M=typeof A=="object"?A.value:A,fh(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(A){const M=!!A.before,F=A.values||[];return new Xc(F,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const M=!A.before,F=A.values||[];return new Xc(F,M)})(i.endAt)),WA(t,l,d,c,g,"F",v,y)}function Pw(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function bE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Fa(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Fa(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fa(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Oe.create(Fa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Mi.create(i.compositeFilter.filters.map((a=>bE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function zw(s){return Rw[s]}function jw(s){return Cw[s]}function Bw(s){return Iw[s]}function Ga(s){return{fieldPath:s.canonicalString()}}function Fa(s){return Qe.fromServerFormat(s.fieldPath)}function SE(s){return s instanceof Oe?(function(i){if(i.op==="=="){if(d0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(f0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(d0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(f0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:jw(i.op),value:i.value}}})(s):s instanceof Mi?(function(i){const a=i.getFilters().map((l=>SE(l)));return a.length===1?a[0]:{compositeFilter:{op:Bw(i.op),filters:a}}})(s):gt(54877,{filter:s})}function qw(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function AE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function wE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Yr{constructor(t,i,a,l,c=Et.min(),d=Et.min(),g=Ke.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Yr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Hw{constructor(t){this.yt=t}}function Gw(s){const t=Lw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?cm(t,t.limit,"L"):t}class Fw{constructor(){this.Sn=new Qw}addToCollectionParentIndex(t,i){return this.Sn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(es.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(es.min())}updateCollectionGroup(t,i,a){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class Qw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Me(re.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(re.comparator)).toArray()}}const C0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(RE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class io{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new io(0)}static ar(){return new io(-1)}}const I0="LruGarbageCollector",Kw=1048576;function x0([s,t],[i,a]){const l=Mt(s,i);return l===0?Mt(t,a):l}class Yw{constructor(t){this.Pr=t,this.buffer=new Me(x0),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();x0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Xw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(I0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){uo(i)?at(I0,"Ignoring IndexedDB error during garbage collection: ",i):await lo(i)}await this.Ar(3e5)}))}}class Jw{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(hh.ce);const a=new Yw(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(C0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C0):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,g,v,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,g=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(y=Date.now(),qa()<=Ot.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${A} documents in `+(y-v)+`ms
Total Duration: ${y-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function $w(s,t){return new Jw(s,t)}class Zw{constructor(){this.changes=new Js((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Ww{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class t2{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Il(a.mutation,l,Sn.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=Bs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Tl();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Bs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=rr();const d=Cl(),g=(function(){return Cl()})();return i.forEach(((v,y)=>{const b=a.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof ls)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Il(b.mutation,y,b.mutation.getFieldMask(),se.now())):d.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new Ww(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Cl();let l=new ue(((d,g)=>d-g)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let b=a.get(v)||Sn.empty();b=g.applyToLocalView(y,b),a.set(v,b);const A=(l.get(g.batchId)||Vt()).add(v);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,b=v.value,A=oE();b.forEach((M=>{if(!c.has(M)){const F=dE(i.get(M),a.get(M));F!==null&&A.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return tw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ew(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):J.resolve(Bs());let g=Dl,v=c;return d.next((y=>J.forEach(y,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{v=v.insert(b,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Vt()))).next((b=>({batchId:g,changes:aE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=Tl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(t,c).next((g=>J.forEach(g,(v=>{const y=(function(A,M){return new mh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((b=>{b.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,$e.newInvalidDocument(b)))}));let g=Tl();return d.forEach(((v,y)=>{const b=c.get(v);b!==void 0&&Il(b.mutation,y,Sn.empty(),se.now()),yh(i,y)&&(g=g.insert(v,y))})),g}))}}class e2{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ii(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:Gw(l.bundledQuery),readTime:Ii(l.readTime)}})(i)),J.resolve()}}class n2{constructor(){this.overlays=new ue(dt.comparator),this.Lr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Bs();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),J.resolve()}getOverlaysForCollection(t,i,a){const l=Bs(),c=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ue(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=Bs(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=Bs(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=l)););return J.resolve(g)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Ew(i,a));let c=this.Lr.get(i);c===void 0&&(c=Vt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class i2{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Bm{constructor(){this.kr=new Me(Le.Kr),this.qr=new Me(Le.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Le(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new dt(new re([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new dt(new re([])),a=new Le(i,t),l=new Le(i,t+1);let c=Vt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return dt.comparator(t.key,i.key)||Mt(t.Hr,i.Hr)}static Ur(t,i){return Mt(t.Hr,i.Hr)||dt.comparator(t.key,i.key)}}class r2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Me(Le.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vw(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Le(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Dm:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Mt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),J.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new dt(c),0);let g=new Me(Mt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(v.Hr)),!0)}),d),J.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return J.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Le(i,0),l=this.Jr.firstAfterOrEqual(a);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class s2{constructor(t){this.ti=t,this.docs=(function(){return new ue(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let a=rr();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),J.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=rr();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:b}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||NA(xA(b),a)<=0||(l.has(b.key)||yh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ni(t,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new a2(this)}getSize(t){return J.resolve(this.size)}}class a2 extends Zw{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),J.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class o2{constructor(t){this.persistence=t,this.ri=new Js((i=>Vm(i)),km),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new Bm,this.targetCount=0,this.oi=io._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),J.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new io(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.lr(i),J.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return J.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),J.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return J.resolve(a)}containsKey(t,i){return J.resolve(this.si.containsKey(i))}}class CE{constructor(t,i){this._i={},this.overlays={},this.ai=new hh(0),this.ui=!1,this.ui=!0,this.ci=new i2,this.referenceDelegate=t(this),this.li=new o2(this),this.indexManager=new Fw,this.remoteDocumentCache=(function(l){return new s2(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new Hw(i),this.Pi=new e2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new n2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new r2(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new l2(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return J.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class l2 extends OA{constructor(t){super(),this.currentSequenceNumber=t}}class qm{constructor(t){this.persistence=t,this.Ri=new Bm,this.Ai=null}static Vi(t){return new qm(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),J.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(a=>{const l=dt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Wc{constructor(t,i){this.persistence=t,this.fi=new Js((a=>kA(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=$w(this,i)}static Vi(t,i){return new Wc(t,i)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return J.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Vc(t.data.value)),i}wr(t,i,a){return J.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return J.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Hm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Hm(t,i.fromCache,a,l)}}class u2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class c2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Jb()?8:MA(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new u2;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(qa()<=Ot.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(qa()<=Ot.DEBUG&&at("QueryEngine","Query:",Ha(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(qa()<=Ot.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ci(i))):J.resolve())}gs(t,i){if(y0(i))return J.resolve(null);let a=Ci(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=cm(i,null,"F"),a=Ci(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,g);return this.Ss(i,y,d,v.readTime)?this.gs(t,cm(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,l){return y0(i)||l.isEqual(Et.min())?J.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?J.resolve(null):(qa()<=Ot.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ha(i)),this.Ds(t,d,i,IA(l,Dl)).next((g=>g)))}))}bs(t,i){let a=new Me(rE(t));return i.forEach(((l,c)=>{yh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return qa()<=Ot.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.fs.getDocumentsMatchingQuery(t,i,es.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Gm="LocalStore",h2=3e8;class f2{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new ue(Mt),this.Fs=new Js((c=>Vm(c)),km),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new t2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function d2(s,t,i,a){return new f2(s,t,i,a)}async function IE(s,t){const i=bt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=Vt();for(const y of l){d.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function m2(s,t){const i=bt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,b){const A=y.batch,M=A.keys();let F=J.resolve();return M.forEach((Z=>{F=F.next((()=>b.getEntry(v,Z))).next((it=>{const nt=y.docVersions.get(Z);Ft(nt!==null,48541),it.version.compareTo(nt)<0&&(A.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),b.addEntry(it)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(v,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Vt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function xE(s){const t=bt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function p2(s,t){const i=bt(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];t.targetChanges.forEach(((b,A)=>{const M=l.get(A);if(!M)return;g.push(i.li.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,A))));let F=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?F=F.withResumeToken(Ke.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,a)),l=l.insert(A,F),(function(it,nt,ft){return it.resumeToken.approximateByteSize()===0||nt.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=h2?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(M,F,b)&&g.push(i.li.updateTargetData(c,F))}));let v=rr(),y=Vt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(g2(c,d,t.documentUpdates).next((b=>{v=b.Bs,y=b.Ls}))),!a.isEqual(Et.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function g2(s,t,i){let a=Vt(),l=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=rr();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(Et.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):at(Gm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function y2(s,t){const i=bt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Dm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function _2(s,t){const i=bt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,J.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Yr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function pm(s,t,i){const a=bt(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!uo(d))throw d;at(Gm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function N0(s,t,i){const a=bt(s);let l=Et.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,b){const A=bt(v),M=A.Fs.get(b);return M!==void 0?J.resolve(A.vs.get(M)):A.li.getTargetData(y,b)})(a,d,Ci(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:Vt()))).next((g=>(v2(a,iw(t),g),{documents:g,ks:c})))))}function v2(s,t,i){let a=s.Ms.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class D0{constructor(){this.activeTargetIds=uw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class E2{constructor(){this.vo=new D0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new D0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class T2{Mo(t){}shutdown(){}}const O0="ConnectivityMonitor";class M0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(O0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(O0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function gm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const Fd="RestConnection",b2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class S2{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Kc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=gm(),g=this.Qo(t,i.toUriEncodedString());at(Fd,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(g),b=so(y);return this.zo(t,g,v,a,b).then((A=>(at(Fd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Qs(Fd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=b2[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class A2{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",vl=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Ka extends S2{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ka.c_){const t=kv();vl(t,Vv.STAT_EVENT,(i=>{i.stat===rm.PROXY?at(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===rm.NOPROXY&&at(Xe,"STAT_EVENT: detected no buffering proxy")})),Ka.c_=!0}}zo(t,i,a,l,c){const d=gm();return new Promise(((g,v)=>{const y=new Ov;y.setWithCredentials(!0),y.listenOnce(Mv.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Mc.NO_ERROR:const A=y.getResponseJson();at(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Mc.TIMEOUT:at(Xe,`RPC '${t}' ${d} timed out`),v(new lt($.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const M=y.getStatus();if(at(Xe,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F?.error;if(Z&&Z.status&&Z.message){const it=(function(ft){const rt=ft.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(rt)>=0?rt:$.UNKNOWN})(Z.status);v(new lt(it,Z.message))}else v(new lt($.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new lt($.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(Xe,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);at(Xe,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=gm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");at(Xe,`Creating RPC '${t}' stream ${l}: ${y}`,g);const b=d.createWebChannel(y,g);this.I_(b);let A=!1,M=!1;const F=new A2({Ho:Z=>{M?at(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(A||(at(Xe,`Opening RPC '${t}' stream ${l} transport.`),b.open(),A=!0),at(Xe,`RPC '${t}' stream ${l} sending:`,Z),b.send(Z))},Jo:()=>b.close()});return vl(b,El.EventType.OPEN,(()=>{M||(at(Xe,`RPC '${t}' stream ${l} transport opened.`),F.i_())})),vl(b,El.EventType.CLOSE,(()=>{M||(M=!0,at(Xe,`RPC '${t}' stream ${l} transport closed`),F.o_(),this.E_(b))})),vl(b,El.EventType.ERROR,(Z=>{M||(M=!0,Qs(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),F.o_(new lt($.UNAVAILABLE,"The operation could not be completed")))})),vl(b,El.EventType.MESSAGE,(Z=>{if(!M){const it=Z.data[0];Ft(!!it,16349);const nt=it,ft=nt?.error||nt[0]?.error;if(ft){at(Xe,`RPC '${t}' stream ${l} received error:`,ft);const rt=ft.status;let ut=(function(Ct){const C=Ce[Ct];if(C!==void 0)return pE(C)})(rt),_t=ft.message;rt==="NOT_FOUND"&&_t.includes("database")&&_t.includes("does not exist")&&_t.includes(this.databaseId.database)&&Qs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ut===void 0&&(ut=$.INTERNAL,_t="Unknown error status: "+rt+" with message "+ft.message),M=!0,F.o_(new lt(ut,_t)),b.close()}else at(Xe,`RPC '${t}' stream ${l} received:`,it),F.__(it)}})),Ka.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Uv()}}function w2(s){return new Ka(s)}function Qd(){return typeof document<"u"?document:null}function Th(s){return new xw(s,!0)}Ka.c_=!1;class NE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const V0="PersistentStream";class DE{constructor(t,i,a,l,c,d,g,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ir(i.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new lt($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(V0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(at(V0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class R2 extends DE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Ow(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Ii(d.readTime):Et.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=mm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=um(v)?{documents:kw(c,v)}:{query:Uw(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=_E(c,d.resumeToken);const y=hm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=Zc(c,d.snapshotVersion.toTimestamp());const y=hm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=Pw(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=mm(this.serializer),i.removeTarget=t,this.K_(i)}}class C2 extends DE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Vw(t.writeResults,t.commitTime),a=Ii(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=mm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Mw(this.serializer,a)))};this.K_(i)}}class I2{}class x2 extends I2{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,fm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt($.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,fm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function N2(s,t,i,a){return new x2(s,t,i,a)}class D2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ir(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ks="RemoteStore";class O2{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{$s(this)&&(at(Ks,"Restarting streams for network reachability change."),await(async function(v){const y=bt(v);y.Ea.add(4),await Fl(y),y.Va.set("Unknown"),y.Ea.delete(4),await bh(y)})(this))}))})),this.Va=new D2(a,l)}}async function bh(s){if($s(s))for(const t of s.Ra)await t(!0)}async function Fl(s){for(const t of s.Ra)await t(!1)}function OE(s,t){const i=bt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Ym(i)?Km(i):co(i).O_()&&Qm(i,t))}function Fm(s,t){const i=bt(s),a=co(i);i.Ia.delete(t),a.O_()&&ME(i,t),i.Ia.size===0&&(a.O_()?a.L_():$s(i)&&i.Va.set("Unknown"))}function Qm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}co(s).Z_(t)}function ME(s,t){s.da.$e(t),co(s).X_(t)}function Km(s){s.da=new ww({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),co(s).start(),s.Va.ua()}function Ym(s){return $s(s)&&!co(s).x_()&&s.Ia.size>0}function $s(s){return bt(s).Ea.size===0}function VE(s){s.da=void 0}async function M2(s){s.Va.set("Online")}async function V2(s){s.Ia.forEach(((t,i)=>{Qm(s,t)}))}async function k2(s,t){VE(s),Ym(s)?(s.Va.ha(t),Km(s)):s.Va.set("Unknown")}async function U2(s,t,i){if(s.Va.set("Online"),t instanceof yE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,t)}catch(a){at(Ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await th(s,a)}else if(t instanceof Lc?s.da.Xe(t):t instanceof gE?s.da.st(t):s.da.tt(t),!i.isEqual(Et.min()))try{const a=await xE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const b=c.Ia.get(v);if(!b)return;c.Ia.set(v,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),ME(c,v);const A=new Yr(b.target,v,y,b.sequenceNumber);Qm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){at(Ks,"Failed to raise snapshot:",a),await th(s,a)}}async function th(s,t,i){if(!uo(t))throw t;s.Ea.add(1),await Fl(s),s.Va.set("Offline"),i||(i=()=>xE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(Ks,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await bh(s)}))}function kE(s,t){return t().catch((i=>th(s,i,t)))}async function Sh(s){const t=bt(s),i=ss(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Dm;for(;L2(t);)try{const l=await y2(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,P2(t,l)}catch(l){await th(t,l)}UE(t)&&LE(t)}function L2(s){return $s(s)&&s.Ta.length<10}function P2(s,t){s.Ta.push(t);const i=ss(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function UE(s){return $s(s)&&!ss(s).x_()&&s.Ta.length>0}function LE(s){ss(s).start()}async function z2(s){ss(s).ra()}async function j2(s){const t=ss(s);for(const i of s.Ta)t.ea(i.mutations)}async function B2(s,t,i){const a=s.Ta.shift(),l=Pm.from(a,t,i);await kE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Sh(s)}async function q2(s,t){t&&ss(s).Y_&&await(async function(a,l){if((function(d){return bw(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();ss(a).B_(),await kE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Sh(a)}})(s,t),UE(s)&&LE(s)}async function k0(s,t){const i=bt(s);i.asyncQueue.verifyOperationInProgress(),at(Ks,"RemoteStore received new credentials");const a=$s(i);i.Ea.add(3),await Fl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await bh(i)}async function H2(s,t){const i=bt(s);t?(i.Ea.delete(2),await bh(i)):t||(i.Ea.add(2),await Fl(i),i.Va.set("Unknown"))}function co(s){return s.ma||(s.ma=(function(i,a,l){const c=bt(i);return c.sa(),new R2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:M2.bind(null,s),Yo:V2.bind(null,s),t_:k2.bind(null,s),J_:U2.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Ym(s)?Km(s):s.Va.set("Unknown")):(await s.ma.stop(),VE(s))}))),s.ma}function ss(s){return s.fa||(s.fa=(function(i,a,l){const c=bt(i);return c.sa(),new C2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:z2.bind(null,s),t_:q2.bind(null,s),ta:j2.bind(null,s),na:B2.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Sh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(Ks,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Xm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new Xm(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(s,t){if(ir("AsyncQueue",`${t}: ${s}`),uo(s))return new lt($.UNAVAILABLE,`${t}: ${s}`);throw s}class Ya{static emptySet(t){return new Ya(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=Tl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ya)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ya;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class U0{constructor(){this.ga=new ue(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class ro{constructor(t,i,a,l,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new ro(t,i,Ya.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class G2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class F2{constructor(){this.queries=L0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=bt(i),c=l.queries;l.queries=L0(),c.forEach(((d,g)=>{for(const v of g.ba)v.onError(a)}))})(this,new lt($.ABORTED,"Firestore shutting down"))}}function L0(){return new Js((s=>iE(s)),gh)}async function PE(s,t){const i=bt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new G2,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Jm(d,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&$m(i)}async function zE(s,t){const i=bt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function Q2(s,t){const i=bt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(a=!0);d.wa=l}}a&&$m(i)}function K2(s,t,i){const a=bt(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function $m(s){s.Ca.forEach((t=>{t.next()}))}var ym,P0;(P0=ym||(ym={})).Ma="default",P0.Cache="cache";class jE{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new ro(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ym.Cache}}class BE{constructor(t){this.key=t}}class qE{constructor(t){this.key=t}}class Y2{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.eu=rE(t),this.tu=new Ya(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new U0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,A)=>{const M=l.get(b),F=yh(this.query,A)?A:null,Z=!!M&&this.mutatedKeys.has(M.key),it=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let nt=!1;M&&F?M.data.isEqual(F.data)?Z!==it&&(a.track({type:3,doc:F}),nt=!0):this.su(M,F)||(a.track({type:2,doc:F}),nt=!0,(v&&this.eu(F,v)>0||y&&this.eu(F,y)<0)&&(g=!0)):!M&&F?(a.track({type:0,doc:F}),nt=!0):M&&!F&&(a.track({type:1,doc:M}),nt=!0,(v||y)&&(g=!0)),nt&&(F?(d=d.add(F),c=it?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(F,Z){const it=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:nt})}};return it(F)-it(Z)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new ro(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new U0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new qE(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new BE(a))})),i}cu(t){this.Za=t.ks,this.Ya=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Zm="SyncEngine";class X2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class J2{constructor(t){this.key=t,this.hu=!1}}class $2{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Js((g=>iE(g)),gh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(dt.comparator),this.Au=new Map,this.Vu=new Bm,this.du={},this.mu=new Map,this.fu=io.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Z2(s,t,i=!0){const a=YE(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await HE(a,t,i,!0),l}async function W2(s,t){const i=YE(s);await HE(i,t,!0,!1)}async function HE(s,t,i,a){const l=await _2(s.localStore,Ci(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await tR(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&OE(s.remoteStore,l),g}async function tR(s,t,i,a,l){s.pu=(A,M,F)=>(async function(it,nt,ft,rt){let ut=nt.view.ru(ft);ut.Ss&&(ut=await N0(it.localStore,nt.query,!1).then((({documents:C})=>nt.view.ru(C,ut))));const _t=rt&&rt.targetChanges.get(nt.targetId),Bt=rt&&rt.targetMismatches.get(nt.targetId)!=null,Ct=nt.view.applyChanges(ut,it.isPrimaryClient,_t,Bt);return j0(it,nt.targetId,Ct.au),Ct.snapshot})(s,A,M,F);const c=await N0(s.localStore,t,!0),d=new Y2(t,c.ks),g=d.ru(c.documents),v=Gl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,v);j0(s,i,y.au);const b=new X2(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function eR(s,t,i){const a=bt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!gh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await pm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Fm(a.remoteStore,l.targetId),_m(a,l.targetId)})).catch(lo)):(_m(a,l.targetId),await pm(a.localStore,l.targetId,!0))}async function nR(s,t){const i=bt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Fm(i.remoteStore,a.targetId))}async function iR(s,t,i){const a=cR(s);try{const l=await(function(d,g){const v=bt(d),y=se.now(),b=g.reduce(((F,Z)=>F.add(Z.key)),Vt());let A,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let Z=rr(),it=Vt();return v.xs.getEntries(F,b).next((nt=>{Z=nt,Z.forEach(((ft,rt)=>{rt.isValidDocument()||(it=it.add(ft))}))})).next((()=>v.localDocuments.getOverlayedDocuments(F,Z))).next((nt=>{A=nt;const ft=[];for(const rt of g){const ut=yw(rt,A.get(rt.key).overlayedDocument);ut!=null&&ft.push(new ls(rt.key,ut,Jv(ut.value.mapValue),An.exists(!0)))}return v.mutationQueue.addMutationBatch(F,y,ft,g)})).next((nt=>{M=nt;const ft=nt.applyToLocalDocumentSet(A,it);return v.documentOverlayCache.saveOverlays(F,nt.batchId,ft)}))})).then((()=>({batchId:M.batchId,changes:aE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,v){let y=d.du[d.currentUser.toKey()];y||(y=new ue(Mt)),y=y.insert(g,v),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Ql(a,l.changes),await Sh(a.remoteStore)}catch(l){const c=Jm(l,"Failed to persist write");i.reject(c)}}async function GE(s,t){const i=bt(s);try{const a=await p2(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Ql(i,a,t)}catch(a){await lo(a)}}function z0(s,t,i){const a=bt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const v=bt(d);v.onlineState=g;let y=!1;v.queries.forEach(((b,A)=>{for(const M of A.ba)M.va(g)&&(y=!0)})),y&&$m(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function rR(s,t,i){const a=bt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ue(dt.comparator);d=d.insert(c,$e.newNoDocument(c,Et.min()));const g=Vt().add(c),v=new Eh(Et.min(),new Map,new ue(Mt),d,g);await GE(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),Wm(a)}else await pm(a.localStore,t,!1).then((()=>_m(a,t,i))).catch(lo)}async function sR(s,t){const i=bt(s),a=t.batch.batchId;try{const l=await m2(i.localStore,t);QE(i,a,null),FE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Ql(i,l)}catch(l){await lo(l)}}async function aR(s,t,i){const a=bt(s);try{const l=await(function(d,g){const v=bt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return v.mutationQueue.lookupMutationBatch(y,g).next((A=>(Ft(A!==null,37113),b=A.keys(),v.mutationQueue.removeMutationBatch(y,A)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>v.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);QE(a,t,i),FE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Ql(a,l)}catch(l){await lo(l)}}function FE(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function QE(s,t,i){const a=bt(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function _m(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||KE(s,a)}))}function KE(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Fm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),Wm(s))}function j0(s,t,i){for(const a of i)a instanceof BE?(s.Vu.addReference(a.key,t),oR(s,a)):a instanceof qE?(at(Zm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||KE(s,a.key)):gt(19791,{wu:a})}function oR(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(at(Zm,"New document in limbo: "+i),s.Eu.add(a),Wm(s))}function Wm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new dt(re.fromString(t)),a=s.fu.next();s.Au.set(a,new J2(i)),s.Ru=s.Ru.insert(i,a),OE(s.remoteStore,new Yr(Ci(ph(i.path)),a,"TargetPurposeLimboResolution",hh.ce))}}async function Ql(s,t,i){const a=bt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Hm.Es(v.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,y){const b=bt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(y,(M=>J.forEach(M.Ts,(F=>b.persistence.referenceDelegate.addReference(A,M.targetId,F))).next((()=>J.forEach(M.Is,(F=>b.persistence.referenceDelegate.removeReference(A,M.targetId,F)))))))))}catch(A){if(!uo(A))throw A;at(Gm,"Failed to update sequence numbers: "+A)}for(const A of y){const M=A.targetId;if(!A.fromCache){const F=b.vs.get(M),Z=F.snapshotVersion,it=F.withLastLimboFreeSnapshotVersion(Z);b.vs=b.vs.insert(M,it)}}})(a.localStore,c))}async function lR(s,t){const i=bt(s);if(!i.currentUser.isEqual(t)){at(Zm,"User change. New user:",t.toKey());const a=await IE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new lt($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Ql(i,a.Ns)}}function uR(s,t){const i=bt(s),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function YE(s){const t=bt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=GE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rR.bind(null,t),t.Pu.J_=Q2.bind(null,t.eventManager),t.Pu.yu=K2.bind(null,t.eventManager),t}function cR(s){const t=bt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aR.bind(null,t),t}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return d2(this.persistence,new c2,t.initialUser,this.serializer)}Cu(t){return new CE(qm.Vi,this.serializer)}Du(t){return new E2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class hR extends eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof Wc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Xw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new CE((a=>Wc.Vi(a,i)),this.serializer)}}class vm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>z0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=lR.bind(null,this.syncEngine),await H2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new F2})()}createDatastore(t){const i=Th(t.databaseInfo.databaseId),a=w2(t.databaseInfo);return N2(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new O2(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>z0(this.syncEngine,i,0)),(function(){return M0.v()?new M0:new T2})())}createSyncEngine(t,i){return(function(l,c,d,g,v,y,b){const A=new $2(l,c,d,g,v,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=bt(i);at(Ks,"RemoteStore shutting down."),a.Ea.add(5),await Fl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vm.provider={build:()=>new vm};class XE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ir("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const as="FirestoreClient";class fR{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(as,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(as,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Jm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Kd(s,t){s.asyncQueue.verifyOperationInProgress(),at(as,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await IE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function B0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await dR(s);at(as,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>k0(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>k0(t.remoteStore,l))),s._onlineComponents=t}async function dR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(as,"Using user provided OfflineComponentProvider");try{await Kd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Qs("Error using user provided cache. Falling back to memory cache: "+i),await Kd(s,new eh)}}else at(as,"Using default OfflineComponentProvider"),await Kd(s,new hR(void 0));return s._offlineComponents}async function JE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(as,"Using user provided OnlineComponentProvider"),await B0(s,s._uninitializedComponentsProvider._online)):(at(as,"Using default OnlineComponentProvider"),await B0(s,new vm))),s._onlineComponents}function mR(s){return JE(s).then((t=>t.syncEngine))}async function Em(s){const t=await JE(s),i=t.eventManager;return i.onListen=Z2.bind(null,t.syncEngine),i.onUnlisten=eR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=W2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=nR.bind(null,t.syncEngine),i}function pR(s,t,i,a){const l=new XE(a),c=new jE(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>PE(await Em(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>zE(await Em(s),c)))}}function gR(s,t,i={}){const a=new Wr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,v,y){const b=new XE({next:M=>{b.Nu(),d.enqueueAndForget((()=>zE(c,A)));const F=M.docs.has(g);!F&&M.fromCache?y.reject(new lt($.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&v&&v.source==="server"?y.reject(new lt($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),A=new jE(ph(g.path),b,{includeMetadataChanges:!0,Ka:!0});return PE(c,A)})(await Em(s),s.asyncQueue,t,i,a))),a.promise}function yR(s,t){const i=new Wr;return s.asyncQueue.enqueueAndForget((async()=>iR(await mR(s),t,i))),i.promise}function $E(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const _R="ComponentProvider",q0=new Map;function vR(s,t,i,a,l){return new PA(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,$E(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const ZE="firestore.googleapis.com",H0=!0;class G0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZE,this.ssl=H0}else this.host=t.host,this.ssl=t.ssl??H0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=RE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Kw)throw new lt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$E(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ah{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new yA;switch(a.type){case"firstParty":return new TA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=q0.get(i);a&&(at(_R,"Removing Datastore"),q0.delete(i),a.terminate())})(this),Promise.resolve()}}function ER(s,t,i,a={}){s=ei(s,Ah);const l=so(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(Sv(`https://${g}`),Av("Firestore",!0)),c.host!==ZE&&c.host!==g&&Qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:l,emulatorOptions:a};if(!Hs(v,d)&&(s._setSettings(v),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=Je.MOCK_USER;else{y=Bb(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new lt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Je(A)}s._authCredentials=new _A(new Pv(y,b))}}class wh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new wh(this.firestore,t,this._query)}}class ye{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ye(this.firestore,t,this._key)}toJSON(){return{type:ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(ql(i,ye._jsonSchema))return new ye(t,a||null,new dt(re.fromString(i.referencePath)))}}ye._jsonSchemaVersion="firestore/documentReference/1.0",ye._jsonSchema={type:Ie("string",ye._jsonSchemaVersion),referencePath:Ie("string")};class ts extends wh{constructor(t,i,a){super(t,i,ph(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ye(this.firestore,null,new dt(t))}withConverter(t){return new ts(this.firestore,t,this._path)}}function TR(s,t,...i){if(s=Pe(s),zv("collection","path",t),s instanceof Ah){const a=re.fromString(t,...i);return r0(a),new ts(s,null,a)}{if(!(s instanceof ye||s instanceof ts))throw new lt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(re.fromString(t,...i));return r0(a),new ts(s.firestore,null,a)}}function Wn(s,t,...i){if(s=Pe(s),arguments.length===1&&(t=xm.newId()),zv("doc","path",t),s instanceof Ah){const a=re.fromString(t,...i);return i0(a),new ye(s,null,new dt(a))}{if(!(s instanceof ye||s instanceof ts))throw new lt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(re.fromString(t,...i));return i0(a),new ye(s.firestore,s instanceof ts?s.converter:null,new dt(a))}}const F0="AsyncQueue";class Q0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NE(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&at(F0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!uo(t))throw t;at(F0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ir("INTERNAL UNHANDLED ERROR: ",K0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Xm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:K0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function K0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Ys extends Ah{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Q0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Q0(t),this._firestoreClient=void 0,await t}}}function bR(s,t){const i=typeof s=="object"?s:Iv(),a=typeof s=="string"?s:Kc,l=Cm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=zb("firestore");c&&ER(l,...c)}return l}function Rh(s){if(s._terminated)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||SR(s),s._firestoreClient}function SR(s){const t=s._freezeSettings(),i=vR(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new fR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jn(Ke.fromBase64String(t))}catch(i){throw new lt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new jn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ql(t,jn._jsonSchema))return jn.fromBase64String(t.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ie("string",jn._jsonSchemaVersion),bytes:Ie("string")};class Ch{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ih{constructor(t){this._methodName=t}}class xi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(t){if(ql(t,xi._jsonSchema))return new xi(t.latitude,t.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Ie("string",xi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class ni{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ql(t,ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ni(t.vectorValues);throw new lt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Ie("string",ni._jsonSchemaVersion),vectorValues:Ie("object")};const AR=/^__.*__$/;class wR{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ls(t,this.data,this.fieldMask,i,this.fieldTransforms):new Hl(t,this.data,i,this.fieldTransforms)}}class WE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ls(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function tT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:s})}}class tp{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new tp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return nh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(tT(this.dataSource)&&AR.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class RR{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Th(t)}createContext(t,i,a,l=!1){return new tp({dataSource:t,methodName:i,targetDoc:a,path:Qe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ep(s){const t=s._freezeSettings(),i=Th(s._databaseId);return new RR(s._databaseId,!!t.ignoreUndefinedProperties,i)}function eT(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);ip("Data must be an object, but it was:",d,a);const g=rT(a,d);let v,y;if(c.merge)v=new Sn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const M=Pl(t,A,i);if(!d.contains(M))throw new lt($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);oT(b,M)||b.push(M)}v=new Sn(b),y=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,y=d.fieldTransforms;return new wR(new fn(g),v,y)}class xh extends Ih{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xh}}class np extends Ih{_toFieldTransform(t){return new dw(t.path,new kl)}isEqual(t){return t instanceof np}}function nT(s,t,i,a){const l=s.createContext(1,t,i);ip("Data must be an object, but it was:",l,a);const c=[],d=fn.empty();os(a,((v,y)=>{const b=aT(t,v,i);y=Pe(y);const A=l.childContextForFieldPath(b);if(y instanceof xh)c.push(b);else{const M=Nh(y,A);M!=null&&(c.push(b),d.set(b,M))}}));const g=new Sn(c);return new WE(d,g,l.fieldTransforms)}function iT(s,t,i,a,l,c){const d=s.createContext(1,t,i),g=[Pl(t,a,i)],v=[l];if(c.length%2!=0)throw new lt($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(Pl(t,c[M])),v.push(c[M+1]);const y=[],b=fn.empty();for(let M=g.length-1;M>=0;--M)if(!oT(y,g[M])){const F=g[M];let Z=v[M];Z=Pe(Z);const it=d.childContextForFieldPath(F);if(Z instanceof xh)y.push(F);else{const nt=Nh(Z,it);nt!=null&&(y.push(F),b.set(F,nt))}}const A=new Sn(y);return new WE(b,A,d.fieldTransforms)}function Nh(s,t){if(sT(s=Pe(s)))return ip("Unsupported field value:",t,s),rT(s,t);if(s instanceof Ih)return(function(a,l){if(!tT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let v=Nh(g,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Pe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return cw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=se.fromDate(a);return{timestampValue:Zc(l.serializer,c)}}if(a instanceof se){const c=new se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Zc(l.serializer,c)}}if(a instanceof xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof jn)return{bytesValue:_E(l.serializer,a._byteString)};if(a instanceof ye){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ni)return(function(d,g){const v=d instanceof ni?d.toArray():d;return{mapValue:{fields:{[Yv]:{stringValue:Xv},[Yc]:{arrayValue:{values:v.map((b=>{if(typeof b!="number")throw g.createError("VectorValues must only contain numeric values.");return Um(g.serializer,b)}))}}}}}})(a,l);if(wE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Nm(a)}`)})(s,t)}function rT(s,t){const i={};return qv(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):os(s,((a,l)=>{const c=Nh(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function sT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof se||s instanceof xi||s instanceof jn||s instanceof ye||s instanceof Ih||s instanceof ni||wE(s))}function ip(s,t,i){if(!sT(i)||!jv(i)){const a=Nm(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function Pl(s,t,i){if((t=Pe(t))instanceof Ch)return t._internalPath;if(typeof t=="string")return aT(s,t);throw nh("Field path arguments must be of type string or ",s,!1,void 0,i)}const CR=new RegExp("[~\\*/\\[\\]]");function aT(s,t,i){if(t.search(CR)>=0)throw nh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ch(...t.split("."))._internalPath}catch{throw nh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function nh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new lt($.INVALID_ARGUMENT,g+s+v)}function oT(s,t){return s.some((i=>i.isEqual(t)))}class IR{convertValue(t,i="none"){switch(rs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(is(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return os(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Yc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new ni(i)}convertGeoPoint(t){return new xi(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=dh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const i=ns(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=re.fromString(t);Ft(AE(a),9688,{name:t});const l=new Ml(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||ir(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class lT extends IR{constructor(t){super(),this.firestore=t}convertBytes(t){return new jn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ye(this.firestore,null,i)}}function xR(){return new np("serverTimestamp")}const Y0="@firebase/firestore",X0="4.11.0";function J0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class uT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new NR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Pl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class NR extends uT{data(){return super.data()}}function DR(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function cT(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}class Sl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qs extends uT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Pl("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=qs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",qs._jsonSchema={type:Ie("string",qs._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Pc extends qs{data(t={}){return super.data(t)}}class Xa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Sl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Pc(this._firestore,this._userDataWriter,a.key,a,new Sl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const v=new Pc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Pc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:OR(g.type),doc:v,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function OR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:Ie("string",Xa._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class MR{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=ep(t)}set(t,i,a){this._verifyNotCommitted();const l=Yd(t,this._firestore),c=cT(l.converter,i,a),d=eT(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,a);return this._mutations.push(d.toMutation(l._key,An.none())),this}update(t,i,a,...l){this._verifyNotCommitted();const c=Yd(t,this._firestore);let d;return d=typeof(i=Pe(i))=="string"||i instanceof Ch?iT(this._dataReader,"WriteBatch.update",c._key,i,a,l):nT(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,An.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=Yd(t,this._firestore);return this._mutations=this._mutations.concat(new Lm(i._key,An.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yd(s,t){if((s=Pe(s)).firestore!==t)throw new lt($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function VR(s){s=ei(s,ye);const t=ei(s.firestore,Ys),i=Rh(t);return gR(i,s._key).then((a=>hT(t,s,a)))}function zc(s,t,i){s=ei(s,ye);const a=ei(s.firestore,Ys),l=cT(s.converter,t,i),c=ep(a);return rp(a,[eT(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,An.none())])}function ih(s,t,i,...a){s=ei(s,ye);const l=ei(s.firestore,Ys),c=ep(l);let d;return d=typeof(t=Pe(t))=="string"||t instanceof Ch?iT(c,"updateDoc",s._key,t,i,a):nT(c,"updateDoc",s._key,t),rp(l,[d.toMutation(s._key,An.exists(!0))])}function $0(s,...t){s=Pe(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||J0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(J0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof ye)d=ei(s.firestore,Ys),g=ph(s._key.path),c={next:y=>{t[a]&&t[a](hT(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=ei(s,wh);d=ei(y.firestore,Ys),g=y._query;const b=new lT(d);c={next:A=>{t[a]&&t[a](new Xa(d,b,y,A))},error:t[a+1],complete:t[a+2]},DR(s._query)}const v=Rh(d);return pR(v,g,l,c)}function rp(s,t){const i=Rh(s);return yR(i,t)}function hT(s,t,i){const a=i.docs.get(t._key),l=new lT(s);return new qs(s,l,t._key,a,new Sl(i.hasPendingWrites,i.fromCache),t.converter)}function kR(s){return s=ei(s,Ys),Rh(s),new MR(s,(t=>rp(s,t)))}(function(t,i=!0){gA(ao),Wa(new Gs("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Ys(new vA(a.getProvider("auth-internal")),new bA(d,a.getProvider("app-check-internal")),zA(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),$r(Y0,X0,t),$r(Y0,X0,"esm2020")})();function fT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UR=fT,dT=new jl("auth","Firebase",fT());const rh=new wm("@firebase/auth");function LR(s,...t){rh.logLevel<=Ot.WARN&&rh.warn(`Auth (${ao}): ${s}`,...t)}function jc(s,...t){rh.logLevel<=Ot.ERROR&&rh.error(`Auth (${ao}): ${s}`,...t)}function sr(s,...t){throw sp(s,...t)}function Ni(s,...t){return sp(s,...t)}function mT(s,t,i){const a={...UR(),[t]:i};return new jl("auth","Firebase",a).create(t,{appName:s.name})}function er(s){return mT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sp(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return dT.create(s,...t)}function yt(s,t,...i){if(!s)throw sp(t,...i)}function Wi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw jc(t),new Error(t)}function ar(s,t){s||Wi(t)}function Tm(){return typeof self<"u"&&self.location?.href||""}function PR(){return Z0()==="http:"||Z0()==="https:"}function Z0(){return typeof self<"u"&&self.location?.protocol||null}function zR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PR()||Kb()||"connection"in navigator)?navigator.onLine:!0}function jR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Kl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ar(i>t,"Short delay should be less than long delay!"),this.isMobile=Gb()||Yb()}get(){return zR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ap(s,t){ar(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class pT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const BR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HR=new Kl(3e4,6e4);function Yl(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ho(s,t,i,a,l={}){return gT(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Bl({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:v,...c};return Qb()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&so(s.emulatorConfig.host)&&(y.credentials="include"),pT.fetch()(await yT(s,s.config.apiHost,i,g),y)})}async function gT(s,t,i){s._canInitEmulator=!1;const a={...BR,...t};try{const l=new GR(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Oc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Oc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Oc(s,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw mT(s,b,y);sr(s,b)}}catch(l){if(l instanceof lr)throw l;sr(s,"network-request-failed",{message:String(l)})}}async function op(s,t,i,a,l={}){const c=await ho(s,t,i,a,l);return"mfaPendingCredential"in c&&sr(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function yT(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?ap(s.config,l):`${s.config.apiScheme}://${l}`;return qR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class GR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ni(this.auth,"network-request-failed")),HR.get())})}}function Oc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ni(s,t,a);return l.customData._tokenResponse=i,l}async function FR(s,t){return ho(s,"POST","/v1/accounts:delete",t)}async function sh(s,t){return ho(s,"POST","/v1/accounts:lookup",t)}function xl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function QR(s,t=!1){const i=Pe(s),a=await i.getIdToken(t),l=lp(a);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:xl(Xd(l.auth_time)),issuedAtTime:xl(Xd(l.iat)),expirationTime:xl(Xd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Xd(s){return Number(s)*1e3}function lp(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=vv(i);return l?JSON.parse(l):(jc("Failed to decode base64 JWT payload"),null)}catch(l){return jc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function W0(s){const t=lp(s);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function zl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof lr&&KR(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function KR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class YR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class bm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ah(s){const t=s.auth,i=await s.getIdToken(),a=await zl(s,sh(t,{idToken:i}));yt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?_T(l.providerUserInfo):[],d=JR(s.providerData,c),g=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,y=g?v:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new bm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function XR(s){const t=Pe(s);await ah(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function JR(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function _T(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function $R(s,t){const i=await gT(s,{},async()=>{const a=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await yT(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return s.emulatorConfig&&so(s.emulatorConfig.host)&&(v.credentials="include"),pT.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function ZR(s,t){return ho(s,"POST","/v2/accounts:revokeToken",Yl(s,t))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):W0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=W0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await $R(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ja;return a&&(yt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function qr(s,t){yt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ti{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new YR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new bm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await zl(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return QR(this,t)}reload(){return XR(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await ah(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(er(this.auth));const t=await this.getIdToken();return await zl(this,FR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:F,providerData:Z,stsTokenManager:it}=i;yt(A&&it,t,"internal-error");const nt=Ja.fromJSON(this.name,it);yt(typeof A=="string",t,"internal-error"),qr(a,t.name),qr(l,t.name),yt(typeof M=="boolean",t,"internal-error"),yt(typeof F=="boolean",t,"internal-error"),qr(c,t.name),qr(d,t.name),qr(g,t.name),qr(v,t.name),qr(y,t.name),qr(b,t.name);const ft=new ti({uid:A,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:nt,createdAt:y,lastLoginAt:b});return Z&&Array.isArray(Z)&&(ft.providerData=Z.map(rt=>({...rt}))),v&&(ft._redirectEventId=v),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ja;l.updateFromServerResponse(i);const c=new ti({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await ah(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?_T(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Ja;g.updateFromIdToken(a);const v=new ti({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new bm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const tv=new Map;function tr(s){ar(s instanceof Function,"Expected a class definition");let t=tv.get(s);return t?(ar(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,tv.set(s,t),t)}class vT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}vT.type="NONE";const ev=vT;function Bc(s,t,i){return`firebase:${s}:${t}:${i}`}class $a{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Bc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Bc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await sh(this.auth,{idToken:t}).catch(()=>{});return i?ti._fromGetAccountInfoResponse(this.auth,i,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new $a(tr(ev),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||tr(ev);const d=Bc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let A;if(typeof b=="string"){const M=await sh(t,{idToken:b}).catch(()=>{});if(!M)break;A=await ti._fromGetAccountInfoResponse(t,M,b)}else A=ti._fromJSON(t,b);y!==c&&(g=A),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new $a(c,t,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new $a(c,t,a))}}function nv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ST(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ET(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wT(t))return"Blackberry";if(RT(t))return"Webos";if(TT(t))return"Safari";if((t.includes("chrome/")||bT(t))&&!t.includes("edge/"))return"Chrome";if(AT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function ET(s=Ze()){return/firefox\//i.test(s)}function TT(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function bT(s=Ze()){return/crios\//i.test(s)}function ST(s=Ze()){return/iemobile/i.test(s)}function AT(s=Ze()){return/android/i.test(s)}function wT(s=Ze()){return/blackberry/i.test(s)}function RT(s=Ze()){return/webos/i.test(s)}function up(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function WR(s=Ze()){return up(s)&&!!window.navigator?.standalone}function tC(){return Xb()&&document.documentMode===10}function CT(s=Ze()){return up(s)||AT(s)||RT(s)||wT(s)||/windows phone/i.test(s)||ST(s)}function IT(s,t=[]){let i;switch(s){case"Browser":i=nv(Ze());break;case"Worker":i=`${nv(Ze())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ao}/${a}`}class eC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function nC(s,t={}){return ho(s,"GET","/v2/passwordPolicy",Yl(s,t))}const iC=6;class rC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??iC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class sC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iv(this),this.idTokenSubscription=new iv(this),this.beforeStateQueue=new eC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=tr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $a.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await sh(this,{idToken:t}),a=await ti._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await ah(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=jR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(zn(this.app))return Promise.reject(er(this));const i=t?Pe(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return zn(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await nC(this),i=new rC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await ZR(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&tr(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[tr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=IT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&LR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Xl(s){return Pe(s)}class iv{constructor(t){this.auth=t,this.observer=null,this.addObserver=iS(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let cp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aC(s){cp=s}function oC(s){return cp.loadJS(s)}function lC(){return cp.gapiScript}function uC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function cC(s,t){const i=Cm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Hs(c,t??{}))return l;sr(l,"already-initialized")}return i.initialize({options:t})}function hC(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(tr);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function fC(s,t,i){const a=Xl(s);yt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=xT(t),{host:d,port:g}=dC(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){yt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),yt(Hs(y,a.config.emulator)&&Hs(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,so(d)?(Sv(`${c}//${d}${v}`),Av("Auth",!0)):mC()}function xT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function dC(s){const t=xT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:rv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:rv(d)}}}function rv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function mC(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class NT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,i){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}async function Za(s,t){return op(s,"POST","/v1/accounts:signInWithIdp",Yl(s,t))}const pC="http://localhost";class Xs extends NT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Xs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):sr("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Xs(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Za(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Za(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Za(t,i)}buildRequest(){const t={requestUri:pC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bl(i)}return t}}class DT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Jl extends DT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Hr extends Jl{constructor(){super("facebook.com")}static credential(t){return Xs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hr.credential(t.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";class Gr extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Xs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Gr.credential(i,a)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";class Fr extends Jl{constructor(){super("github.com")}static credential(t){return Xs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";class Qr extends Jl{constructor(){super("twitter.com")}static credential(t,i){return Xs._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Qr.credential(i,a)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";async function gC(s,t){return op(s,"POST","/v1/accounts:signUp",Yl(s,t))}class or{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ti._fromIdTokenResponse(t,a,l),d=sv(a);return new or({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=sv(a);return new or({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function sv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function yC(s){if(zn(s.app))return Promise.reject(er(s));const t=Xl(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new or({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await gC(t,{returnSecureToken:!0}),a=await or._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class oh extends lr{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new oh(t,i,a,l)}}function OT(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(s,c,t,a):c})}async function _C(s,t,i=!1){const a=await zl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return or._forOperation(s,"link",a)}async function vC(s,t,i=!1){const{auth:a}=s;if(zn(a.app))return Promise.reject(er(a));const l="reauthenticate";try{const c=await zl(s,OT(a,l,t,s),i);yt(c.idToken,a,"internal-error");const d=lp(c.idToken);yt(d,a,"internal-error");const{sub:g}=d;return yt(s.uid===g,a,"user-mismatch"),or._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&sr(a,"user-mismatch"),c}}async function EC(s,t,i=!1){if(zn(s.app))return Promise.reject(er(s));const a="signIn",l=await OT(s,a,t),c=await or._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function TC(s,t){return op(s,"POST","/v1/accounts:signInWithCustomToken",Yl(s,t))}async function bC(s,t){if(zn(s.app))return Promise.reject(er(s));const i=Xl(s),a=await TC(i,{token:t,returnSecureToken:!0}),l=await or._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function SC(s,t,i,a){return Pe(s).onIdTokenChanged(t,i,a)}function AC(s,t,i){return Pe(s).beforeAuthStateChanged(t,i)}function wC(s,t,i,a){return Pe(s).onAuthStateChanged(t,i,a)}const lh="__sak";class MT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const RC=1e3,CC=10;class VT extends MT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);tC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,CC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},RC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}VT.type="LOCAL";const IC=VT;class kT extends MT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}kT.type="SESSION";const UT=kT;function xC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Dh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await xC(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];function hp(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class NC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=hp("",20);l.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Di(){return window}function DC(s){Di().location.href=s}function LT(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function OC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MC(){return navigator?.serviceWorker?.controller||null}function VC(){return LT()?self:null}const PT="firebaseLocalStorageDb",kC=1,uh="firebaseLocalStorage",zT="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Oh(s,t){return s.transaction([uh],t?"readwrite":"readonly").objectStore(uh)}function UC(){const s=indexedDB.deleteDatabase(PT);return new $l(s).toPromise()}function Sm(){const s=indexedDB.open(PT,kC);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(uh,{keyPath:zT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(uh)?t(a):(a.close(),await UC(),t(await Sm()))})})}async function av(s,t,i){const a=Oh(s,!0).put({[zT]:t,value:i});return new $l(a).toPromise()}async function LC(s,t){const i=Oh(s,!1).get(t),a=await new $l(i).toPromise();return a===void 0?null:a.value}function ov(s,t){const i=Oh(s,!0).delete(t);return new $l(i).toPromise()}const PC=800,zC=3;class jT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>zC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(VC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OC(),!this.activeServiceWorker)return;this.sender=new NC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||MC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Sm();return await av(t,lh,"1"),await ov(t,lh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>av(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>LC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ov(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Oh(l,!1).getAll();return new $l(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jT.type="LOCAL";const jC=jT;new Kl(3e4,6e4);function BC(s,t){return t?tr(t):(yt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class fp extends NT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function qC(s){return EC(s.auth,new fp(s),s.bypassAuthState)}function HC(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),vC(i,new fp(s),s.bypassAuthState)}async function GC(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),_C(i,new fp(s),s.bypassAuthState)}class BT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return qC;case"linkViaPopup":case"linkViaRedirect":return GC;case"reauthViaPopup":case"reauthViaRedirect":return HC;default:sr(this.auth,"internal-error")}}resolve(t){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const FC=new Kl(2e3,1e4);class Qa extends BT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const t=hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,FC.get())};t()}}Qa.currentPopupAction=null;const QC="pendingRedirect",qc=new Map;class KC extends BT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=qc.get(this.auth._key());if(!t){try{const a=await YC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}qc.set(this.auth._key(),t)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YC(s,t){const i=$C(t),a=JC(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function XC(s,t){qc.set(s._key(),t)}function JC(s){return tr(s._redirectPersistence)}function $C(s){return Bc(QC,s.config.apiKey,s.name)}async function ZC(s,t,i=!1){if(zn(s.app))return Promise.reject(er(s));const a=Xl(s),l=BC(a,t),d=await new KC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const WC=600*1e3;class tI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!eI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!qT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ni(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=WC&&this.cachedEventUids.clear(),this.cachedEventUids.has(lv(t))}saveEventToCache(t){this.cachedEventUids.add(lv(t)),this.lastProcessedEventTime=Date.now()}}function lv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function qT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function eI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qT(s);default:return!1}}async function nI(s,t={}){return ho(s,"GET","/v1/projects",t)}const iI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rI=/^https?/;async function sI(s){if(s.config.emulator)return;const{authorizedDomains:t}=await nI(s);for(const i of t)try{if(aI(i))return}catch{}sr(s,"unauthorized-domain")}function aI(s){const t=Tm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!rI.test(i))return!1;if(iI.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const oI=new Kl(3e4,6e4);function uv(){const s=Di().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function lI(s){return new Promise((t,i)=>{function a(){uv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{uv(),i(Ni(s,"network-request-failed"))},timeout:oI.get()})}if(Di().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Di().gapi?.load)a();else{const l=uC("iframefcb");return Di()[l]=()=>{gapi.load?a():i(Ni(s,"network-request-failed"))},oC(`${lC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Hc=null,t})}let Hc=null;function uI(s){return Hc=Hc||lI(s),Hc}const cI=new Kl(5e3,15e3),hI="__/auth/iframe",fI="emulator/auth/iframe",dI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pI(s){const t=s.config;yt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?ap(t,fI):`https://${s.config.authDomain}/${hI}`,a={apiKey:t.apiKey,appName:s.name,v:ao},l=mI.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bl(a).slice(1)}`}async function gI(s){const t=await uI(s),i=Di().gapi;return yt(i,s,"internal-error"),t.open({where:document.body,url:pI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dI,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ni(s,"network-request-failed"),g=Di().setTimeout(()=>{c(d)},cI.get());function v(){Di().clearTimeout(g),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const yI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_I=500,vI=600,EI="_blank",TI="http://localhost";class cv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bI(s,t,i,a=_I,l=vI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...yI,width:a.toString(),height:l.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(g=bT(y)?EI:i),ET(y)&&(t=t||TI,v.scrollbars="yes");const b=Object.entries(v).reduce((M,[F,Z])=>`${M}${F}=${Z},`,"");if(WR(y)&&g!=="_self")return SI(t||"",g),new cv(null);const A=window.open(t||"",g,b);yt(A,s,"popup-blocked");try{A.focus()}catch{}return new cv(A)}function SI(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const AI="__/auth/handler",wI="emulator/auth/handler",RI=encodeURIComponent("fac");async function hv(s,t,i,a,l,c){yt(s.config.authDomain,s,"auth-domain-config-required"),yt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:ao,eventId:l};if(t instanceof DT){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",nS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof Jl){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const v=await s._getAppCheckToken(),y=v?`#${RI}=${encodeURIComponent(v)}`:"";return`${CI(s)}?${Bl(g).slice(1)}${y}`}function CI({config:s}){return s.emulator?ap(s,wI):`https://${s.authDomain}/${AI}`}const Jd="webStorageSupport";class II{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UT,this._completeRedirectFn=ZC,this._overrideRedirectResult=XC}async _openPopup(t,i,a,l){ar(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await hv(t,i,a,Tm(),l);return bI(t,c,hp())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await hv(t,i,a,Tm(),l);return DC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ar(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await gI(t),a=new tI(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Jd,{type:Jd},l=>{const c=l?.[0]?.[Jd];c!==void 0&&i(!!c),sr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=sI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return CT()||TT()||up()}}const xI=II;var fv="@firebase/auth",dv="1.12.0";class NI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function DI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OI(s){Wa(new Gs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IT(s)},y=new sC(a,l,c,v);return hC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Wa(new Gs("auth-internal",t=>{const i=Xl(t.getProvider("auth").getImmediate());return(a=>new NI(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(fv,dv,DI(s)),$r(fv,dv,"esm2020")}const MI=300,VI=bv("authIdTokenMaxAge")||MI;let mv=null;const kI=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>VI)return;const l=i?.token;mv!==l&&(mv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function UI(s=Iv()){const t=Cm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=cC(s,{popupRedirectResolver:xI,persistence:[jC,IC,UT]}),a=bv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=kI(c.toString());AC(i,d,()=>d(i.currentUser)),SC(i,g=>d(g))}}const l=Ev("auth");return l&&fC(i,`http://${l}`),i}function LI(){return document.getElementsByTagName("head")?.[0]??document}aC({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Ni("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",LI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OI("Browser");const HT=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const PI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const zI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const pv=s=>{const t=zI(s);return t.charAt(0).toUpperCase()+t.slice(1)};var jI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const BI=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const qI=Gt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},v)=>Gt.createElement("svg",{ref:v,...jI,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:HT("lucide",l),...!c&&!BI(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>Gt.createElement(y,b)),...Array.isArray(c)?c:[c]]));const We=(s,t)=>{const i=Gt.forwardRef(({className:a,...l},c)=>Gt.createElement(qI,{ref:c,iconNode:t,className:HT(`lucide-${PI(pv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=pv(s),i};const HI=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],GI=We("arrow-down",HI);const FI=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],QI=We("chart-pie",FI);const KI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],YI=We("circle-check-big",KI);const XI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],JI=We("circle-x",XI);const $I=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ZI=We("clock",$I);const WI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],tx=We("crown",WI);const ex=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nx=We("eye",ex);const ix=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],rx=We("gift",ix);const sx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ax=We("loader-circle",sx);const ox=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],lx=We("party-popper",ox);const ux=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],cx=We("refresh-cw",ux);const hx=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fx=We("send",hx);const dx=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],mx=We("skip-forward",dx);const px=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],gx=We("star",px);const yx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_x=We("triangle-alert",yx);const vx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ex=We("trophy",vx),Tx=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyCuhIpxtvxVux4JhMKvF89JTvs7-MiKK6Q",authDomain:"spa-activity.firebaseapp.com",projectId:"spa-activity",storageBucket:"spa-activity.firebasestorage.app",messagingSenderId:"8554093402",appId:"1:8554093402:web:f21469855b0f24eda4f163",measurementId:"G-7NVTFPQGR0"},GT=Cv(Tx),Kr=UI(GT),bn=bR(GT),Pn=typeof __app_id<"u"?__app_id:"spring-quiz-2026",wi=[{q:" 2 ",a:[" & "," & "," & "," & "],correct:2},{q:"",a:["2  23 ","1 10 ","2  26 ","2  10 "],correct:1},{q:"2026 ",a:[" "," "," "," "],correct:3},{q:"",a:[`9F-2 NO. 206, SEC2,
NANJING EAST ROAD, TAIPEI`,`9F-2 NO. 206, SEC2,
NENJING EAST ROAD, TAIPEI`],correct:0},{q:"",a:["3","5","7","9"],correct:3},{q:" 2 ",a:["3","5","7","9"],correct:1},{q:" Sherry , ",a:["5","10","20","50"],correct:0},{q:"3  2  & ",a:["Patty & Alice","Patty & Daisy"," & Sherry","Lory & Sherry"],correct:1},{q:"",a:["Panasonic","SAMPO","Whirpool","TOSHIBA"],correct:2},{q:"",a:["","Daisy","Sherry",""],correct:3},{q:"",a:["","","",""],correct:0},{q:"",a:["","","",""],correct:[0,1,2,3]}],bx=[{name:"",prize:" 5,000 "},{name:"",prize:" 3,000 "},{name:"",prize:" 2,000 "},{name:"",prize:" 2,000 "},{name:"",prize:" "},{name:"",prize:" 1,000 "},{name:"",prize:"SOGO 3,000 "},{name:"",prize:" 2,000 "},{name:"",prize:" 3,600 "},{name:"",prize:" 1,600 "},{name:"",prize:" 1,000 "},{name:"",prize:" 2,000 "}],$d={1:"",2:"",3:"",draw:["","","",""]},Sx=()=>N.jsx("style",{children:`
    @keyframes borderShake { 0% { transform: translate(0,0); } 25% { transform: translate(4px,4px); } 50% { transform: translate(-4px,-4px); } 75% { transform: translate(4px,-4px); } 100% { transform: translate(0,0); } }
    .shake-border-active { 
      border: 4px solid #fbbf24; 
      box-shadow: inset 0 0 25px rgba(251, 191, 36, 0.4);
      animation: borderShake 0.1s infinite; 
      z-index: 50; 
      pointer-events: none; 
    }
    @keyframes floating { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-20px); } }
    .animate-floating { animation: floating 4s ease-in-out infinite; }
    .custom-scrollbar::-webkit-scrollbar { width: 4px; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(251, 191, 36, 0.3); border-radius: 10px; }
  `}),Zd=()=>N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"absolute top-2 left-2 w-6 h-6 border-t-2 border-l-2 border-yellow-400/50 pointer-events-none"}),N.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 border-t-2 border-r-2 border-yellow-400/50 pointer-events-none"}),N.jsx("div",{className:"absolute bottom-2 left-2 w-6 h-6 border-b-2 border-l-2 border-yellow-400/50 pointer-events-none"}),N.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 border-b-2 border-r-2 border-yellow-400/50 pointer-events-none"})]}),gv=({players:s,faint:t=!1})=>N.jsx("div",{className:`absolute inset-0 overflow-hidden pointer-events-none animate-floating ${t?"opacity-15":""}`,children:s.slice(0,9).map((i,a)=>N.jsxs("div",{className:"word-item absolute flex flex-col items-center justify-center text-center w-52",style:{top:`${a*14%75+10}%`,left:`${a*28%65+5}%`,transform:`rotate(${a%2===0?3:-3}deg)`},children:[N.jsx("span",{className:"font-black text-yellow-100 drop-shadow-[0_2px_10px_rgba(0,0,0,0.5)] italic text-3xl tracking-tighter leading-tight",children:String(i.greeting||"")}),!t&&N.jsxs("span",{className:"text-white/50 text-xs font-bold mt-2 tracking-[0.2em] uppercase",children:["BY ",String(i.name)]})]},i.id||a))}),Ax=()=>N.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[150] overflow-hidden",children:[N.jsx("style",{children:`
      @keyframes fall { 0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; } 100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } }
      .confetti { position: absolute; width: 10px; height: 10px; animation: fall 3s linear forwards; }
    `}),[...Array(50)].map((s,t)=>N.jsx("div",{className:"confetti",style:{left:`${Math.random()*100}%`,backgroundColor:["#fbbf24","#fcd34d","#ffffff","#ef4444"][t%4],animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`}},t))]}),wx=({players:s,gameState:t,sortedPlayers:i,elapsedSeconds:a,currentPhase:l})=>{const[c,d]=Gt.useState(null),[g,v]=Gt.useState(!1),[y,b]=Gt.useState(!1),A=Gt.useMemo(()=>l==="countdown_lobby"?{label:"",time:Math.ceil(Math.abs(a)),color:"text-green-400"}:l==="question"?{label:"",time:Math.max(0,10-Math.floor(a)),color:"text-yellow-400"}:l==="buffer"?{label:"",time:Math.max(0,12-Math.floor(a)),color:"text-blue-400"}:l==="reveal"?{label:"",time:Math.max(0,15-Math.floor(a)),color:"text-orange-400"}:l==="rank"?{label:"",time:null,color:"text-white"}:l==="final"?{label:"",time:null,color:"text-purple-400"}:{label:"",time:null,color:"text-slate-500"},[l,a]),M=async()=>{if(!Kr.currentUser)return;const rt=Date.now();await zc(Wn(bn,"artifacts",Pn,"public","data","settings","gameState"),{isGameStarted:!0,countdownStartTime:rt,phaseStartTime:rt+5e3,currentQuestionIndex:0,viewMode:"question"},{merge:!0})},F=async()=>{if(!Kr.currentUser)return;const rt=(t.currentQuestionIndex||0)+1;rt>=wi.length?await zc(Wn(bn,"artifacts",Pn,"public","data","settings","gameState"),{viewMode:"final"},{merge:!0}):await zc(Wn(bn,"artifacts",Pn,"public","data","settings","gameState"),{currentQuestionIndex:rt,phaseStartTime:Date.now(),viewMode:"question",awardStatus:{stage:"waiting"}},{merge:!0})},Z=async rt=>{if(!Kr.currentUser)return;const ut=i[rt-1];if(!ut)return alert("");await ih(Wn(bn,"artifacts",Pn,"public","data","settings","gameState"),{awardStatus:{stage:"opened",rank:rt,winner:ut.name,prize:$d[rt]}})},it=async()=>{!Kr.currentUser||!c||g||(v(!0),setTimeout(async()=>{const rt=$d.draw[Math.floor(Math.random()*$d.draw.length)];await ih(Wn(bn,"artifacts",Pn,"public","data","settings","gameState"),{awardStatus:{stage:"opened",rank:"",winner:c.name,prize:rt}}),v(!1),d(null)},2e3))},nt=async()=>{if(!Kr.currentUser)return;b(!1);const rt=kR(bn);s.forEach(ut=>rt.delete(Wn(bn,"artifacts",Pn,"public","data","players",ut.id))),rt.set(Wn(bn,"artifacts",Pn,"public","data","settings","gameState"),{currentQuestionIndex:0,isGameStarted:!1,viewMode:"question",countdownStartTime:0,phaseStartTime:0,awardStatus:{stage:"waiting"}}),await rt.commit(),window.location.reload()},ft=rt=>{const ut=[0,0,0,0];return s.forEach(_t=>{const Bt=_t.answers?.[rt];Bt!=null&&ut[Number(Bt)]++}),ut};return N.jsxs("div",{className:"flex flex-col h-full bg-slate-900 overflow-hidden text-white relative",children:[y&&N.jsx("div",{className:"absolute inset-0 z-[100] bg-black/90 flex items-center justify-center p-6 text-center animate-in fade-in",children:N.jsxs("div",{className:"bg-[#450a0a] p-8 rounded-3xl border-2 border-red-500 shadow-2xl",children:[N.jsx(_x,{className:"mx-auto text-red-500 w-12 h-12 mb-4"}),N.jsx("h3",{className:"text-xl font-bold mb-2 text-white",children:""}),N.jsxs("div",{className:"flex gap-4 mt-6",children:[N.jsx("button",{onClick:()=>b(!1),className:"flex-1 py-3 bg-slate-700 rounded-xl font-bold",children:""}),N.jsx("button",{onClick:nt,className:"flex-1 py-3 bg-red-600 rounded-xl font-black",children:""})]})]})}),N.jsxs("div",{className:"flex-none bg-slate-800 border-b-2 border-yellow-500 shadow-2xl z-50 overflow-hidden",children:[N.jsxs("div",{className:"p-4 pb-2 flex justify-between items-center",children:[N.jsxs("h2",{className:"text-xl font-bold text-yellow-500 italic flex items-center gap-2",children:[N.jsx(nx,{className:"w-5 h-5 text-yellow-500"})," 2026 "]}),N.jsx("button",{onClick:()=>b(!0),className:"text-red-400 text-xs font-bold border border-red-400/30 px-3 py-1 rounded-lg",children:""})]}),N.jsx("div",{className:"px-4 pb-3",children:N.jsxs("div",{className:"bg-black/50 p-3 rounded-2xl border border-white/10 flex items-center justify-between shadow-inner",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse bg-current ${A.color}`}),N.jsx("span",{className:`text-sm font-black uppercase tracking-widest ${A.color}`,children:A.label})]}),A.time!==null&&N.jsxs("div",{className:"flex items-center gap-2 font-mono",children:[N.jsx(ZI,{className:"w-4 h-4 text-white/50"}),N.jsxs("span",{className:"text-2xl font-black text-white",children:[A.time,"s"]})]})]})}),N.jsx("div",{className:"px-4 pb-3",children:t.isGameStarted?N.jsxs("button",{onClick:F,className:"w-full bg-blue-600 p-4 rounded-2xl font-black text-lg flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-transform",children:[N.jsx(mx,{className:"w-6 h-6"}),"  / "]}):N.jsx("button",{onClick:M,className:"w-full bg-green-600 p-4 rounded-2xl font-black text-lg shadow-lg active:scale-95 transition-transform",children:"  5 "})}),N.jsx("div",{className:"px-4 pb-4",children:N.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[N.jsxs("button",{onClick:()=>Z(1),className:"bg-yellow-600 p-2 rounded-xl text-[10px] leading-tight font-black border-b-4 border-yellow-800 active:translate-y-0.5",children:["",N.jsx("br",{}),""]}),N.jsxs("button",{onClick:()=>Z(2),className:"bg-gray-400 p-2 rounded-xl text-[10px] leading-tight font-black border-b-4 border-gray-600 text-black active:translate-y-0.5",children:["",N.jsx("br",{}),""]}),N.jsxs("button",{onClick:()=>Z(3),className:"bg-orange-700 p-2 rounded-xl text-[10px] leading-tight font-black border-b-4 border-orange-900 active:translate-y-0.5",children:["",N.jsx("br",{}),""]}),N.jsxs("button",{onClick:it,disabled:!c||g,className:"bg-purple-600 p-2 rounded-xl text-[10px] leading-tight font-black border-b-4 border-purple-800 disabled:opacity-30 active:translate-y-0.5",children:["4~7",N.jsx("br",{}),""]})]})}),N.jsx("div",{className:"px-4 pb-4 bg-slate-800",children:N.jsxs("div",{className:"bg-white/5 rounded-2xl p-3 border border-white/10 shadow-lg",children:[N.jsxs("h3",{className:"text-xs font-bold text-yellow-400 mb-2 uppercase italic flex justify-between items-center",children:[N.jsx("span",{children:"  ()"}),N.jsx("span",{className:"text-[10px] bg-red-600 px-2 py-0.5 rounded-full text-white font-black animate-pulse",children:"LIVE"})]}),N.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:[i.slice(0,10).map((rt,ut)=>N.jsxs("div",{onClick:()=>d(rt),className:`flex-none min-w-[100px] p-2 rounded-xl border text-center transition-all cursor-pointer ${c?.id===rt.id?"bg-yellow-500/30 border-yellow-500 scale-105":"bg-black/40 border-white/5"}`,children:[N.jsxs("div",{className:"text-[10px] font-bold truncate",children:[ut+1,". ",String(rt.name)]}),N.jsxs("div",{className:"text-yellow-400 text-[11px] font-black",children:[rt.score," pt"]})]},rt.id)),i.length===0&&N.jsx("div",{className:"text-[10px] opacity-40 py-2",children:"..."})]})]})})]}),N.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 custom-scrollbar pb-32",children:N.jsxs("div",{className:"bg-white/5 rounded-3xl p-6 border border-white/10 space-y-6",children:[N.jsxs("h3",{className:"text-sm font-bold text-yellow-400 flex items-center gap-2",children:[N.jsx(QI,{size:16})," "]}),wi.map((rt,ut)=>{const _t=ft(ut),Bt=_t.reduce((C,S)=>C+S,0),Ct=(t.currentQuestionIndex||0)===ut;return N.jsxs("div",{className:`p-4 rounded-2xl border transition-all duration-500 ${Ct?"bg-yellow-400/10 border-yellow-400 ring-2 ring-yellow-400/20":"bg-black/20 border-white/5 opacity-60"}`,children:[N.jsxs("p",{className:`text-white font-black mb-4 leading-snug ${Ct?"text-lg":"text-base"}`,children:["Q",ut+1,": ",rt.q]}),N.jsx("div",{className:"space-y-3",children:rt.a.map((C,S)=>N.jsxs("div",{className:"space-y-1",children:[N.jsxs("div",{className:"flex justify-between text-[11px] text-white/80 font-bold",children:[N.jsxs("span",{className:"truncate w-[80%]",children:[String(String.fromCharCode(65+S)),". ",String(C)]}),N.jsxs("span",{className:"font-mono text-yellow-400",children:[_t[S],""]})]}),N.jsx("div",{className:"h-2 bg-black/60 rounded-full overflow-hidden border border-white/5",children:N.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-600 to-yellow-400 transition-all duration-1000 ease-out",style:{width:`${Bt>0?_t[S]/Bt*100:0}%`}})})]},S))})]},ut)})]})})]})};function Rx(){const[s,t]=Gt.useState(null),[i,a]=Gt.useState("register"),[l,c]=Gt.useState([]),[d,g]=Gt.useState({currentQuestionIndex:0,isGameStarted:!1,phaseStartTime:0,viewMode:"question",countdownStartTime:0,awardStatus:{stage:"waiting",rank:null,winner:null,prize:""}}),[v,y]=Gt.useState(null),[b,A]=Gt.useState(null),[M,F]=Gt.useState(null),[Z,it]=Gt.useState(!1),[nt,ft]=Gt.useState(!1),[rt,ut]=Gt.useState(""),[_t,Bt]=Gt.useState(0),[Ct,C]=Gt.useState(!1);Gt.useEffect(()=>((async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await bC(Kr,__initial_auth_token):await yC(Kr)}catch(tt){console.error("Auth Error:",tt)}})(),wC(Kr,t)),[]),Gt.useEffect(()=>{if(!s)return;const Q=$0(TR(bn,"artifacts",Pn,"public","data","players"),mt=>{const kt=mt.docs.map(x=>({id:x.id,...x.data()}));c(kt),kt.some(x=>x.id===s.uid)?i==="register"&&a("sponsors"):(a("register"),sessionStorage.removeItem("hasSeenSponsors_2026"))},mt=>console.error(mt)),tt=$0(Wn(bn,"artifacts",Pn,"public","data","settings","gameState"),mt=>{mt.exists()&&g(mt.data())},mt=>console.error(mt));return()=>{Q(),tt()}},[s,i]);const S=Gt.useMemo(()=>d.viewMode==="final"?"final":d.isGameStarted?_t<0?"countdown_lobby":_t<10?"question":_t<12?"buffer":_t<15?"reveal":"rank":"idle",[_t,d.isGameStarted,d.viewMode]);Gt.useEffect(()=>{D&&!Z&&((S==="countdown_lobby"||i==="sponsors"&&sessionStorage.getItem("hasSeenSponsors_2026"))&&a("greetings"),S!=="idle"&&S!=="countdown_lobby"&&S!=="final"&&I(),d.viewMode==="final"&&a("leaderboard"))},[S,d.isGameStarted,d.viewMode,l,Z]);const I=()=>{d.isGameStarted&&a("quiz")};Gt.useEffect(()=>{S==="question"&&(y(null),A(null),F(null))},[d.currentQuestionIndex,S]),Gt.useEffect(()=>{if(!d.phaseStartTime||!d.isGameStarted)return;const Q=setInterval(()=>Bt((Date.now()-d.phaseStartTime)/1e3),100);return()=>clearInterval(Q)},[d.phaseStartTime,d.isGameStarted]);const V=Gt.useMemo(()=>[...l].sort((Q,tt)=>(tt.score||0)-(Q.score||0)),[l]),D=Gt.useMemo(()=>l.find(Q=>Q.id===s?.uid),[l,s]),U=Q=>{Q&&Q.preventDefault(),rt==="1234"?(it(!0),ft(!1),ut("")):alert("")},w=async Q=>{Q.preventDefault(),s&&(await zc(Wn(bn,"artifacts",Pn,"public","data","players",s.uid),{name:Q.target.name.value,greeting:Q.target.greeting.value.substring(0,10),score:0,totalTimeTaken:0,currentStreak:0,answers:{},timestamp:xR()},{merge:!0}),a("sponsors"))},te=async()=>{if(v===null||b!==null||S!=="question"||!s)return;A(v);const Q=d.currentQuestionIndex,tt=Array.isArray(wi[Q].correct)?wi[Q].correct.includes(v):v===wi[Q].correct;F(tt);const mt=Wn(bn,"artifacts",Pn,"public","data","players",s.uid),x=(await VR(mt)).data()||{};let K=tt?Q>=wi.length-3?100:66:0,W=tt?(x.currentStreak||0)+1:0,st=tt&&W>=3?88:0;await ih(mt,{score:(x.score||0)+K+st,totalTimeTaken:(x.totalTimeTaken||0)+Math.min(10,Math.max(0,_t)),currentStreak:W,[`answers.${Q}`]:v})},ee=wi[d.currentQuestionIndex]||wi[0],H=S==="question"&&_t>=7;return N.jsxs("div",{className:"flex flex-col h-screen max-w-lg mx-auto shadow-2xl relative overflow-hidden bg-[#450a0a] font-serif-tc text-white",children:[N.jsx(Sx,{}),H&&N.jsx("div",{className:"absolute inset-0 shake-border-active"}),S==="reveal"&&M&&N.jsx(Ax,{}),d.awardStatus?.stage==="opened"&&N.jsx("div",{className:"fixed inset-0 z-[200] bg-red-950/98 flex items-center justify-center p-6 text-center animate-in zoom-in",children:N.jsxs("div",{className:"bg-gradient-to-b from-red-600 to-red-800 p-10 rounded-[3rem] border-4 border-yellow-400 shadow-2xl w-full max-w-sm",children:[N.jsx(Ex,{size:64,className:"mx-auto text-yellow-400 mb-4 animate-bounce"}),N.jsx("h2",{className:"text-yellow-300 text-xl font-bold mb-2 uppercase tracking-widest",children:d.awardStatus.rank===""?"  ":`  ${String(d.awardStatus.rank)}  `}),N.jsx("div",{className:"text-5xl font-black mb-6 text-white",children:String(d.awardStatus.winner)}),N.jsx("div",{className:"bg-yellow-400 text-red-950 text-2xl font-black py-4 rounded-2xl mb-8",children:String(d.awardStatus.prize)}),Z&&N.jsx("button",{onClick:()=>ih(Wn(bn,"artifacts",Pn,"public","data","settings","gameState"),{"awardStatus.stage":"waiting"}),className:"text-white/50 underline font-bold",children:""})]})}),N.jsxs("div",{className:"sticky top-0 z-[60] bg-gradient-to-r from-amber-600 via-yellow-400 to-amber-600 text-red-950 px-4 py-3 shadow-2xl flex items-center justify-between border-b-2 border-amber-700/50 font-black",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"animate-pulse text-xl font-bold",children:""}),N.jsx("h1",{className:"text-sm tracking-tight uppercase font-black",children:"2026 & "})]}),N.jsx("button",{onClick:()=>Z?it(!1):ft(!0),className:"text-[10px] uppercase border border-red-900/20 px-2 py-1 rounded font-bold",children:Z?"Exit":"Admin"})]}),N.jsx("main",{className:"flex-grow flex flex-col relative px-4 pb-6 overflow-hidden",children:Z?N.jsx(wx,{players:l,gameState:d,sortedPlayers:V,elapsedSeconds:_t,currentPhase:S}):N.jsxs("div",{className:"flex-grow flex flex-col h-full relative",children:[i==="register"&&N.jsxs("div",{className:"my-auto space-y-6 animate-in slide-in-from-bottom-8",children:[N.jsxs("div",{className:"text-center",children:[N.jsx("div",{className:"w-24 h-24 bg-yellow-400 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-white shadow-2xl text-4xl animate-floating",children:""}),N.jsx("h2",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-b from-yellow-200 to-amber-500 drop-shadow-lg mb-2 italic",children:" 2026"})]}),N.jsxs("div",{className:"p-8 rounded-[2.5rem] border border-yellow-400/30 relative",children:[N.jsx(Zd,{}),N.jsxs("form",{onSubmit:w,className:"space-y-6",children:[N.jsxs("div",{children:[N.jsx("label",{className:"text-xs text-yellow-400 font-bold ml-2 mb-2 block tracking-widest uppercase",children:""}),N.jsx("input",{name:"name",required:!0,className:"w-full px-6 py-4 rounded-2xl bg-white text-gray-900 border-2 border-yellow-400/30 outline-none text-xl font-bold shadow-inner",placeholder:""})]}),N.jsxs("div",{children:[N.jsx("label",{className:"text-xs text-yellow-400 font-bold ml-2 mb-2 block tracking-widest uppercase",children:" (10)"}),N.jsx("input",{name:"greeting",required:!0,maxLength:10,className:"w-full px-6 py-4 rounded-2xl bg-white text-gray-900 border-2 border-yellow-400/30 outline-none text-xl font-bold shadow-inner",placeholder:""})]}),N.jsx("button",{type:"submit",className:"w-full py-5 bg-gradient-to-b from-yellow-300 to-amber-600 text-red-950 font-black rounded-2xl shadow-xl text-2xl active:translate-y-1 transition-all border-b-4 border-amber-800 italic uppercase font-bold shadow-yellow-900/20",children:" "})]})]})]}),i==="sponsors"&&N.jsxs("div",{className:"flex flex-col h-full space-y-4 py-6 animate-in fade-in text-center",children:[N.jsx("h2",{className:"text-2xl font-black text-yellow-400 italic underline decoration-amber-500/50 font-serif-tc",children:""}),N.jsx("div",{onScroll:Q=>{Q.target.scrollHeight-Q.target.scrollTop-Q.target.clientHeight<50&&C(!0)},className:"flex-grow space-y-3 overflow-y-auto no-scrollbar pb-6 px-1",children:bx.map((Q,tt)=>N.jsxs("div",{className:"bg-white/5 p-4 rounded-3xl flex items-center gap-4 border-l-4 border-yellow-400 shadow-lg animate-in slide-in-from-right",style:{animationDelay:`${tt*100}ms`},children:[N.jsx("div",{className:"bg-gradient-to-br from-yellow-300 to-amber-600 p-3 rounded-2xl text-red-950",children:N.jsx(rx,{className:"w-5 h-5"})}),N.jsxs("div",{className:"text-left font-black text-lg leading-tight truncate",children:[Q.name,N.jsx("div",{className:"text-xs text-yellow-300 font-bold mt-1 italic",children:Q.prize})]})]},tt))}),N.jsx("div",{className:"h-20 shrink-0 flex items-center",children:Ct?N.jsx("button",{onClick:()=>{sessionStorage.setItem("hasSeenSponsors_2026","true"),a("greetings")},className:"w-full py-4 bg-gradient-to-b from-yellow-300 to-amber-600 text-red-950 font-black rounded-2xl shadow-xl text-xl animate-in zoom-in uppercase font-bold",children:" "}):N.jsxs("div",{className:"w-full text-yellow-400 text-xs font-black animate-bounce flex items-center justify-center gap-2 uppercase",children:[N.jsx(GI,{className:"w-4 h-4"})," "]})})]}),i==="greetings"&&N.jsxs("div",{className:"flex flex-col h-full relative",children:[N.jsx("div",{className:"absolute top-10 left-0 right-0 text-center z-20",children:N.jsx("h2",{className:"text-5xl font-black text-yellow-400 drop-shadow-[0_0_15px_rgba(0,0,0,0.8)] italic tracking-widest font-serif-tc",children:""})}),N.jsxs("div",{className:"mt-20 mx-4 border border-white/10 rounded-[3rem] relative overflow-hidden bg-black/5 shadow-inner h-[70vh] mb-10",children:[N.jsx(gv,{players:l}),S==="countdown_lobby"&&N.jsxs("div",{className:"absolute inset-0 z-[100] flex flex-col items-center justify-center text-center animate-in fade-in duration-500 backdrop-blur-[1px]",children:[N.jsx("div",{className:"text-yellow-400 text-8xl font-black animate-ping drop-shadow-[0_0_30px_rgba(251,191,36,0.8)]",children:Math.max(1,Math.ceil(Math.abs(_t)))}),N.jsx("div",{className:"text-3xl font-black text-white tracking-[0.3em] uppercase drop-shadow-lg -mt-4 italic",children:""})]})]}),N.jsx("div",{className:"mt-auto mb-4 px-4 z-20",children:N.jsxs("div",{className:"bg-red-950/70 backdrop-blur-md w-full py-2.5 rounded-full border border-yellow-500/10 flex items-center justify-center gap-2 shadow-lg",children:[N.jsx("div",{className:"w-1.5 h-1.5 bg-yellow-500 rounded-full animate-pulse"}),N.jsx("span",{className:"text-sm font-black tracking-[0.3em] text-yellow-100 italic",children:""})]})})]}),i==="quiz"&&N.jsxs("div",{className:"flex flex-col h-full pt-4 relative",children:[N.jsx("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:N.jsx(gv,{players:l,faint:!0})}),S==="question"||S==="buffer"||S==="reveal"?N.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[N.jsxs("div",{className:"flex justify-between items-center px-2",children:[N.jsxs("div",{className:"text-yellow-400 font-black italic text-base",children:[" ",d.currentQuestionIndex+1," "]}),N.jsxs("div",{className:"px-4 py-2 rounded-2xl font-mono text-sm font-black bg-white/10 backdrop-blur-md border border-white/20 flex items-center gap-3 shadow-xl min-w-[130px] justify-center",children:[N.jsx("span",{className:"text-[10px] text-white/70 uppercase font-bold tracking-tight",children:""}),N.jsxs("span",{className:"text-yellow-400 text-base whitespace-nowrap drop-shadow-sm",children:[S==="reveal"||S==="buffer"?"0":Math.max(0,10-Math.floor(_t))," "]})]})]}),N.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] shadow-2xl min-h-[140px] flex items-center justify-center text-center relative text-red-950 border-b-8 border-amber-900/30 animate-in zoom-in",children:[N.jsx(Zd,{}),N.jsx("p",{className:"text-xl font-black leading-tight italic",children:String(ee.q)})]}),N.jsx("div",{className:"flex-grow flex flex-col justify-center space-y-3",children:ee.a.map((Q,tt)=>{const mt=S==="reveal",kt=S==="buffer",x=Array.isArray(ee.correct)?ee.correct.includes(tt):tt===ee.correct,K=b===tt;let W="bg-white/10 backdrop-blur-md border-white/10 text-white/90";return mt?x?W="bg-green-600 border-green-300 ring-4 ring-green-400 shadow-xl text-white":K?W="bg-black/40 border-red-500 ring-2 ring-red-500/30 text-red-500 font-black":W="opacity-10 scale-95 grayscale bg-black/40 border-transparent text-white/40":K?W="bg-gradient-to-r from-yellow-400 to-amber-500 text-red-950 border-white ring-4 ring-yellow-400 shadow-xl scale-[1.02]":v===tt&&(W="bg-white/30 border-yellow-400 scale-[1.02] text-white"),N.jsxs("button",{disabled:b!==null||mt||kt,onClick:()=>y(tt),className:`p-5 border-2 rounded-2xl transition-all text-left flex items-center gap-4 relative overflow-hidden font-bold shadow-lg ${W}`,children:[N.jsx("span",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center shrink-0 text-xs font-mono",children:String.fromCharCode(65+tt)}),N.jsxs("div",{className:"flex flex-col flex-grow",children:[N.jsx("span",{className:"text-lg whitespace-pre-line break-words leading-tight",children:String(Q)}),mt&&x&&N.jsxs("span",{className:"text-[10px] font-black flex items-center gap-1 text-green-200 mt-1 animate-pulse",children:[N.jsx(YI,{className:"w-3 h-3"})," "]}),mt&&K&&!x&&N.jsxs("span",{className:"text-[10px] font-black text-red-400 flex items-center gap-1 mt-1",children:[N.jsx(JI,{className:"w-3 h-3"})," "]})]}),mt&&x&&N.jsx(lx,{className:"w-6 h-6 text-yellow-300 animate-bounce ml-2 shrink-0"})]},tt)})}),N.jsxs("div",{className:"h-20 flex flex-col items-center justify-center space-y-2",children:[S==="buffer"&&N.jsxs("div",{className:"text-yellow-400 font-black italic animate-pulse flex items-center gap-3 bg-white/10 backdrop-blur-md px-8 py-3 rounded-full border border-yellow-500/20 shadow-2xl",children:[N.jsx(cx,{className:"w-6 h-6 animate-spin"})," ..."]}),S==="reveal"&&N.jsx("div",{className:`text-base font-black italic px-8 py-3 rounded-full border-2 animate-in zoom-in shadow-xl ${M?"bg-green-600 text-white border-green-300":"bg-red-900/60 text-red-200 border-red-500/30"}`,children:M?" ":" "}),S==="question"&&N.jsxs(N.Fragment,{children:[v!==null&&b===null&&N.jsxs("button",{onClick:te,className:"w-full py-4 bg-gradient-to-b from-yellow-300 to-yellow-600 text-red-950 font-black rounded-2xl shadow-2xl text-xl border-b-4 border-amber-800 flex items-center justify-center gap-3 active:scale-95 transition-transform font-bold",children:[" ",N.jsx(fx,{className:"w-6 h-6"})]}),b!==null&&N.jsxs("div",{className:"text-yellow-400 font-bold italic animate-pulse flex items-center gap-3 bg-white/10 backdrop-blur-md px-8 py-3 rounded-full border border-yellow-500/20",children:[N.jsx(ax,{className:"w-6 h-6 animate-spin"})," ..."]})]})]})]}):N.jsxs("div",{className:"flex flex-col h-full space-y-4 animate-in slide-in-from-right relative",children:[N.jsx("h2",{className:"text-center text-4xl font-black text-yellow-400 italic font-serif-tc",children:""}),N.jsx("div",{className:"bg-white/5 rounded-[3rem] p-6 border border-yellow-500/20 flex-grow overflow-hidden flex flex-col backdrop-blur-sm",children:N.jsx("div",{className:"space-y-3 overflow-y-auto no-scrollbar",children:V.slice(0,5).map((Q,tt)=>N.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-4 rounded-2xl flex items-center justify-between border border-white/10 shadow-lg",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${tt===0?"bg-yellow-400 text-red-950 scale-110":"bg-white/20 text-white/80"}`,children:tt+1}),N.jsx("span",{className:`font-bold text-lg ${tt===0?"text-yellow-400 font-black italic":""}`,children:String(Q.name)})]}),N.jsxs("div",{className:"text-right",children:[N.jsxs("div",{className:"text-2xl font-black text-yellow-400 leading-none italic",children:[Q.score," ",N.jsx("span",{className:"text-[10px] opacity-50 not-italic",children:"pt"})]}),N.jsxs("div",{className:"text-[9px] opacity-40 mt-1 font-mono",children:[Q.totalTimeTaken?.toFixed(1),"s"]})]})]},Q.id))})}),N.jsx("div",{className:"h-12 flex items-center justify-center",children:N.jsx("div",{className:"bg-black/20 px-6 py-1.5 rounded-full border border-white/5",children:N.jsxs("span",{className:"text-yellow-200/80 text-xs font-black italic animate-pulse tracking-widest",children:[" ",Math.min(wi.length,(d.currentQuestionIndex||0)+2),"  ",wi.length," "]})})})]})]}),i==="leaderboard"&&N.jsxs("div",{className:"flex flex-col h-full space-y-3 pt-6 animate-in slide-in-from-bottom duration-1000",children:[N.jsxs("div",{className:"text-center",children:[N.jsx("h2",{className:"text-4xl font-black text-yellow-400 drop-shadow-xl italic tracking-tighter font-serif-tc uppercase",children:""}),N.jsx("p",{className:"text-white/30 text-[10px] font-bold uppercase tracking-[0.3em] font-sans",children:"Final Leaderboard"})]}),D&&N.jsxs("div",{className:"bg-gradient-to-br from-yellow-400 to-yellow-600 text-red-950 p-3 rounded-2xl shadow-lg relative overflow-hidden mx-2 border border-white/20",children:[N.jsxs("div",{className:"relative z-10 flex justify-between items-center px-2",children:[N.jsxs("div",{children:[N.jsx("p",{className:"text-[8px] font-black opacity-70 uppercase tracking-widest",children:""}),N.jsx("p",{className:"text-2xl font-black italic truncate max-w-[150px]",children:String(D.name)})]}),N.jsxs("div",{className:"text-right",children:[N.jsx("p",{className:"text-4xl font-black leading-none",children:V.findIndex(Q=>Q.id===s.uid)+1}),N.jsxs("p",{className:"text-[8px] font-bold uppercase tracking-tighter font-serif-tc",children:["Ranking / ",D.score," PT"]})]})]}),N.jsx(gx,{className:"absolute -bottom-3 -right-3 w-16 h-16 text-red-950/10 rotate-12"})]}),N.jsx("div",{className:"bg-white/5 rounded-3xl p-3 border border-yellow-400/10 flex-grow overflow-y-auto no-scrollbar shadow-inner mx-2",children:N.jsx("div",{className:"space-y-1.5",children:V.slice(0,15).map((Q,tt)=>N.jsxs("div",{className:`p-2.5 rounded-xl flex items-center justify-between border transition-all ${tt<3?"bg-yellow-400/10 border-yellow-400/30":"bg-white/5 border-white/5"}`,children:[N.jsxs("div",{className:"flex items-center gap-3",children:[tt===0?N.jsx(tx,{className:"text-yellow-400 w-5 h-5 drop-shadow-md"}):N.jsx("span",{className:"text-white/30 font-mono w-5 text-center text-xs font-bold",children:tt+1}),N.jsx("span",{className:`font-bold truncate max-w-[120px] ${tt<3?"text-yellow-400 text-sm font-black italic":"text-white/80 text-xs"}`,children:String(Q.name)})]}),N.jsxs("div",{className:"text-right",children:[N.jsx("div",{className:`font-black italic leading-none ${tt<3?"text-lg text-white":"text-sm text-white/60"}`,children:Q.score}),N.jsxs("div",{className:"text-[8px] opacity-30 font-mono",children:[Q.totalTimeTaken?.toFixed(1),"s"]})]})]},Q.id))})}),N.jsx("div",{className:"pb-4 text-center",children:N.jsx("p",{className:"text-[10px] text-yellow-500/50 font-bold uppercase italic tracking-widest",children:"  "})})]})]})}),nt&&N.jsx("div",{className:"fixed inset-0 z-[100] bg-black/95 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:N.jsxs("form",{onSubmit:U,className:"bg-[#450a0a] border-2 border-yellow-400 p-8 rounded-[2.5rem] w-full max-w-xs text-center shadow-2xl relative",children:[N.jsx(Zd,{}),N.jsx("h3",{className:"text-xl font-black text-yellow-400 mb-6 italic",children:""}),N.jsx("input",{type:"password",autoFocus:!0,className:"w-full p-4 rounded-xl bg-white text-black mb-6 text-center text-2xl font-black shadow-inner outline-none",placeholder:"",value:rt,onChange:Q=>ut(Q.target.value)}),N.jsxs("div",{className:"flex gap-3",children:[N.jsx("button",{type:"button",onClick:()=>ft(!1),className:"flex-1 py-4 bg-white/10 rounded-xl font-bold",children:""}),N.jsx("button",{type:"submit",className:"flex-1 py-4 bg-yellow-500 text-red-950 rounded-xl font-black shadow-lg active:scale-95 transition-transform",children:""})]})]})})]})}Nb.createRoot(document.getElementById("root")).render(N.jsx(Gt.StrictMode,{children:N.jsx(Rx,{})}));
