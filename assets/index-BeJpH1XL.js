(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Nd={exports:{}},pl={};var O_;function bb(){if(O_)return pl;O_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return pl.Fragment=t,pl.jsx=i,pl.jsxs=i,pl}var M_;function Sb(){return M_||(M_=1,Nd.exports=bb()),Nd.exports}var M=Sb(),Dd={exports:{}},Et={};var V_;function Ab(){if(V_)return Et;V_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),V=Symbol.iterator;function Q(N){return N===null||typeof N!="object"?null:(N=V&&N[V]||N["@@iterator"],typeof N=="function"?N:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,tt={};function ut(N,F,nt){this.props=N,this.context=F,this.refs=tt,this.updater=nt||W}ut.prototype.isReactComponent={},ut.prototype.setState=function(N,F){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,F,"setState")},ut.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function dt(){}dt.prototype=ut.prototype;function ht(N,F,nt){this.props=N,this.context=F,this.refs=tt,this.updater=nt||W}var bt=ht.prototype=new dt;bt.constructor=ht,Z(bt,ut.prototype),bt.isPureReactComponent=!0;var re=Array.isArray;function Ut(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(N,F,nt){var st=nt.ref;return{$$typeof:s,type:N,key:F,ref:st!==void 0?st:null,props:nt}}function D(N,F){return C(N.type,F,N.props)}function x(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function L(N){var F={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(nt){return F[nt]})}var w=/\/+/g;function Ht(N,F){return typeof N=="object"&&N!==null&&N.key!=null?L(""+N.key):F.toString(36)}function he(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Ut,Ut):(N.status="pending",N.then(function(F){N.status==="pending"&&(N.status="fulfilled",N.value=F)},function(F){N.status==="pending"&&(N.status="rejected",N.reason=F)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function U(N,F,nt,st,yt){var wt=typeof N;(wt==="undefined"||wt==="boolean")&&(N=null);var Lt=!1;if(N===null)Lt=!0;else switch(wt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(N.$$typeof){case s:case t:Lt=!0;break;case b:return Lt=N._init,U(Lt(N._payload),F,nt,st,yt)}}if(Lt)return yt=yt(N),Lt=st===""?"."+Ht(N,0):st,re(yt)?(nt="",Lt!=null&&(nt=Lt.replace(w,"$&/")+"/"),U(yt,F,nt,"",function(ls){return ls})):yt!=null&&(x(yt)&&(yt=D(yt,nt+(yt.key==null||N&&N.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+Lt)),F.push(yt)),1;Lt=0;var xe=st===""?".":st+":";if(re(N))for(var se=0;se<N.length;se++)st=N[se],wt=xe+Ht(st,se),Lt+=U(st,F,nt,wt,yt);else if(se=Q(N),typeof se=="function")for(N=se.call(N),se=0;!(st=N.next()).done;)st=st.value,wt=xe+Ht(st,se++),Lt+=U(st,F,nt,wt,yt);else if(wt==="object"){if(typeof N.then=="function")return U(he(N),F,nt,st,yt);throw F=String(N),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function X(N,F,nt){if(N==null)return N;var st=[],yt=0;return U(N,st,"","",function(wt){return F.call(nt,wt,yt++)}),st}function it(N){if(N._status===-1){var F=N._result;F=F(),F.then(function(nt){(N._status===0||N._status===-1)&&(N._status=1,N._result=nt)},function(nt){(N._status===0||N._status===-1)&&(N._status=2,N._result=nt)}),N._status===-1&&(N._status=0,N._result=F)}if(N._status===1)return N._result.default;throw N._result}var Ct=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},vt={map:X,forEach:function(N,F,nt){X(N,function(){F.apply(this,arguments)},nt)},count:function(N){var F=0;return X(N,function(){F++}),F},toArray:function(N){return X(N,function(F){return F})||[]},only:function(N){if(!x(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Et.Activity=A,Et.Children=vt,Et.Component=ut,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=ht,Et.StrictMode=a,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Et.__COMPILER_RUNTIME={__proto__:null,c:function(N){return I.H.useMemoCache(N)}},Et.cache=function(N){return function(){return N.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(N,F,nt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var st=Z({},N.props),yt=N.key;if(F!=null)for(wt in F.key!==void 0&&(yt=""+F.key),F)!S.call(F,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&F.ref===void 0||(st[wt]=F[wt]);var wt=arguments.length-2;if(wt===1)st.children=nt;else if(1<wt){for(var Lt=Array(wt),xe=0;xe<wt;xe++)Lt[xe]=arguments[xe+2];st.children=Lt}return C(N.type,yt,st)},Et.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Et.createElement=function(N,F,nt){var st,yt={},wt=null;if(F!=null)for(st in F.key!==void 0&&(wt=""+F.key),F)S.call(F,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=F[st]);var Lt=arguments.length-2;if(Lt===1)yt.children=nt;else if(1<Lt){for(var xe=Array(Lt),se=0;se<Lt;se++)xe[se]=arguments[se+2];yt.children=xe}if(N&&N.defaultProps)for(st in Lt=N.defaultProps,Lt)yt[st]===void 0&&(yt[st]=Lt[st]);return C(N,wt,yt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(N){return{$$typeof:p,render:N}},Et.isValidElement=x,Et.lazy=function(N){return{$$typeof:b,_payload:{_status:-1,_result:N},_init:it}},Et.memo=function(N,F){return{$$typeof:y,type:N,compare:F===void 0?null:F}},Et.startTransition=function(N){var F=I.T,nt={};I.T=nt;try{var st=N(),yt=I.S;yt!==null&&yt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Ut,Ct)}catch(wt){Ct(wt)}finally{F!==null&&nt.types!==null&&(F.types=nt.types),I.T=F}},Et.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Et.use=function(N){return I.H.use(N)},Et.useActionState=function(N,F,nt){return I.H.useActionState(N,F,nt)},Et.useCallback=function(N,F){return I.H.useCallback(N,F)},Et.useContext=function(N){return I.H.useContext(N)},Et.useDebugValue=function(){},Et.useDeferredValue=function(N,F){return I.H.useDeferredValue(N,F)},Et.useEffect=function(N,F){return I.H.useEffect(N,F)},Et.useEffectEvent=function(N){return I.H.useEffectEvent(N)},Et.useId=function(){return I.H.useId()},Et.useImperativeHandle=function(N,F,nt){return I.H.useImperativeHandle(N,F,nt)},Et.useInsertionEffect=function(N,F){return I.H.useInsertionEffect(N,F)},Et.useLayoutEffect=function(N,F){return I.H.useLayoutEffect(N,F)},Et.useMemo=function(N,F){return I.H.useMemo(N,F)},Et.useOptimistic=function(N,F){return I.H.useOptimistic(N,F)},Et.useReducer=function(N,F,nt){return I.H.useReducer(N,F,nt)},Et.useRef=function(N){return I.H.useRef(N)},Et.useState=function(N){return I.H.useState(N)},Et.useSyncExternalStore=function(N,F,nt){return I.H.useSyncExternalStore(N,F,nt)},Et.useTransition=function(){return I.H.useTransition()},Et.version="19.2.4",Et}var k_;function Sm(){return k_||(k_=1,Dd.exports=Ab()),Dd.exports}var Yt=Sm(),Od={exports:{}},yl={},Md={exports:{}},Vd={};var U_;function wb(){return U_||(U_=1,(function(s){function t(U,X){var it=U.length;U.push(X);t:for(;0<it;){var Ct=it-1>>>1,vt=U[Ct];if(0<l(vt,X))U[Ct]=X,U[it]=vt,it=Ct;else break t}}function i(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var X=U[0],it=U.pop();if(it!==X){U[0]=it;t:for(var Ct=0,vt=U.length,N=vt>>>1;Ct<N;){var F=2*(Ct+1)-1,nt=U[F],st=F+1,yt=U[st];if(0>l(nt,it))st<vt&&0>l(yt,nt)?(U[Ct]=yt,U[st]=it,Ct=st):(U[Ct]=nt,U[F]=it,Ct=F);else if(st<vt&&0>l(yt,it))U[Ct]=yt,U[st]=it,Ct=st;else break t}}return X}function l(U,X){var it=U.sortIndex-X.sortIndex;return it!==0?it:U.id-X.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],y=[],b=1,A=null,V=3,Q=!1,W=!1,Z=!1,tt=!1,ut=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function bt(U){for(var X=i(y);X!==null;){if(X.callback===null)a(y);else if(X.startTime<=U)a(y),X.sortIndex=X.expirationTime,t(v,X);else break;X=i(y)}}function re(U){if(Z=!1,bt(U),!W)if(i(v)!==null)W=!0,Ut||(Ut=!0,L());else{var X=i(y);X!==null&&he(re,X.startTime-U)}}var Ut=!1,I=-1,S=5,C=-1;function D(){return tt?!0:!(s.unstable_now()-C<S)}function x(){if(tt=!1,Ut){var U=s.unstable_now();C=U;var X=!0;try{t:{W=!1,Z&&(Z=!1,dt(I),I=-1),Q=!0;var it=V;try{e:{for(bt(U),A=i(v);A!==null&&!(A.expirationTime>U&&D());){var Ct=A.callback;if(typeof Ct=="function"){A.callback=null,V=A.priorityLevel;var vt=Ct(A.expirationTime<=U);if(U=s.unstable_now(),typeof vt=="function"){A.callback=vt,bt(U),X=!0;break e}A===i(v)&&a(v),bt(U)}else a(v);A=i(v)}if(A!==null)X=!0;else{var N=i(y);N!==null&&he(re,N.startTime-U),X=!1}}break t}finally{A=null,V=it,Q=!1}X=void 0}}finally{X?L():Ut=!1}}}var L;if(typeof ht=="function")L=function(){ht(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ht=w.port2;w.port1.onmessage=x,L=function(){Ht.postMessage(null)}}else L=function(){ut(x,0)};function he(U,X){I=ut(function(){U(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(U){switch(V){case 1:case 2:case 3:var X=3;break;default:X=V}var it=V;V=X;try{return U()}finally{V=it}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var it=V;V=U;try{return X()}finally{V=it}},s.unstable_scheduleCallback=function(U,X,it){var Ct=s.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?Ct+it:Ct):it=Ct,U){case 1:var vt=-1;break;case 2:vt=250;break;case 5:vt=1073741823;break;case 4:vt=1e4;break;default:vt=5e3}return vt=it+vt,U={id:b++,callback:X,priorityLevel:U,startTime:it,expirationTime:vt,sortIndex:-1},it>Ct?(U.sortIndex=it,t(y,U),i(v)===null&&U===i(y)&&(Z?(dt(I),I=-1):Z=!0,he(re,it-Ct))):(U.sortIndex=vt,t(v,U),W||Q||(W=!0,Ut||(Ut=!0,L()))),U},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(U){var X=V;return function(){var it=V;V=X;try{return U.apply(this,arguments)}finally{V=it}}}})(Vd)),Vd}var L_;function Rb(){return L_||(L_=1,Md.exports=wb()),Md.exports}var kd={exports:{}},Ye={};var P_;function Cb(){if(P_)return Ye;P_=1;var s=Sm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:v,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(v,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,b)},Ye.flushSync=function(v){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=b,a.d.f()}},Ye.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Ye.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ye.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var b=y.as,A=p(b,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:V,fetchPriority:Q}):b==="script"&&a.d.X(v,{crossOrigin:A,integrity:V,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Ye.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=p(b,y.crossOrigin);a.d.L(v,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(v,y){if(typeof v=="string")if(y){var b=p(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Ye.requestFormReset=function(v){a.d.r(v)},Ye.unstable_batchedUpdates=function(v,y){return v(y)},Ye.useFormState=function(v,y,b){return d.H.useFormState(v,y,b)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var z_;function Ib(){if(z_)return kd.exports;z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),kd.exports=Cb(),kd.exports}var j_;function xb(){if(j_)return yl;j_=1;var s=Rb(),t=Sm(),i=Ib();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),bt=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Ht(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case ut:return"Profiler";case tt:return"StrictMode";case re:return"Suspense";case Ut:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case ht:return e.displayName||"Context";case dt:return(e._context.displayName||"Context")+".Consumer";case bt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Ht(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Ht(e(n))}catch{}}return null}var he=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},Ct=[],vt=-1;function N(e){return{current:e}}function F(e){0>vt||(e.current=Ct[vt],Ct[vt]=null,vt--)}function nt(e,n){vt++,Ct[vt]=e.current,e.current=n}var st=N(null),yt=N(null),wt=N(null),Lt=N(null);function xe(e,n){switch(nt(wt,n),nt(yt,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?e_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=e_(n),e=n_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(st),nt(st,e)}function se(){F(st),F(yt),F(wt)}function ls(e){e.memoizedState!==null&&nt(Lt,e);var n=st.current,r=n_(n,e.type);n!==r&&(nt(yt,e),nt(st,r))}function $s(e){yt.current===e&&(F(st),F(yt)),Lt.current===e&&(F(Lt),fl._currentValue=it)}var Zs,Ws;function ni(e){if(Zs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Zs=n&&n[1]||"",Ws=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zs+e+Ws}var ho=!1;function us(e,n){if(!e||ho)return"";ho=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var B=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){B=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){B=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),j=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===j.length)for(o=R.length-1,h=j.length-1;1<=o&&0<=h&&R[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==j[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{ho=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ni(r):""}function fo(e,n){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return us(e.type,!1);case 11:return us(e.type.render,!1);case 1:return us(e.type,!0);case 31:return ni("Activity");default:return""}}function mo(e){try{var n="",r=null;do n+=fo(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,Ne=s.unstable_scheduleCallback,lr=s.unstable_cancelCallback,Dh=s.unstable_shouldYield,$l=s.unstable_requestPaint,We=s.unstable_now,cs=s.unstable_getCurrentPriorityLevel,go=s.unstable_ImmediatePriority,po=s.unstable_UserBlockingPriority,ur=s.unstable_NormalPriority,Oh=s.unstable_LowPriority,Zl=s.unstable_IdlePriority,Wl=s.log,tu=s.unstable_setDisableYieldValue,jn=null,ze=null;function An(e){if(typeof Wl=="function"&&tu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(jn,e)}catch{}}var fe=Math.clz32?Math.clz32:nu,eu=Math.log,ta=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(eu(e)/ta|0)|0}var ii=256,hs=262144,ve=4194304;function ri(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function si(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ri(o):(g&=E,g!==0?h=ri(g):r||(r=E&~e,r!==0&&(h=ri(r))))):(E=o&~f,E!==0?h=ri(E):g!==0?h=ri(g):r||(r=o&~e,r!==0&&(h=ri(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Bn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Mh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ai(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function fs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,j=e.hiddenUpdates;for(r=g&~r;0<r;){var G=31-fe(r),Y=1<<G;E[G]=0,R[G]=-1;var B=j[G];if(B!==null)for(j[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}r&=~Y}o!==0&&ds(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ds(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function yo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-fe(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function _o(e,n){var r=n&-n;return r=(r&42)!==0?1:ms(r),(r&(e.suspendedLanes|n))!==0?0:r}function ms(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:w_(e.type))}function qn(e,n){var r=X.p;try{return X.p=e,n()}finally{X.p=r}}var Hn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Hn,Ve="__reactProps$"+Hn,oi="__reactContainer$"+Hn,ea="__reactEvents$"+Hn,kh="__reactListeners$"+Hn,su="__reactHandles$"+Hn,au="__reactResources$"+Hn,li="__reactMarker$"+Hn;function na(e){delete e[Ee],delete e[Ve],delete e[ea],delete e[kh],delete e[su]}function ui(e){var n=e[Ee];if(n)return n;for(var r=e.parentNode;r;){if(n=r[oi]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=u_(e);e!==null;){if(r=e[Ee])return r;e=u_(e)}return n}e=r,r=e.parentNode}return null}function wn(e){if(e=e[Ee]||e[oi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ci(e){var n=e[au];return n||(n=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[li]=!0}var vo=new Set,Eo={};function hi(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(Eo[e]=n,e=0;e<n.length;e++)vo.add(n[e])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},So={};function ou(e){return _e.call(So,e)?!0:_e.call(bo,e)?!1:To.test(e)?So[e]=!0:(bo[e]=!0,!1)}function ia(e,n,r){if(ou(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function dn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function be(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ao(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){if(!e._valueTracker){var n=cr(e)?"checked":"value";e._valueTracker=Ao(e,n,""+e[n])}}function gs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=cr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ps=/[\n"\\]/g;function nn(e){return e.replace(ps,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?wo(e,g,ke(n)):r!=null?wo(e,g,ke(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function lu(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(e);return}r=r!=null?""+ke(r):"",n=n!=null?""+ke(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ft(e)}function wo(e,n,r){n==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function hr(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+ke(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function uu(e,n,r){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+ke(r):""}function fr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(he(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=ke(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Ft(e)}function rn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||cu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Co(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Ro(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ro(e,f,n[f])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return dr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var Io=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mr=null,mi=null;function ys(e){var n=wn(e);if(n&&(e=n.stateNode)){var r=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(ra(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&gs(o)}break t;case"textarea":uu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&hr(e,!!r.multiple,n,!1)}}}var oa=!1;function gr(e,n,r){if(oa)return e(n,r);oa=!0;try{var o=e(n);return o}finally{if(oa=!1,(mr!==null||mi!==null)&&(rc(),mr&&(n=mr,e=mi,mi=mr=null,ys(n),e)))for(n=0;n<e.length;n++)ys(e[n])}}function Fn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ve]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=!1;if(Cn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){_s=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{_s=!1}var gi=null,xo=null,vs=null;function No(){if(vs)return vs;var e,n=xo,r=n.length,o,h="value"in gi?gi.value:gi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return vs=h.slice(e,1<o?1-o:void 0)}function Es(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function Qn(){return!1}function je(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vi:Qn,this.isPropagationStopped=Qn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=je(ki),pr=A({},ki,{view:0,detail:0}),Do=je(pr),yr,la,yi,ua=A({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(yr=e.screenX-yi.screenX,la=e.screenY-yi.screenY):la=yr=0,yi=e),yr)},movementY:function(e){return"movementY"in e?e.movementY:la}}),Oo=je(ua),Ts=A({},ua,{dataTransfer:0}),fu=je(Ts),du=A({},pr,{relatedTarget:0}),bs=je(du),Mo=A({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=je(Mo),ca=A({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=je(ca),pu=A({},ki,{data:0}),_i=je(pu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vu[e])?!!n[e]:!1}function _r(){return Eu}var tn=A({},pr,{key:function(e){if(e.key){var n=yu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tu=je(tn),bu=A({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=je(bu),u=A({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),m=je(u),_=A({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(_),P=A({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=je(P),et=A({},ki,{newState:0,oldState:0}),St=je(et),de=[9,13,27,32],Bt=Cn&&"CompositionEvent"in window,ae=null;Cn&&"documentMode"in document&&(ae=document.documentMode);var In=Cn&&"TextEvent"in window&&!ae,vi=Cn&&(!Bt||ae&&8<ae&&11>=ae),Kn=" ",Yn=!1;function Ss(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function QT(e,n){switch(e){case"compositionend":return ha(n);case"keypress":return n.which!==32?null:(Yn=!0,Kn);case"textInput":return e=n.data,e===Kn&&Yn?null:e;default:return null}}function KT(e,n){if(fa)return e==="compositionend"||!Bt&&Ss(e,n)?(e=No(),vs=xo=gi=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var YT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!YT[e.type]:n==="textarea"}function dg(e,n,r,o){mr?mi?mi.push(o):mi=[o]:mr=o,n=hc(n,"onChange"),0<n.length&&(r=new pi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Vo=null,ko=null;function XT(e){Xy(e,0)}function Su(e){var n=fn(e);if(gs(n))return e}function mg(e,n){if(e==="change")return n}var gg=!1;if(Cn){var Uh;if(Cn){var Lh="oninput"in document;if(!Lh){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),Lh=typeof pg.oninput=="function"}Uh=Lh}else Uh=!1;gg=Uh&&(!document.documentMode||9<document.documentMode)}function yg(){Vo&&(Vo.detachEvent("onpropertychange",_g),ko=Vo=null)}function _g(e){if(e.propertyName==="value"&&Su(ko)){var n=[];dg(n,ko,e,Rn(e)),gr(XT,n)}}function JT(e,n,r){e==="focusin"?(yg(),Vo=n,ko=r,Vo.attachEvent("onpropertychange",_g)):e==="focusout"&&yg()}function $T(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(ko)}function ZT(e,n){if(e==="click")return Su(n)}function WT(e,n){if(e==="input"||e==="change")return Su(n)}function t1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:t1;function Uo(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!_e.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eg(e,n){var r=vg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=vg(r)}}function Tg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Tg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function bg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=di(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=di(e.document)}return n}function Ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var e1=Cn&&"documentMode"in document&&11>=document.documentMode,da=null,zh=null,Lo=null,jh=!1;function Sg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jh||da==null||da!==di(o)||(o=da,"selectionStart"in o&&Ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Lo&&Uo(Lo,o)||(Lo=o,o=hc(zh,"onSelect"),0<o.length&&(n=new pi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=da)))}function As(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ma={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},Bh={},Ag={};Cn&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function ws(e){if(Bh[e])return Bh[e];if(!ma[e])return e;var n=ma[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ag)return Bh[e]=n[r];return e}var wg=ws("animationend"),Rg=ws("animationiteration"),Cg=ws("animationstart"),n1=ws("transitionrun"),i1=ws("transitionstart"),r1=ws("transitioncancel"),Ig=ws("transitionend"),xg=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function Xn(e,n){xg.set(e,n),hi(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],ga=0,Hh=0;function wu(){for(var e=ga,n=Hh=ga=0;n<e;){var r=xn[n];xn[n++]=null;var o=xn[n];xn[n++]=null;var h=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Ng(r,h,f)}}function Ru(e,n,r,o){xn[ga++]=e,xn[ga++]=n,xn[ga++]=r,xn[ga++]=o,Hh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Gh(e,n,r,o){return Ru(e,n,r,o),Cu(e)}function Rs(e,n){return Ru(e,null,null,n),Cu(e)}function Ng(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Cu(e){if(50<sl)throw sl=0,td=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pa={};function s1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,r,o){return new s1(e,n,r,o)}function Fh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,n){var r=e.alternate;return r===null?(r=gn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Dg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Fh(e)&&(g=1);else if(typeof e=="string")g=cb(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=gn(31,r,n,h),e.elementType=C,e.lanes=f,e;case Z:return Cs(r.children,h,f,n);case tt:g=8,h|=24;break;case ut:return e=gn(12,r,n,h|2),e.elementType=ut,e.lanes=f,e;case re:return e=gn(13,r,n,h),e.elementType=re,e.lanes=f,e;case Ut:return e=gn(19,r,n,h),e.elementType=Ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:g=10;break t;case dt:g=9;break t;case bt:g=11;break t;case I:g=14;break t;case S:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=gn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Cs(e,n,r,o){return e=gn(7,e,o,n),e.lanes=r,e}function Qh(e,n,r){return e=gn(6,e,null,n),e.lanes=r,e}function Og(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Kh(e,n,r){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Mg=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var r=Mg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:mo(n)},Mg.set(e,n),n)}return{value:e,source:n,stack:mo(n)}}var ya=[],_a=0,xu=null,Po=0,Dn=[],On=0,vr=null,Ei=1,Ti="";function Pi(e,n){ya[_a++]=Po,ya[_a++]=xu,xu=e,Po=n}function Vg(e,n,r){Dn[On++]=Ei,Dn[On++]=Ti,Dn[On++]=vr,vr=e;var o=Ei;e=Ti;var h=32-fe(o)-1;o&=~(1<<h),r+=1;var f=32-fe(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ei=1<<32-fe(n)+h|r<<h|o,Ti=f+e}else Ei=1<<f|r<<h|o,Ti=e}function Yh(e){e.return!==null&&(Pi(e,1),Vg(e,1,0))}function Xh(e){for(;e===xu;)xu=ya[--_a],ya[_a]=null,Po=ya[--_a],ya[_a]=null;for(;e===vr;)vr=Dn[--On],Dn[On]=null,Ti=Dn[--On],Dn[On]=null,Ei=Dn[--On],Dn[On]=null}function kg(e,n){Dn[On++]=Ei,Dn[On++]=Ti,Dn[On++]=vr,Ei=n.id,Ti=n.overflow,vr=e}var Be=null,te=null,kt=!1,Er=null,Mn=!1,Jh=Error(a(519));function Tr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(Nn(n,e)),Jh}function Ug(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[Ve]=o,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(r=0;r<ol.length;r++)xt(ol[r],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),lu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),fr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Wy(n.textContent,r)?(o.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),o.onScroll!=null&&xt("scroll",n),o.onScrollEnd!=null&&xt("scrollend",n),o.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||Tr(e,!0)}function Lg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Be=Be.return}}function va(e){if(e!==Be)return!1;if(!kt)return Lg(e),kt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||gd(e.type,e.memoizedProps)),r=!r),r&&te&&Tr(e),Lg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=l_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=l_(e)}else n===27?(n=te,kr(e.type)?(e=Ed,Ed=null,te=e):te=n):te=Be?kn(e.stateNode.nextSibling):null;return!0}function Is(){te=Be=null,kt=!1}function $h(){var e=Er;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),Er=null),e}function zo(e){Er===null?Er=[e]:Er.push(e)}var Zh=N(null),xs=null,zi=null;function br(e,n,r){nt(Zh,n._currentValue),n._currentValue=r}function ji(e){e._currentValue=Zh.current,F(Zh)}function Wh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function tf(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Wh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Wh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ea(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}h=h.return}e!==null&&tf(n,e,r,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ns(e){xs=e,zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Pg(xs,e)}function Du(e,n){return xs===null&&Ns(e),Pg(e,n)}function Pg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},zi===null){if(e===null)throw Error(a(308));zi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else zi=zi.next=n;return r}var a1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},o1=s.unstable_scheduleCallback,l1=s.unstable_NormalPriority,Se={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new a1,data:new Map,refCount:0}}function jo(e){e.refCount--,e.refCount===0&&o1(l1,function(){e.controller.abort()})}var Bo=null,nf=0,Ta=0,ba=null;function u1(e,n){if(Bo===null){var r=Bo=[];nf=0,Ta=ad(),ba={status:"pending",value:void 0,then:function(o){r.push(o)}}}return nf++,n.then(zg,zg),n}function zg(){if(--nf===0&&Bo!==null){ba!==null&&(ba.status="fulfilled");var e=Bo;Bo=null,Ta=0,ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function c1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var jg=U.S;U.S=function(e,n){Sy=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&u1(e,n),jg!==null&&jg(e,n)};var Ds=N(null);function rf(){var e=Ds.current;return e!==null?e:Wt.pooledCache}function Ou(e,n){n===null?nt(Ds,Ds.current):nt(Ds,n.pool)}function Bg(){var e=rf();return e===null?null:{parent:Se._currentValue,pool:e}}var Sa=Error(a(460)),sf=Error(a(474)),Mu=Error(a(542)),Vu={then:function(){}};function qg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Gn,Gn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fg(e),e;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fg(e),e}throw Ms=n,Sa}}function Os(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ms=r,Sa):r}}var Ms=null;function Gg(){if(Ms===null)throw Error(a(459));var e=Ms;return Ms=null,e}function Fg(e){if(e===Sa||e===Mu)throw Error(a(483))}var Aa=null,qo=0;function ku(e){var n=qo;return qo+=1,Aa===null&&(Aa=[]),Hg(Aa,e,n)}function Ho(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Qg(e){function n(k,O){if(e){var z=k.deletions;z===null?(k.deletions=[O],k.flags|=16):z.push(O)}}function r(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Li(k,O),k.index=0,k.sibling=null,k}function f(k,O,z){return k.index=z,e?(z=k.alternate,z!==null?(z=z.index,z<O?(k.flags|=67108866,O):z):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,z,K){return O===null||O.tag!==6?(O=Qh(z,k.mode,K),O.return=k,O):(O=h(O,z),O.return=k,O)}function R(k,O,z,K){var ct=z.type;return ct===Z?G(k,O,z.props.children,K,z.key):O!==null&&(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Os(ct)===O.type)?(O=h(O,z.props),Ho(O,z),O.return=k,O):(O=Iu(z.type,z.key,z.props,null,k.mode,K),Ho(O,z),O.return=k,O)}function j(k,O,z,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Kh(z,k.mode,K),O.return=k,O):(O=h(O,z.children||[]),O.return=k,O)}function G(k,O,z,K,ct){return O===null||O.tag!==7?(O=Cs(z,k.mode,K,ct),O.return=k,O):(O=h(O,z),O.return=k,O)}function Y(k,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Qh(""+O,k.mode,z),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Q:return z=Iu(O.type,O.key,O.props,null,k.mode,z),Ho(z,O),z.return=k,z;case W:return O=Kh(O,k.mode,z),O.return=k,O;case S:return O=Os(O),Y(k,O,z)}if(he(O)||L(O))return O=Cs(O,k.mode,z,null),O.return=k,O;if(typeof O.then=="function")return Y(k,ku(O),z);if(O.$$typeof===ht)return Y(k,Du(k,O),z);Uu(k,O)}return null}function B(k,O,z,K){var ct=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ct!==null?null:E(k,O,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:return z.key===ct?R(k,O,z,K):null;case W:return z.key===ct?j(k,O,z,K):null;case S:return z=Os(z),B(k,O,z,K)}if(he(z)||L(z))return ct!==null?null:G(k,O,z,K,null);if(typeof z.then=="function")return B(k,O,ku(z),K);if(z.$$typeof===ht)return B(k,O,Du(k,z),K);Uu(k,z)}return null}function H(k,O,z,K,ct){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(z)||null,E(O,k,""+K,ct);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return k=k.get(K.key===null?z:K.key)||null,R(O,k,K,ct);case W:return k=k.get(K.key===null?z:K.key)||null,j(O,k,K,ct);case S:return K=Os(K),H(k,O,z,K,ct)}if(he(K)||L(K))return k=k.get(z)||null,G(O,k,K,ct,null);if(typeof K.then=="function")return H(k,O,z,ku(K),ct);if(K.$$typeof===ht)return H(k,O,z,Du(O,K),ct);Uu(O,K)}return null}function at(k,O,z,K){for(var ct=null,zt=null,lt=O,Rt=O=0,Dt=null;lt!==null&&Rt<z.length;Rt++){lt.index>Rt?(Dt=lt,lt=null):Dt=lt.sibling;var jt=B(k,lt,z[Rt],K);if(jt===null){lt===null&&(lt=Dt);break}e&&lt&&jt.alternate===null&&n(k,lt),O=f(jt,O,Rt),zt===null?ct=jt:zt.sibling=jt,zt=jt,lt=Dt}if(Rt===z.length)return r(k,lt),kt&&Pi(k,Rt),ct;if(lt===null){for(;Rt<z.length;Rt++)lt=Y(k,z[Rt],K),lt!==null&&(O=f(lt,O,Rt),zt===null?ct=lt:zt.sibling=lt,zt=lt);return kt&&Pi(k,Rt),ct}for(lt=o(lt);Rt<z.length;Rt++)Dt=H(lt,k,Rt,z[Rt],K),Dt!==null&&(e&&Dt.alternate!==null&&lt.delete(Dt.key===null?Rt:Dt.key),O=f(Dt,O,Rt),zt===null?ct=Dt:zt.sibling=Dt,zt=Dt);return e&&lt.forEach(function(jr){return n(k,jr)}),kt&&Pi(k,Rt),ct}function mt(k,O,z,K){if(z==null)throw Error(a(151));for(var ct=null,zt=null,lt=O,Rt=O=0,Dt=null,jt=z.next();lt!==null&&!jt.done;Rt++,jt=z.next()){lt.index>Rt?(Dt=lt,lt=null):Dt=lt.sibling;var jr=B(k,lt,jt.value,K);if(jr===null){lt===null&&(lt=Dt);break}e&&lt&&jr.alternate===null&&n(k,lt),O=f(jr,O,Rt),zt===null?ct=jr:zt.sibling=jr,zt=jr,lt=Dt}if(jt.done)return r(k,lt),kt&&Pi(k,Rt),ct;if(lt===null){for(;!jt.done;Rt++,jt=z.next())jt=Y(k,jt.value,K),jt!==null&&(O=f(jt,O,Rt),zt===null?ct=jt:zt.sibling=jt,zt=jt);return kt&&Pi(k,Rt),ct}for(lt=o(lt);!jt.done;Rt++,jt=z.next())jt=H(lt,k,Rt,jt.value,K),jt!==null&&(e&&jt.alternate!==null&&lt.delete(jt.key===null?Rt:jt.key),O=f(jt,O,Rt),zt===null?ct=jt:zt.sibling=jt,zt=jt);return e&&lt.forEach(function(Tb){return n(k,Tb)}),kt&&Pi(k,Rt),ct}function Zt(k,O,z,K){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:t:{for(var ct=z.key;O!==null;){if(O.key===ct){if(ct=z.type,ct===Z){if(O.tag===7){r(k,O.sibling),K=h(O,z.props.children),K.return=k,k=K;break t}}else if(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Os(ct)===O.type){r(k,O.sibling),K=h(O,z.props),Ho(K,z),K.return=k,k=K;break t}r(k,O);break}else n(k,O);O=O.sibling}z.type===Z?(K=Cs(z.props.children,k.mode,K,z.key),K.return=k,k=K):(K=Iu(z.type,z.key,z.props,null,k.mode,K),Ho(K,z),K.return=k,k=K)}return g(k);case W:t:{for(ct=z.key;O!==null;){if(O.key===ct)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){r(k,O.sibling),K=h(O,z.children||[]),K.return=k,k=K;break t}else{r(k,O);break}else n(k,O);O=O.sibling}K=Kh(z,k.mode,K),K.return=k,k=K}return g(k);case S:return z=Os(z),Zt(k,O,z,K)}if(he(z))return at(k,O,z,K);if(L(z)){if(ct=L(z),typeof ct!="function")throw Error(a(150));return z=ct.call(z),mt(k,O,z,K)}if(typeof z.then=="function")return Zt(k,O,ku(z),K);if(z.$$typeof===ht)return Zt(k,O,Du(k,z),K);Uu(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(r(k,O.sibling),K=h(O,z),K.return=k,k=K):(r(k,O),K=Qh(z,k.mode,K),K.return=k,k=K),g(k)):r(k,O)}return function(k,O,z,K){try{qo=0;var ct=Zt(k,O,z,K);return Aa=null,ct}catch(lt){if(lt===Sa||lt===Mu)throw lt;var zt=gn(29,lt,null,k.mode);return zt.lanes=K,zt.return=k,zt}}}var Vs=Qg(!0),Kg=Qg(!1),Sr=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ar(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Cu(e),Ng(e,null,r),n}return Ru(e,o,n,r),Cu(e)}function Go(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,yo(e,r)}}function lf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var uf=!1;function Fo(){if(uf){var e=ba;if(e!==null)throw e}}function Qo(e,n,r,o){uf=!1;var h=e.updateQueue;Sr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,j=R.next;R.next=null,g===null?f=j:g.next=j,g=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,G=j=R=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Nt&B)===B:(o&B)===B){B!==0&&B===Ta&&(uf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,mt=E;B=n;var Zt=r;switch(mt.tag){case 1:if(at=mt.payload,typeof at=="function"){Y=at.call(Zt,Y,B);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=mt.payload,B=typeof at=="function"?at.call(Zt,Y,B):at,B==null)break t;Y=A({},Y,B);break t;case 2:Sr=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=H,R=Y):G=G.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=j,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Nr|=g,e.lanes=g,e.memoizedState=Y}}function Yg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Xg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Yg(r[e],n)}var wa=N(null),Lu=N(0);function Jg(e,n){e=Xi,nt(Lu,e),nt(wa,n),Xi=e|n.baseLanes}function cf(){nt(Lu,Xi),nt(wa,wa.current)}function hf(){Xi=Lu.current,F(wa),F(Lu)}var pn=N(null),Vn=null;function Rr(e){var n=e.alternate;nt(me,me.current&1),nt(pn,e),Vn===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(Vn=e)}function ff(e){nt(me,me.current),nt(pn,e),Vn===null&&(Vn=e)}function $g(e){e.tag===22?(nt(me,me.current),nt(pn,e),Vn===null&&(Vn=e)):Cr()}function Cr(){nt(me,me.current),nt(pn,pn.current)}function yn(e){F(pn),Vn===e&&(Vn=null),F(me)}var me=N(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||_d(r)||vd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bi=0,At=null,Jt=null,Ae=null,zu=!1,Ra=!1,ks=!1,ju=0,Ko=0,Ca=null,h1=0;function ue(){throw Error(a(321))}function df(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!mn(e[r],n[r]))return!1;return!0}function mf(e,n,r,o,h,f){return Bi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=e===null||e.memoizedState===null?Vp:xf,ks=!1,f=r(o,h),ks=!1,Ra&&(f=Wg(n,r,o,h)),Zg(e),f}function Zg(e){U.H=Jo;var n=Jt!==null&&Jt.next!==null;if(Bi=0,Ae=Jt=At=null,zu=!1,Ko=0,Ca=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&Nu(e)&&(we=!0))}function Wg(e,n,r,o){At=e;var h=0;do{if(Ra&&(Ca=null),Ko=0,Ra=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=kp,f=n(r,o)}while(Ra);return f}function f1(){var e=U.H,n=e.useState()[0];return n=typeof n.then=="function"?Yo(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(At.flags|=1024),n}function gf(){var e=ju!==0;return ju=0,e}function pf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function yf(e){if(zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zu=!1}Bi=0,Ae=Jt=At=null,Ra=!1,Ko=ju=0,Ca=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ge(){if(Jt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Ae===null?At.memoizedState:Ae.next;if(n!==null)Ae=n,Jt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(e){var n=Ko;return Ko+=1,Ca===null&&(Ca=[]),e=Hg(Ca,e,n),n=At,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?Vp:xf),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yo(e);if(e.$$typeof===ht)return qe(e)}throw Error(a(438,String(e)))}function _f(e){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Bu(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=D;return n.index++,r}function qi(e,n){return typeof n=="function"?n(e):n}function Hu(e){var n=ge();return vf(n,Jt,e)}function vf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,j=n,G=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(Nt&Y)===Y:(Bi&Y)===Y){var B=j.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===Ta&&(G=!0);else if((Bi&B)===B){j=j.next,B===Ta&&(G=!0);continue}else Y={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=Y,g=f):R=R.next=Y,At.lanes|=B,Nr|=B;Y=j.action,ks&&r(f,Y),f=j.hasEagerState?j.eagerState:r(f,Y)}else B={lane:Y,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=B,g=f):R=R.next=B,At.lanes|=Y,Nr|=Y;j=j.next}while(j!==null&&j!==n);if(R===null?g=f:R.next=E,!mn(f,e.memoizedState)&&(we=!0,G&&(r=ba,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ef(e){var n=ge(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function tp(e,n,r){var o=At,h=ge(),f=kt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!mn((Jt||h).memoizedState,r);if(g&&(h.memoizedState=r,we=!0),h=h.queue,Sf(ip.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},np.bind(null,o,h,r,n),null),Wt===null)throw Error(a(349));f||(Bi&127)!==0||ep(o,n,r)}return r}function ep(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=Bu(),At.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function np(e,n,r,o){n.value=r,n.getSnapshot=o,rp(n)&&sp(e)}function ip(e,n,r){return r(function(){rp(n)&&sp(e)})}function rp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!mn(e,r)}catch{return!0}}function sp(e){var n=Rs(e,2);n!==null&&un(n,e,2)}function Tf(e){var n=en();if(typeof e=="function"){var r=e;if(e=r(),ks){An(!0);try{r()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},n}function ap(e,n,r,o){return e.baseState=r,vf(e,Jt,typeof o=="function"?o:qi)}function d1(e,n,r,o,h){if(Qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};U.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,op(n,f)):(f.next=r.next,n.pending=r.next=f)}}function op(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=U.T,g={};U.T=g;try{var E=r(h,o),R=U.S;R!==null&&R(g,E),lp(e,n,E)}catch(j){bf(e,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),U.T=f}}else try{f=r(h,o),lp(e,n,f)}catch(j){bf(e,n,j)}}function lp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){up(e,n,o)},function(o){return bf(e,n,o)}):up(e,n,r)}function up(e,n,r){n.status="fulfilled",n.value=r,cp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,op(e,r)))}function bf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,cp(n),n=n.next;while(n!==o)}e.action=null}function cp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function hp(e,n){return n}function fp(e,n){if(kt){var r=Wt.formState;if(r!==null){t:{var o=At;if(kt){if(te){e:{for(var h=te,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=kn(h.nextSibling),o=h.data==="F!";break t}}Tr(o)}o=!1}o&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hp,lastRenderedState:n},r.queue=o,r=Dp.bind(null,At,o),o.dispatch=r,o=Tf(!1),f=If.bind(null,At,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=d1.bind(null,At,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function dp(e){var n=ge();return mp(n,Jt,e)}function mp(e,n,r){if(n=vf(e,n,hp)[0],e=Hu(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Yo(n)}catch(g){throw g===Sa?Mu:g}else o=n;n=ge();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(At.flags|=2048,Ia(9,{destroy:void 0},m1.bind(null,h,r),null)),[o,f,e]}function m1(e,n){e.action=n}function gp(e){var n=ge(),r=Jt;if(r!==null)return mp(n,r,e);ge(),n=n.memoizedState,r=ge();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ia(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Bu(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function pp(){return ge().memoizedState}function Gu(e,n,r,o){var h=en();At.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},r,o===void 0?null:o)}function Fu(e,n,r,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&df(o,Jt.memoizedState.deps)?h.memoizedState=Ia(n,f,r,o):(At.flags|=e,h.memoizedState=Ia(1|n,f,r,o))}function yp(e,n){Gu(8390656,8,e,n)}function Sf(e,n){Fu(2048,8,e,n)}function g1(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Bu(),At.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function _p(e){var n=ge().memoizedState;return g1({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function vp(e,n){return Fu(4,2,e,n)}function Ep(e,n){return Fu(4,4,e,n)}function Tp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function bp(e,n,r){r=r!=null?r.concat([e]):null,Fu(4,4,Tp.bind(null,n,e),r)}function Af(){}function Sp(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&df(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Ap(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&df(n,o[1]))return o[0];if(o=e(),ks){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,n],o}function wf(e,n,r){return r===void 0||(Bi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=wy(),At.lanes|=e,Nr|=e,r)}function wp(e,n,r,o){return mn(r,n)?r:wa.current!==null?(e=wf(e,r,o),mn(e,n)||(we=!0),e):(Bi&42)===0||(Bi&1073741824)!==0&&(Nt&261930)===0?(we=!0,e.memoizedState=r):(e=wy(),At.lanes|=e,Nr|=e,n)}function Rp(e,n,r,o,h){var f=X.p;X.p=f!==0&&8>f?f:8;var g=U.T,E={};U.T=E,If(e,!1,n,r);try{var R=h(),j=U.S;if(j!==null&&j(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=c1(R,o);Xo(e,n,G,En(e))}else Xo(e,n,o,En(e))}catch(Y){Xo(e,n,{then:function(){},status:"rejected",reason:Y},En())}finally{X.p=f,g!==null&&E.types!==null&&(g.types=E.types),U.T=g}}function p1(){}function Rf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Cp(e).queue;Rp(e,h,n,it,r===null?p1:function(){return Ip(e),r(o)})}function Cp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:it},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ip(e){var n=Cp(e);n.next===null&&(n=e.alternate.memoizedState),Xo(e,n.next.queue,{},En())}function Cf(){return qe(fl)}function xp(){return ge().memoizedState}function Np(){return ge().memoizedState}function y1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=En();e=Ar(r);var o=wr(n,e,r);o!==null&&(un(o,n,r),Go(o,n,r)),n={cache:ef()},e.payload=n;return}n=n.return}}function _1(e,n,r){var o=En();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Qu(e)?Op(n,r):(r=Gh(e,n,r,o),r!==null&&(un(r,e,o),Mp(r,n,o)))}function Dp(e,n,r){var o=En();Xo(e,n,r,o)}function Xo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))Op(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return Ru(e,n,h,0),Wt===null&&wu(),!1}catch{}if(r=Gh(e,n,h,o),r!==null)return un(r,e,o),Mp(r,n,o),!0}return!1}function If(e,n,r,o){if(o={lane:2,revertLane:ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(a(479))}else n=Gh(e,r,o,2),n!==null&&un(n,e,2)}function Qu(e){var n=e.alternate;return e===At||n!==null&&n===At}function Op(e,n){Ra=zu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Mp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,yo(e,r)}}var Jo={readContext:qe,use:qu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Jo.useEffectEvent=ue;var Vp={readContext:qe,use:qu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:yp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Gu(4194308,4,Tp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var r=en();n=n===void 0?null:n;var o=e();if(ks){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=en();if(r!==void 0){var h=r(n);if(ks){An(!0);try{r(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=_1.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=Tf(e);var n=e.queue,r=Dp.bind(null,At,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Af,useDeferredValue:function(e,n){var r=en();return wf(r,e,n)},useTransition:function(){var e=Tf(!1);return e=Rp.bind(null,At,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=At,h=en();if(kt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Wt===null)throw Error(a(349));(Nt&127)!==0||ep(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,yp(ip.bind(null,o,f,e),[e]),o.flags|=2048,Ia(9,{destroy:void 0},np.bind(null,o,f,r,n),null),r},useId:function(){var e=en(),n=Wt.identifierPrefix;if(kt){var r=Ti,o=Ei;r=(o&~(1<<32-fe(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=ju++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=h1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:fp,useActionState:fp,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=If.bind(null,At,!0,r),r.dispatch=n,[e,n]},useMemoCache:_f,useCacheRefresh:function(){return en().memoizedState=y1.bind(null,At)},useEffectEvent:function(e){var n=en(),r={impl:e};return n.memoizedState=r,function(){if((qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},xf={readContext:qe,use:qu,useCallback:Sp,useContext:qe,useEffect:Sf,useImperativeHandle:bp,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:Ap,useReducer:Hu,useRef:pp,useState:function(){return Hu(qi)},useDebugValue:Af,useDeferredValue:function(e,n){var r=ge();return wp(r,Jt.memoizedState,e,n)},useTransition:function(){var e=Hu(qi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:tp,useId:xp,useHostTransitionStatus:Cf,useFormState:dp,useActionState:dp,useOptimistic:function(e,n){var r=ge();return ap(r,Jt,e,n)},useMemoCache:_f,useCacheRefresh:Np};xf.useEffectEvent=_p;var kp={readContext:qe,use:qu,useCallback:Sp,useContext:qe,useEffect:Sf,useImperativeHandle:bp,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:Ap,useReducer:Ef,useRef:pp,useState:function(){return Ef(qi)},useDebugValue:Af,useDeferredValue:function(e,n){var r=ge();return Jt===null?wf(r,e,n):wp(r,Jt.memoizedState,e,n)},useTransition:function(){var e=Ef(qi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:tp,useId:xp,useHostTransitionStatus:Cf,useFormState:gp,useActionState:gp,useOptimistic:function(e,n){var r=ge();return Jt!==null?ap(r,Jt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Np};kp.useEffectEvent=_p;function Nf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Df={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=En(),h=Ar(o);h.payload=n,r!=null&&(h.callback=r),n=wr(e,h,o),n!==null&&(un(n,e,o),Go(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=En(),h=Ar(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=wr(e,h,o),n!==null&&(un(n,e,o),Go(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=En(),o=Ar(r);o.tag=2,n!=null&&(o.callback=n),n=wr(e,o,r),n!==null&&(un(n,e,r),Go(n,e,r))}};function Up(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Uo(r,o)||!Uo(h,f):!0}function Lp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Df.enqueueReplaceState(n,n.state,null)}function Us(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Pp(e){Au(e)}function zp(e){console.error(e)}function jp(e){Au(e)}function Ku(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Bp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,n,r){return r=Ar(r),r.tag=3,r.payload={element:null},r.callback=function(){Ku(e,n)},r}function qp(e){return e=Ar(e),e.tag=3,e}function Hp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Bp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Bp(n,r,o),typeof h!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function v1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ea(n,r,h,!0),r=pn.current,r!==null){switch(r.tag){case 31:case 13:return Vn===null?sc():r.alternate===null&&ce===0&&(ce=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Vu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),id(e,o,h)),!1;case 22:return r.flags|=65536,o===Vu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),id(e,o,h)),!1}throw Error(a(435,r.tag))}return id(e,o,h),sc(),!1}if(kt)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Jh&&(e=Error(a(422),{cause:o}),zo(Nn(e,r)))):(o!==Jh&&(n=Error(a(423),{cause:o}),zo(Nn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Nn(o,r),h=Of(e.stateNode,o,h),lf(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=Nn(f,r),rl===null?rl=[f]:rl.push(f),ce!==4&&(ce=2),n===null)return!0;o=Nn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Of(r.stateNode,o,e),lf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Dr===null||!Dr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=qp(h),Hp(h,e,r,o),lf(r,h),!1}r=r.return}while(r!==null);return!1}var Mf=Error(a(461)),we=!1;function He(e,n,r,o){n.child=e===null?Kg(n,null,r,o):Vs(n,e.child,r,o)}function Gp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ns(n),o=mf(e,n,r,g,f,h),E=gf(),e!==null&&!we?(pf(e,n,h),Hi(e,n,h)):(kt&&E&&Yh(n),n.flags|=1,He(e,n,o,h),n.child)}function Fp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Qp(e,n,f,o,h)):(e=Iu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Bf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Uo,r(g,o)&&e.ref===n.ref)return Hi(e,n,h)}return n.flags|=1,e=Li(f,o),e.ref=n.ref,e.return=n,n.child=e}function Qp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Uo(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,Bf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,Hi(e,n,h)}return Vf(e,n,r,o,h)}function Kp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Yp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Jg(n,f):cf(),$g(n);else return o=n.lanes=536870912,Yp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Ou(n,f.cachePool),Jg(n,f),Cr(),n.memoizedState=null):(e!==null&&Ou(n,null),cf(),Cr());return He(e,n,h,r),n.child}function $o(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Yp(e,n,r,o,h){var f=rf();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Ou(n,null),cf(),$g(n),e!==null&&Ea(e,n,o,!0),n.childLanes=h,null}function Yu(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Xp(e,n,r){return Vs(n,e.child,null,r),e=Yu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function E1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=Yu(n,o),n.lanes=536870912,$o(null,e);if(ff(n),(e=te)?(e=o_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},r=Og(e),r.return=n,n.child=r,Be=n,te=null)):e=null,e===null)throw Tr(n);return n.lanes=536870912,null}return Yu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=Xp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||Ea(e,n,r,!1),h=(r&e.childLanes)!==0,we||h){if(o=Wt,o!==null&&(g=_o(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Rs(e,g),un(o,e,g),Mf;sc(),n=Xp(e,n,r)}else e=f.treeContext,te=kn(g.nextSibling),Be=n,kt=!0,Er=null,Mn=!1,e!==null&&kg(n,e),n=Yu(n,o),n.flags|=4096;return n}return e=Li(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Vf(e,n,r,o,h){return Ns(n),r=mf(e,n,r,o,void 0,h),o=gf(),e!==null&&!we?(pf(e,n,h),Hi(e,n,h)):(kt&&o&&Yh(n),n.flags|=1,He(e,n,r,h),n.child)}function Jp(e,n,r,o,h,f){return Ns(n),n.updateQueue=null,r=Wg(n,o,r,h),Zg(e),o=gf(),e!==null&&!we?(pf(e,n,f),Hi(e,n,f)):(kt&&o&&Yh(n),n.flags|=1,He(e,n,r,f),n.child)}function $p(e,n,r,o,h){if(Ns(n),n.stateNode===null){var f=pa,g=r.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},af(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?qe(g):pa,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Nf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Df.enqueueReplaceState(f,f.state,null),Qo(n,o,f,h),Fo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Us(r,E);f.props=R;var j=f.context,G=r.contextType;g=pa,typeof G=="object"&&G!==null&&(g=qe(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&Lp(n,f,o,g),Sr=!1;var B=n.memoizedState;f.state=B,Qo(n,o,f,h),Fo(),j=n.memoizedState,E||B!==j||Sr?(typeof Y=="function"&&(Nf(n,r,Y,o),j=n.memoizedState),(R=Sr||Up(n,r,R,o,B,j,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,of(e,n),g=n.memoizedProps,G=Us(r,g),f.props=G,Y=n.pendingProps,B=f.context,j=r.contextType,R=pa,typeof j=="object"&&j!==null&&(R=qe(j)),E=r.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||B!==R)&&Lp(n,f,o,R),Sr=!1,B=n.memoizedState,f.state=B,Qo(n,o,f,h),Fo();var H=n.memoizedState;g!==Y||B!==H||Sr||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(Nf(n,r,E,o),H=n.memoizedState),(G=Sr||Up(n,r,G,o,B,H,R)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Vs(n,e.child,null,h),n.child=Vs(n,null,r,h)):He(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Hi(e,n,h),e}function Zp(e,n,r,o){return Is(),n.flags|=256,He(e,n,r,o),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(e){return{baseLanes:e,cachePool:Bg()}}function Lf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=vn),e}function Wp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?Rr(n):Cr(),(e=te)?(e=o_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},r=Og(e),r.return=n,n.child=r,Be=n,te=null)):e=null,e===null)throw Tr(n);return vd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Cr(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=Cs(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Uf(r),o.childLanes=Lf(e,g,r),n.memoizedState=kf,$o(null,o)):(Rr(n),Pf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Rr(n),n.flags&=-257,n=zf(e,n,r)):n.memoizedState!==null?(Cr(),n.child=e.child,n.flags|=128,n=null):(Cr(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=Cs(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Vs(n,e.child,null,r),o=n.child,o.memoizedState=Uf(r),o.childLanes=Lf(e,g,r),n.memoizedState=kf,n=$o(null,o));else if(Rr(n),vd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,zo({value:o,source:null,stack:null}),n=zf(e,n,r)}else if(we||Ea(e,n,r,!1),g=(r&e.childLanes)!==0,we||g){if(g=Wt,g!==null&&(o=_o(g,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,Rs(e,o),un(g,e,o),Mf;_d(E)||sc(),n=zf(e,n,r)}else _d(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,te=kn(E.nextSibling),Be=n,kt=!0,Er=null,Mn=!1,e!==null&&kg(n,e),n=Pf(n,o.children),n.flags|=4096);return n}return h?(Cr(),E=o.fallback,h=n.mode,R=e.child,j=R.sibling,o=Li(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,j!==null?E=Li(j,E):(E=Cs(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,$o(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Uf(r):(h=E.cachePool,h!==null?(R=Se._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Bg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Lf(e,g,r),n.memoizedState=kf,$o(e.child,o)):(Rr(n),r=e.child,e=r.sibling,r=Li(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Pf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function zf(e,n,r){return Vs(n,e.child,null,r),e=Pf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ty(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Wh(e.return,n,r)}function jf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function ey(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=me.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(me,g),He(e,n,o,r),o=kt?Po:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ty(e,r,n);else if(e.tag===19)ty(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Pu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),jf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}jf(n,!0,r,null,f,o);break;case"together":jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Hi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Nr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ea(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Li(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Li(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function T1(e,n,r){switch(n.tag){case 3:xe(n,n.stateNode.containerInfo),br(n,Se,e.memoizedState.cache),Is();break;case 27:case 5:ls(n);break;case 4:xe(n,n.stateNode.containerInfo);break;case 10:br(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Rr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Wp(e,n,r):(Rr(n),e=Hi(e,n,r),e!==null?e.sibling:null);Rr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ea(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return ey(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(me,me.current),o)break;return null;case 22:return n.lanes=0,Kp(e,n,r,n.pendingProps);case 24:br(n,Se,e.memoizedState.cache)}return Hi(e,n,r)}function ny(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Bf(e,r)&&(n.flags&128)===0)return we=!1,T1(e,n,r);we=(e.flags&131072)!==0}else we=!1,kt&&(n.flags&1048576)!==0&&Vg(n,Po,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Os(n.elementType),n.type=e,typeof e=="function")Fh(e)?(o=Us(e,o),n.tag=1,n=$p(null,n,e,o,r)):(n.tag=0,n=Vf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===bt){n.tag=11,n=Gp(null,n,e,o,r);break t}else if(h===I){n.tag=14,n=Fp(null,n,e,o,r);break t}}throw n=Ht(e)||e,Error(a(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Us(o,n.pendingProps),$p(e,n,o,h,r);case 3:t:{if(xe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,of(e,n),Qo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,br(n,Se,o),o!==f.cache&&tf(n,[Se],r,!0),Fo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Zp(e,n,o,r);break t}else if(o!==h){h=Nn(Error(a(424)),n),zo(h),n=Zp(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=kn(e.firstChild),Be=n,kt=!0,Er=null,Mn=!0,r=Kg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Is(),o===h){n=Hi(e,n,r);break t}He(e,n,o,r)}n=n.child}return n;case 26:return Xu(e,n),e===null?(r=d_(n.type,null,n.pendingProps,null))?n.memoizedState=r:kt||(r=n.type,e=n.pendingProps,o=fc(wt.current).createElement(r),o[Ee]=n,o[Ve]=e,Ge(o,r,e),Te(o),n.stateNode=o):n.memoizedState=d_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ls(n),e===null&&kt&&(o=n.stateNode=c_(n.type,n.pendingProps,wt.current),Be=n,Mn=!0,h=te,kr(n.type)?(Ed=h,te=kn(o.firstChild)):te=h),He(e,n,n.pendingProps.children,r),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=o=te)&&(o=$1(o,n.type,n.pendingProps,Mn),o!==null?(n.stateNode=o,Be=n,te=kn(o.firstChild),Mn=!1,h=!0):h=!1),h||Tr(n)),ls(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,gd(h,f)?o=null:g!==null&&gd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(e,n,f1,null,null,r),fl._currentValue=h),Xu(e,n),He(e,n,o,r),n.child;case 6:return e===null&&kt&&((e=r=te)&&(r=Z1(r,n.pendingProps,Mn),r!==null?(n.stateNode=r,Be=n,te=null,e=!0):e=!1),e||Tr(n)),null;case 13:return Wp(e,n,r);case 4:return xe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Vs(n,null,o,r):He(e,n,o,r),n.child;case 11:return Gp(e,n,n.type,n.pendingProps,r);case 7:return He(e,n,n.pendingProps,r),n.child;case 8:return He(e,n,n.pendingProps.children,r),n.child;case 12:return He(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,br(n,n.type,o.value),He(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ns(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,r),n.child;case 14:return Fp(e,n,n.type,n.pendingProps,r);case 15:return Qp(e,n,n.type,n.pendingProps,r);case 19:return ey(e,n,r);case 31:return E1(e,n,r);case 22:return Kp(e,n,r,n.pendingProps);case 24:return Ns(n),o=qe(Se),e===null?(h=rf(),h===null&&(h=Wt,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},af(n),br(n,Se,h)):((e.lanes&r)!==0&&(of(e,n),Qo(n,null,null,r),Fo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),br(n,Se,o)):(o=f.cache,br(n,Se,o),o!==h.cache&&tf(n,[Se],r,!0))),He(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Gi(e){e.flags|=4}function qf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(xy())e.flags|=8192;else throw Ms=Vu,sf}else e.flags&=-16777217}function iy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!__(n))if(xy())e.flags|=8192;else throw Ms=Vu,sf}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?iu():536870912,e.lanes|=n,Oa|=n)}function Zo(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function b1(e,n,r){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ji(Se),se(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(va(n)?Gi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$h())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Gi(n),f!==null?(ee(n),iy(n,f)):(ee(n),qf(n,h,null,o,r))):f?f!==e.memoizedState?(Gi(n),ee(n),iy(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Gi(n),ee(n),qf(n,h,e,o,r)),null;case 27:if($s(n),r=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=st.current,va(n)?Ug(n):(e=c_(h,o,r),n.stateNode=e,Gi(n))}return ee(n),null;case 5:if($s(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(f=st.current,va(n))Ug(n);else{var g=fc(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ee]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Gi(n)}}return ee(n),qf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,va(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Wy(e.nodeValue,r)),e||Tr(n,!0)}else e=fc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return ee(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=va(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else Is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else r=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=va(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else Is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),$u(n,n.updateQueue),ee(n),null);case 4:return se(),e===null&&cd(n.stateNode.containerInfo),ee(n),null;case 10:return ji(n.type),ee(n),null;case 19:if(F(me),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Zo(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Pu(e),f!==null){for(n.flags|=128,Zo(o,!1),e=f.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Dg(r,e),r=r.sibling;return nt(me,me.current&1|2),kt&&Pi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>nc&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Pu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return ee(n),null}else 2*We()-o.renderingStartTime>nc&&r!==536870912&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,r=me.current,nt(me,h?r&1|2:r&1),kt&&Pi(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return yn(n),hf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&$u(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&F(Ds),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ji(Se),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function S1(e,n){switch(Xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ji(Se),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return $s(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));Is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return F(me),null;case 4:return se(),null;case 10:return ji(n.type),null;case 22:case 23:return yn(n),hf(),e!==null&&F(Ds),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ji(Se),null;case 25:return null;default:return null}}function ry(e,n){switch(Xh(n),n.tag){case 3:ji(Se),se();break;case 26:case 27:case 5:$s(n);break;case 4:se();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:F(me);break;case 10:ji(n.type);break;case 22:case 23:yn(n),hf(),e!==null&&F(Ds);break;case 24:ji(Se)}}function Wo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Kt(n,n.return,E)}}function Ir(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=r,j=E;try{j()}catch(G){Kt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Kt(n,n.return,G)}}function sy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Xg(n,r)}catch(o){Kt(e,e.return,o)}}}function ay(e,n,r){r.props=Us(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Kt(e,n,o)}}function tl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Kt(e,n,h)}}function bi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Kt(e,n,h)}else r.current=null}function oy(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Kt(e,e.return,h)}}function Hf(e,n,r){try{var o=e.stateNode;F1(o,e.type,r,n),o[Ve]=n}catch(h){Kt(e,e.return,h)}}function ly(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&kr(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ly(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ff(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Gn));else if(o!==4&&(o===27&&kr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Ff(e,n,r),e=e.sibling;e!==null;)Ff(e,n,r),e=e.sibling}function Zu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&kr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Zu(e,n,r),e=e.sibling;e!==null;)Zu(e,n,r),e=e.sibling}function uy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,r),n[Ee]=e,n[Ve]=r}catch(f){Kt(e,e.return,f)}}var Fi=!1,Re=!1,Qf=!1,cy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function A1(e,n){if(e=e.containerInfo,dd=vc,e=bg(e),Ph(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,R=-1,j=0,G=0,Y=e,B=null;e:for(;;){for(var H;Y!==r||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(R=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)B=Y,Y=H;for(;;){if(Y===e)break e;if(B===r&&++j===h&&(E=g),B===f&&++G===o&&(R=g),(H=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=H}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(md={focusedElem:e,selectionRange:r},vc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var at=Us(r.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Kt(r,r.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)yd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function hy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Ki(e,r),o&4&&Wo(5,r);break;case 1:if(Ki(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Kt(r,r.return,g)}else{var h=Us(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(r,r.return,g)}}o&64&&sy(r),o&512&&tl(r,r.return);break;case 3:if(Ki(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Xg(e,n)}catch(g){Kt(r,r.return,g)}}break;case 27:n===null&&o&4&&uy(r);case 26:case 5:Ki(e,r),n===null&&o&4&&oy(r),o&512&&tl(r,r.return);break;case 12:Ki(e,r);break;case 31:Ki(e,r),o&4&&my(e,r);break;case 13:Ki(e,r),o&4&&gy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=M1.bind(null,r),W1(e,r))));break;case 22:if(o=r.memoizedState!==null||Fi,!o){n=n!==null&&n.memoizedState!==null||Re,h=Fi;var f=Re;Fi=o,(Re=n)&&!f?Yi(e,r,(r.subtreeFlags&8772)!==0):Ki(e,r),Fi=h,Re=f}break;case 30:break;default:Ki(e,r)}}function fy(e){var n=e.alternate;n!==null&&(e.alternate=null,fy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&na(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,sn=!1;function Qi(e,n,r){for(r=r.child;r!==null;)dy(e,n,r),r=r.sibling}function dy(e,n,r){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(jn,r)}catch{}switch(r.tag){case 26:Re||bi(r,n),Qi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Re||bi(r,n);var o=oe,h=sn;kr(r.type)&&(oe=r.stateNode,sn=!1),Qi(e,n,r),ul(r.stateNode),oe=o,sn=h;break;case 5:Re||bi(r,n);case 6:if(o=oe,h=sn,oe=null,Qi(e,n,r),oe=o,sn=h,oe!==null)if(sn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{oe.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:oe!==null&&(sn?(e=oe,s_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ja(e)):s_(oe,r.stateNode));break;case 4:o=oe,h=sn,oe=r.stateNode.containerInfo,sn=!0,Qi(e,n,r),oe=o,sn=h;break;case 0:case 11:case 14:case 15:Ir(2,r,n),Re||Ir(4,r,n),Qi(e,n,r);break;case 1:Re||(bi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ay(r,n,o)),Qi(e,n,r);break;case 21:Qi(e,n,r);break;case 22:Re=(o=Re)||r.memoizedState!==null,Qi(e,n,r),Re=o;break;default:Qi(e,n,r)}}function my(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ja(e)}catch(r){Kt(n,n.return,r)}}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ja(e)}catch(r){Kt(n,n.return,r)}}function w1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new cy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new cy),n;default:throw Error(a(435,e.tag))}}function Wu(e,n){var r=w1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=V1.bind(null,e,o);o.then(h,h)}})}function an(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(kr(E.type)){oe=E.stateNode,sn=!1;break t}break;case 5:oe=E.stateNode,sn=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(oe===null)throw Error(a(160));dy(f,g,h),oe=null,sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)py(n,e),n=n.sibling}var Jn=null;function py(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(Ir(3,e,e.return),Wo(3,e),Ir(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(Re||r===null||bi(r,r.return)),o&64&&Fi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Jn;if(an(n,e),on(e),o&512&&(Re||r===null||bi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,r),f[Ee]=e,Te(f),o=f;break t;case"link":var g=p_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,r),h.head.appendChild(f);break;case"meta":if(g=p_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else y_(h,e.type,e.stateNode);else e.stateNode=g_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?y_(h,e.type,e.stateNode):g_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Hf(e,e.memoizedProps,r.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(Re||r===null||bi(r,r.return)),r!==null&&o&4&&Hf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(Re||r===null||bi(r,r.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(at){Kt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Hf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Qf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(at){Kt(e,e.return,at)}}break;case 3:if(gc=null,h=Jn,Jn=dc(n.containerInfo),an(n,e),Jn=h,on(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(at){Kt(e,e.return,at)}Qf&&(Qf=!1,yy(e));break;case 4:o=Jn,Jn=dc(e.stateNode.containerInfo),an(n,e),on(e),Jn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ec=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,j=Fi,G=Re;if(Fi=j||h,Re=G||R,an(n,e),Re=G,Fi=j,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||Fi||Re||Ls(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(at){Kt(R,R.return,at)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Kt(R,R.return,at)}}}else if(n.tag===18){if(r===null){R=n;try{var H=R.stateNode;h?a_(H,!0):a_(R.stateNode,!1)}catch(at){Kt(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Wu(e,r))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(ly(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Gf(e);Zu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(rn(g,""),r.flags&=-33);var E=Gf(e);Zu(e,E,g);break;case 3:case 4:var R=r.stateNode.containerInfo,j=Gf(e);Ff(e,j,R);break;default:throw Error(a(161))}}catch(G){Kt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function yy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;yy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hy(e,n.alternate,n),n=n.sibling}function Ls(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ir(4,n,n.return),Ls(n);break;case 1:bi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ay(n,n.return,r),Ls(n);break;case 27:ul(n.stateNode);case 26:case 5:bi(n,n.return),Ls(n);break;case 22:n.memoizedState===null&&Ls(n);break;case 30:Ls(n);break;default:Ls(n)}e=e.sibling}}function Yi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Yi(h,f,r),Wo(4,f);break;case 1:if(Yi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Kt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Yg(R[h],E)}catch(j){Kt(o,o.return,j)}}r&&g&64&&sy(f),tl(f,f.return);break;case 27:uy(f);case 26:case 5:Yi(h,f,r),r&&o===null&&g&4&&oy(f),tl(f,f.return);break;case 12:Yi(h,f,r);break;case 31:Yi(h,f,r),r&&g&4&&my(h,f);break;case 13:Yi(h,f,r),r&&g&4&&gy(h,f);break;case 22:f.memoizedState===null&&Yi(h,f,r),tl(f,f.return);break;case 30:break;default:Yi(h,f,r)}n=n.sibling}}function Kf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&jo(r))}function Yf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jo(e))}function $n(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_y(e,n,r,o),n=n.sibling}function _y(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(e,n,r,o),h&2048&&Wo(9,n);break;case 1:$n(e,n,r,o);break;case 3:$n(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jo(e)));break;case 12:if(h&2048){$n(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else $n(e,n,r,o);break;case 31:$n(e,n,r,o);break;case 13:$n(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?$n(e,n,r,o):el(e,n):f._visibility&2?$n(e,n,r,o):(f._visibility|=2,xa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(g,n);break;case 24:$n(e,n,r,o),h&2048&&Yf(n.alternate,n);break;default:$n(e,n,r,o)}}function xa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,R=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:xa(f,g,E,R,h),Wo(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?xa(f,g,E,R,h):el(f,g):(G._visibility|=2,xa(f,g,E,R,h)),h&&j&2048&&Kf(g.alternate,g);break;case 24:xa(f,g,E,R,h),h&&j&2048&&Yf(g.alternate,g);break;default:xa(f,g,E,R,h)}n=n.sibling}}function el(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:el(r,o),h&2048&&Kf(o.alternate,o);break;case 24:el(r,o),h&2048&&Yf(o.alternate,o);break;default:el(r,o)}n=n.sibling}}var nl=8192;function Na(e,n,r){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)vy(e,n,r),e=e.sibling}function vy(e,n,r){switch(e.tag){case 26:Na(e,n,r),e.flags&nl&&e.memoizedState!==null&&hb(r,Jn,e.memoizedState,e.memoizedProps);break;case 5:Na(e,n,r);break;case 3:case 4:var o=Jn;Jn=dc(e.stateNode.containerInfo),Na(e,n,r),Jn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=nl,nl=16777216,Na(e,n,r),nl=o):Na(e,n,r));break;default:Na(e,n,r)}}function Ey(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function il(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,by(o,e)}Ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ty(e),e=e.sibling}function Ty(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&Ir(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):il(e);break;default:il(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,by(o,e)}Ey(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ir(8,n,n.return),tc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function by(e,n){for(;Ue!==null;){var r=Ue;switch(r.tag){case 0:case 11:case 15:Ir(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:jo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ue=o;else t:for(r=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(fy(o),o===r){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var R1={getCacheForType:function(e){var n=qe(Se),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return qe(Se).controller.signal}},C1=typeof WeakMap=="function"?WeakMap:Map,qt=0,Wt=null,It=null,Nt=0,Qt=0,_n=null,xr=!1,Da=!1,Xf=!1,Xi=0,ce=0,Nr=0,Ps=0,Jf=0,vn=0,Oa=0,rl=null,ln=null,$f=!1,ec=0,Sy=0,nc=1/0,ic=null,Dr=null,De=0,Or=null,Ma=null,Ji=0,Zf=0,Wf=null,Ay=null,sl=0,td=null;function En(){return(qt&2)!==0&&Nt!==0?Nt&-Nt:U.T!==null?ad():ru()}function wy(){if(vn===0)if((Nt&536870912)===0||kt){var e=hs;hs<<=1,(hs&3932160)===0&&(hs=262144),vn=e}else vn=536870912;return e=pn.current,e!==null&&(e.flags|=32),vn}function un(e,n,r){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Va(e,0),Mr(e,Nt,vn,!1)),fs(e,r),((qt&2)===0||e!==Wt)&&(e===Wt&&((qt&2)===0&&(Ps|=r),ce===4&&Mr(e,Nt,vn,!1)),Si(e))}function Ry(e,n,r){if((qt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Bn(e,n),h=o?N1(e,n):nd(e,n,!0),f=o;do{if(h===0){Da&&!o&&Mr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!I1(r)){h=nd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=rl;var R=E.current.memoizedState.isDehydrated;if(R&&(Va(E,g).flags|=256),g=nd(E,g,!1),g!==2){if(Xf&&!R){E.errorRecoveryDisabledLanes|=f,Ps|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Va(e,0),Mr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Mr(o,n,vn,!xr);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ec+300-We(),10<h)){if(Mr(o,n,vn,!xr),si(o,0,!0)!==0)break t;Ji=n,o.timeoutHandle=i_(Cy.bind(null,o,r,ln,ic,$f,n,vn,Ps,Oa,xr,f,"Throttled",-0,0),h);break t}Cy(o,r,ln,ic,$f,n,vn,Ps,Oa,xr,f,null,-0,0)}}break}while(!0);Si(e)}function Cy(e,n,r,o,h,f,g,E,R,j,G,Y,B,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},vy(n,f,Y);var at=(f&62914560)===f?ec-We():(f&4194048)===f?Sy-We():0;if(at=fb(Y,at),at!==null){Ji=f,e.cancelPendingCommit=at(ky.bind(null,e,n,f,r,o,h,g,E,R,G,Y,null,B,H)),Mr(e,f,g,!j);return}}ky(e,n,f,r,o,h,g,E,R)}function I1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Mr(e,n,r,o){n&=~Jf,n&=~Ps,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&ds(e,r,n)}function rc(){return(qt&6)===0?(al(0),!1):!0}function ed(){if(It!==null){if(Qt===0)var e=It.return;else e=It,zi=xs=null,yf(e),Aa=null,qo=0,e=It;for(;e!==null;)ry(e.alternate,e),e=e.return;It=null}}function Va(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Y1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ji=0,ed(),Wt=e,It=r=Li(e.current,null),Nt=n,Qt=0,_n=null,xr=!1,Da=Bn(e,n),Xf=!1,Oa=vn=Jf=Ps=Nr=ce=0,ln=rl=null,$f=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Xi=n,wu(),r}function Iy(e,n){At=null,U.H=Jo,n===Sa||n===Mu?(n=Gg(),Qt=3):n===sf?(n=Gg(),Qt=4):Qt=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,It===null&&(ce=1,Ku(e,Nn(n,e.current)))}function xy(){var e=pn.current;return e===null?!0:(Nt&4194048)===Nt?Vn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Vn:!1}function Ny(){var e=U.H;return U.H=Jo,e===null?Jo:e}function Dy(){var e=U.A;return U.A=R1,e}function sc(){ce=4,xr||(Nt&4194048)!==Nt&&pn.current!==null||(Da=!0),(Nr&134217727)===0&&(Ps&134217727)===0||Wt===null||Mr(Wt,Nt,vn,!1)}function nd(e,n,r){var o=qt;qt|=2;var h=Ny(),f=Dy();(Wt!==e||Nt!==n)&&(ic=null,Va(e,n)),n=!1;var g=ce;t:do try{if(Qt!==0&&It!==null){var E=It,R=_n;switch(Qt){case 8:ed(),g=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var j=Qt;if(Qt=0,_n=null,ka(e,E,R,j),r&&Da){g=0;break t}break;default:j=Qt,Qt=0,_n=null,ka(e,E,R,j)}}x1(),g=ce;break}catch(G){Iy(e,G)}while(!0);return n&&e.shellSuspendCounter++,zi=xs=null,qt=o,U.H=h,U.A=f,It===null&&(Wt=null,Nt=0,wu()),g}function x1(){for(;It!==null;)Oy(It)}function N1(e,n){var r=qt;qt|=2;var o=Ny(),h=Dy();Wt!==e||Nt!==n?(ic=null,nc=We()+500,Va(e,n)):Da=Bn(e,n);t:do try{if(Qt!==0&&It!==null){n=It;var f=_n;e:switch(Qt){case 1:Qt=0,_n=null,ka(e,n,f,1);break;case 2:case 9:if(qg(f)){Qt=0,_n=null,My(n);break}n=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),Si(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:qg(f)?(Qt=0,_n=null,My(n)):(Qt=0,_n=null,ka(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?__(g):E.stateNode.complete){Qt=0,_n=null;var R=E.sibling;if(R!==null)It=R;else{var j=E.return;j!==null?(It=j,ac(j)):It=null}break e}}Qt=0,_n=null,ka(e,n,f,5);break;case 6:Qt=0,_n=null,ka(e,n,f,6);break;case 8:ed(),ce=6;break t;default:throw Error(a(462))}}D1();break}catch(G){Iy(e,G)}while(!0);return zi=xs=null,U.H=o,U.A=h,qt=r,It!==null?0:(Wt=null,Nt=0,wu(),ce)}function D1(){for(;It!==null&&!Dh();)Oy(It)}function Oy(e){var n=ny(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,n===null?ac(e):It=n}function My(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Jp(r,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Jp(r,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:yf(n);default:ry(r,n),n=It=Dg(n,Xi),n=ny(r,n,Xi)}e.memoizedProps=e.pendingProps,n===null?ac(e):It=n}function ka(e,n,r,o){zi=xs=null,yf(n),Aa=null,qo=0;var h=n.return;try{if(v1(e,h,n,r,Nt)){ce=1,Ku(e,Nn(r,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ce=1,Ku(e,Nn(r,e.current)),It=null;return}n.flags&32768?(kt||o===1?e=!0:Da||(Nt&536870912)!==0?e=!1:(xr=e=!0,(o===2||o===9||o===3||o===6)&&(o=pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Vy(n,e)):ac(n)}function ac(e){var n=e;do{if((n.flags&32768)!==0){Vy(n,xr);return}e=n.return;var r=b1(n.alternate,n,Xi);if(r!==null){It=r;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ce===0&&(ce=5)}function Vy(e,n){do{var r=S1(e.alternate,e);if(r!==null){r.flags&=32767,It=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=r}while(e!==null);ce=6,It=null}function ky(e,n,r,o,h,f,g,E,R){e.cancelPendingCommit=null;do oc();while(De!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Hh,Vh(e,r,f,g,E,R),e===Wt&&(It=Wt=null,Nt=0),Ma=n,Or=e,Ji=r,Zf=f,Wf=h,Ay=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,k1(ur,function(){return jy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,h=X.p,X.p=2,g=qt,qt|=4;try{A1(e,n,r)}finally{qt=g,X.p=h,U.T=o}}De=1,Uy(),Ly(),Py()}}function Uy(){if(De===1){De=0;var e=Or,n=Ma,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=U.T,U.T=null;var o=X.p;X.p=2;var h=qt;qt|=4;try{py(n,e);var f=md,g=bg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Tg(E.ownerDocument.documentElement,E)){if(R!==null&&Ph(E)){var j=R.start,G=R.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var H=B.getSelection(),at=E.textContent.length,mt=Math.min(R.start,at),Zt=R.end===void 0?mt:Math.min(R.end,at);!H.extend&&mt>Zt&&(g=Zt,Zt=mt,mt=g);var k=Eg(E,mt),O=Eg(E,Zt);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var z=Y.createRange();z.setStart(k.node,k.offset),H.removeAllRanges(),mt>Zt?(H.addRange(z),H.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),H.addRange(z))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}vc=!!dd,md=dd=null}finally{qt=h,X.p=o,U.T=r}}e.current=n,De=2}}function Ly(){if(De===2){De=0;var e=Or,n=Ma,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=U.T,U.T=null;var o=X.p;X.p=2;var h=qt;qt|=4;try{hy(e,n.alternate,n)}finally{qt=h,X.p=o,U.T=r}}De=3}}function Py(){if(De===4||De===3){De=0,$l();var e=Or,n=Ma,r=Ji,o=Ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Ma=Or=null,zy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Dr=null),Mi(r),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=U.T,h=X.p,X.p=2,U.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{U.T=n,X.p=h}}(Ji&3)!==0&&oc(),Si(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===td?sl++:(sl=0,td=e):sl=0,al(0)}}function zy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,jo(n)))}function oc(){return Uy(),Ly(),Py(),jy()}function jy(){if(De!==5)return!1;var e=Or,n=Zf;Zf=0;var r=Mi(Ji),o=U.T,h=X.p;try{X.p=32>r?32:r,U.T=null,r=Wf,Wf=null;var f=Or,g=Ji;if(De=0,Ma=Or=null,Ji=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,Ty(f.current),_y(f,f.current,g,r),qt=E,al(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{X.p=h,U.T=o,zy(e,n)}}function By(e,n,r){n=Nn(r,n),n=Of(e.stateNode,n,2),e=wr(e,n,2),e!==null&&(fs(e,2),Si(e))}function Kt(e,n,r){if(e.tag===3)By(e,e,r);else for(;n!==null;){if(n.tag===3){By(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Dr===null||!Dr.has(o))){e=Nn(r,e),r=qp(2),o=wr(n,r,2),o!==null&&(Hp(r,o,n,e),fs(o,2),Si(o));break}}n=n.return}}function id(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new C1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Xf=!0,h.add(r),e=O1.bind(null,e,n,r),n.then(e,e))}function O1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Wt===e&&(Nt&r)===r&&(ce===4||ce===3&&(Nt&62914560)===Nt&&300>We()-ec?(qt&2)===0&&Va(e,0):Jf|=r,Oa===Nt&&(Oa=0)),Si(e)}function qy(e,n){n===0&&(n=iu()),e=Rs(e,n),e!==null&&(fs(e,n),Si(e))}function M1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),qy(e,r)}function V1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),qy(e,r)}function k1(e,n){return Ne(e,n)}var lc=null,Ua=null,rd=!1,uc=!1,sd=!1,Vr=0;function Si(e){e!==Ua&&e.next===null&&(Ua===null?lc=Ua=e:Ua=Ua.next=e),uc=!0,rd||(rd=!0,L1())}function al(e,n){if(!sd&&uc){sd=!0;do for(var r=!1,o=lc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Qy(o,f))}else f=Nt,f=si(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Bn(o,f)||(r=!0,Qy(o,f));o=o.next}while(r);sd=!1}}function U1(){Hy()}function Hy(){uc=rd=!1;var e=0;Vr!==0&&K1()&&(e=Vr);for(var n=We(),r=null,o=lc;o!==null;){var h=o.next,f=Gy(o,n);f===0?(o.next=null,r===null?lc=h:r.next=h,h===null&&(Ua=r)):(r=o,(e!==0||(f&3)!==0)&&(uc=!0)),o=h}De!==0&&De!==5||al(e),Vr!==0&&(Vr=0)}function Gy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-fe(f),E=1<<g,R=h[g];R===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Mh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,r=Nt,r=si(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&lr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Bn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&lr(o),Mi(r)){case 2:case 8:r=po;break;case 32:r=ur;break;case 268435456:r=Zl;break;default:r=ur}return o=Fy.bind(null,e),r=Ne(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&lr(o),e.callbackPriority=2,e.callbackNode=null,2}function Fy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(oc()&&e.callbackNode!==r)return null;var o=Nt;return o=si(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ry(e,o,n),Gy(e,We()),e.callbackNode!=null&&e.callbackNode===r?Fy.bind(null,e):null)}function Qy(e,n){if(oc())return null;Ry(e,n,!0)}function L1(){X1(function(){(qt&6)!==0?Ne(go,U1):Hy()})}function ad(){if(Vr===0){var e=Ta;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Vr=e}return Vr}function Ky(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function Yy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function P1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Ky((h[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?Ky(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new pi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Vr!==0){var R=g?Yy(h,g):new FormData(h);Rf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Yy(h,g):new FormData(h),Rf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var od=0;od<qh.length;od++){var ld=qh[od],z1=ld.toLowerCase(),j1=ld[0].toUpperCase()+ld.slice(1);Xn(z1,"on"+j1)}Xn(wg,"onAnimationEnd"),Xn(Rg,"onAnimationIteration"),Xn(Cg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(n1,"onTransitionRun"),Xn(i1,"onTransitionStart"),Xn(r1,"onTransitionCancel"),Xn(Ig,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function Xy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,j=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(G){Au(G)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,j=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(G){Au(G)}h.currentTarget=null,f=R}}}}function xt(e,n){var r=n[ea];r===void 0&&(r=n[ea]=new Set);var o=e+"__bubble";r.has(o)||(Jy(n,e,2,!1),r.add(o))}function ud(e,n,r){var o=0;n&&(o|=4),Jy(r,e,o,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[cc]){e[cc]=!0,vo.forEach(function(r){r!=="selectionchange"&&(B1.has(r)||ud(r,!1,e),ud(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,ud("selectionchange",!1,n))}}function Jy(e,n,r,o){switch(w_(n)){case 2:var h=gb;break;case 8:h=pb;break;default:h=wd}r=h.bind(null,n,r,e),h=void 0,!_s||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function hd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ui(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}gr(function(){var j=f,G=Rn(r),Y=[];t:{var B=xg.get(e);if(B!==void 0){var H=pi,at=e;switch(e){case"keypress":if(Es(r)===0)break t;case"keydown":case"keyup":H=Tu;break;case"focusin":at="focus",H=bs;break;case"focusout":at="blur",H=bs;break;case"beforeblur":case"afterblur":H=bs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case wg:case Rg:case Cg:H=mu;break;case Ig:H=T;break;case"scroll":case"scrollend":H=Do;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ui;break;case"toggle":case"beforetoggle":H=St}var mt=(n&4)!==0,Zt=!mt&&(e==="scroll"||e==="scrollend"),k=mt?B!==null?B+"Capture":null:B;mt=[];for(var O=j,z;O!==null;){var K=O;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||k===null||(K=Fn(O,k),K!=null&&mt.push(ll(O,K,z))),Zt)break;O=O.return}0<mt.length&&(B=new H(B,at,null,r,G),Y.push({event:B,listeners:mt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&r!==Io&&(at=r.relatedTarget||r.fromElement)&&(ui(at)||at[oi]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(at=r.relatedTarget||r.toElement,H=j,at=at?ui(at):null,at!==null&&(Zt=c(at),mt=at.tag,at!==Zt||mt!==5&&mt!==27&&mt!==6)&&(at=null)):(H=null,at=j),H!==at)){if(mt=Oo,K="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Ui,K="onPointerLeave",k="onPointerEnter",O="pointer"),Zt=H==null?B:fn(H),z=at==null?B:fn(at),B=new mt(K,O+"leave",H,r,G),B.target=Zt,B.relatedTarget=z,K=null,ui(G)===j&&(mt=new mt(k,O+"enter",at,r,G),mt.target=z,mt.relatedTarget=Zt,K=mt),Zt=K,H&&at)e:{for(mt=q1,k=H,O=at,z=0,K=k;K;K=mt(K))z++;K=0;for(var ct=O;ct;ct=mt(ct))K++;for(;0<z-K;)k=mt(k),z--;for(;0<K-z;)O=mt(O),K--;for(;z--;){if(k===O||O!==null&&k===O.alternate){mt=k;break e}k=mt(k),O=mt(O)}mt=null}else mt=null;H!==null&&$y(Y,B,H,mt,!1),at!==null&&Zt!==null&&$y(Y,Zt,at,mt,!0)}}t:{if(B=j?fn(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var zt=mg;else if(fg(B))if(gg)zt=WT;else{zt=$T;var lt=JT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&sa(j.elementType)&&(zt=mg):zt=ZT;if(zt&&(zt=zt(e,j))){dg(Y,zt,r,G);break t}lt&&lt(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&wo(B,"number",B.value)}switch(lt=j?fn(j):window,e){case"focusin":(fg(lt)||lt.contentEditable==="true")&&(da=lt,zh=j,Lo=null);break;case"focusout":Lo=zh=da=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Sg(Y,r,G);break;case"selectionchange":if(e1)break;case"keydown":case"keyup":Sg(Y,r,G)}var Rt;if(Bt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else fa?Ss(e,r)&&(Dt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Dt="onCompositionStart");Dt&&(vi&&r.locale!=="ko"&&(fa||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&fa&&(Rt=No()):(gi=G,xo="value"in gi?gi.value:gi.textContent,fa=!0)),lt=hc(j,Dt),0<lt.length&&(Dt=new _i(Dt,e,null,r,G),Y.push({event:Dt,listeners:lt}),Rt?Dt.data=Rt:(Rt=ha(r),Rt!==null&&(Dt.data=Rt)))),(Rt=In?QT(e,r):KT(e,r))&&(Dt=hc(j,"onBeforeInput"),0<Dt.length&&(lt=new _i("onBeforeInput","beforeinput",null,r,G),Y.push({event:lt,listeners:Dt}),lt.data=Rt)),P1(Y,e,j,r,G)}Xy(Y,n)})}function ll(e,n,r){return{instance:e,listener:n,currentTarget:r}}function hc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(e,r),h!=null&&o.unshift(ll(e,h,f)),h=Fn(e,n),h!=null&&o.push(ll(e,h,f))),e.tag===3)return o;e=e.return}return[]}function q1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $y(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,R=E.alternate,j=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||j===null||(R=j,h?(j=Fn(r,f),j!=null&&g.unshift(ll(r,j,R))):h||(j=Fn(r,f),j!=null&&g.push(ll(r,j,R)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var H1=/\r\n?/g,G1=/\u0000|\uFFFD/g;function Zy(e){return(typeof e=="string"?e:""+e).replace(H1,`
`).replace(G1,"")}function Wy(e,n){return n=Zy(n),Zy(e)===n}function $t(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,r,o);break;case"style":Co(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=aa(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=aa(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=aa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),ia(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ia(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=hu.get(r)||r,ia(e,r,o))}}function fd(e,n,r,o,h,f){switch(r){case"style":Co(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ia(e,r,o)}}}function Ge(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,f,g,r,null)}}h&&$t(e,n,"srcSet",r.srcSet,r,null),o&&$t(e,n,"src",r.src,r,null);return;case"input":xt("invalid",e);var E=f=g=h=null,R=null,j=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:$t(e,n,o,G,r,null)}}lu(e,f,E,R,j,g,h,!1);return;case"select":xt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:$t(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?hr(e,!!o,n,!1):r!=null&&hr(e,!!o,r,!0);return;case"textarea":xt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$t(e,n,g,E,r,null)}fr(e,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":$t(e,n,R,o,r,null));return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<ol.length;o++)xt(ol[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(o=r[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,j,o,r,null)}return;default:if(sa(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&fd(e,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&$t(e,n,E,o,r,null))}function F1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,j=null,G=null;for(H in r){var Y=r[H];if(r.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(H)||$t(e,n,H,null,o,Y)}}for(var B in o){var H=o[B];if(Y=r[B],o.hasOwnProperty(B)&&(H!=null||Y!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&$t(e,n,B,H,o,Y)}}ra(e,g,E,R,j,G,f,h);return;case"select":H=g=E=B=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&$t(e,n,h,f,o,R)}n=E,r=g,o=H,B!=null?hr(e,!!r,B,!1):!!o!=!!r&&(n!=null?hr(e,!!r,n,!0):hr(e,!!r,r?[]:"",!1));return;case"textarea":H=B=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&$t(e,n,g,h,o,f)}uu(e,B,H);return;case"option":for(var at in r)B=r[at],r.hasOwnProperty(at)&&B!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:$t(e,n,at,null,o,B));for(R in o)B=o[R],H=r[R],o.hasOwnProperty(R)&&B!==H&&(B!=null||H!=null)&&(R==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":$t(e,n,R,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)B=r[mt],r.hasOwnProperty(mt)&&B!=null&&!o.hasOwnProperty(mt)&&$t(e,n,mt,null,o,B);for(j in o)if(B=o[j],H=r[j],o.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:$t(e,n,j,B,o,H)}return;default:if(sa(n)){for(var Zt in r)B=r[Zt],r.hasOwnProperty(Zt)&&B!==void 0&&!o.hasOwnProperty(Zt)&&fd(e,n,Zt,void 0,o,B);for(G in o)B=o[G],H=r[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||fd(e,n,G,B,o,H);return}}for(var k in r)B=r[k],r.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&$t(e,n,k,null,o,B);for(Y in o)B=o[Y],H=r[Y],!o.hasOwnProperty(Y)||B===H||B==null&&H==null||$t(e,n,Y,B,o,H)}function t_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Q1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&t_(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],j=R.startTime;if(j>E)break;var G=R.transferSize,Y=R.initiatorType;G&&t_(Y)&&(R=R.responseEnd,g+=G*(R<E?1:(E-j)/(R-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dd=null,md=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function e_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function gd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function K1(){var e=window.event;return e&&e.type==="popstate"?e===pd?!1:(pd=e,!0):(pd=null,!1)}var i_=typeof setTimeout=="function"?setTimeout:void 0,Y1=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,X1=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(e){return r_.resolve(null).then(e).catch(J1)}:i_;function J1(e){setTimeout(function(){throw e})}function kr(e){return e==="head"}function s_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),ja(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")ul(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ul(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&ul(e.ownerDocument.body);r=h}while(r);ja(n)}function a_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function yd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":yd(r),na(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function $1(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function Z1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=kn(e.nextSibling),e===null))return null;return e}function o_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function W1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function l_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return kn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function u_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function c_(e,n,r){switch(n=fc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ul(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);na(e)}var Un=new Map,h_=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=X.d;X.d={f:tb,r:eb,D:nb,C:ib,L:rb,m:sb,X:ob,S:ab,M:lb};function tb(){var e=$i.f(),n=rc();return e||n}function eb(e){var n=wn(e);n!==null&&n.tag===5&&n.type==="form"?Ip(n):$i.r(e)}var La=typeof document>"u"?null:document;function f_(e,n,r){var o=La;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),h_.has(h)||(h_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Te(n),o.head.appendChild(n)))}}function nb(e){$i.D(e),f_("dns-prefetch",e,null)}function ib(e,n){$i.C(e,n),f_("preconnect",e,n)}function rb(e,n,r){$i.L(e,n,r);var o=La;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+nn(r.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Pa(e);break;case"script":f=za(e)}Un.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Un.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(cl(f))||n==="script"&&o.querySelector(hl(f))||(n=o.createElement("link"),Ge(n,"link",e),Te(n),o.head.appendChild(n)))}}function sb(e,n){$i.m(e,n);var r=La;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!Un.has(f)&&(e=A({rel:"modulepreload",href:e},n),Un.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(hl(f)))return}o=r.createElement("link"),Ge(o,"link",e),Te(o),r.head.appendChild(o)}}}function ab(e,n,r){$i.S(e,n,r);var o=La;if(o&&e){var h=ci(o).hoistableStyles,f=Pa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(cl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Un.get(f))&&Td(e,r);var R=g=o.createElement("link");Te(R),Ge(R,"link",e),R._p=new Promise(function(j,G){R.onload=j,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function ob(e,n){$i.X(e,n);var r=La;if(r&&e){var o=ci(r).hoistableScripts,h=za(e),f=o.get(h);f||(f=r.querySelector(hl(h)),f||(e=A({src:e,async:!0},n),(n=Un.get(h))&&bd(e,n),f=r.createElement("script"),Te(f),Ge(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function lb(e,n){$i.M(e,n);var r=La;if(r&&e){var o=ci(r).hoistableScripts,h=za(e),f=o.get(h);f||(f=r.querySelector(hl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&bd(e,n),f=r.createElement("script"),Te(f),Ge(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function d_(e,n,r,o){var h=(h=wt.current)?dc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Pa(r.href),r=ci(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Pa(r.href);var f=ci(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(cl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Un.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Un.set(e,r),f||ub(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(r),r=ci(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Pa(e){return'href="'+nn(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function m_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function ub(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",r),Te(n),e.head.appendChild(n))}function za(e){return'[src="'+nn(e)+'"]'}function hl(e){return"script[async]"+e}function g_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(r.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Ge(o,"style",h),mc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Pa(r.href);var f=e.querySelector(cl(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=m_(r),(h=Un.get(h))&&Td(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ge(f,"link",o),n.state.loading|=4,mc(f,r.precedence,e),n.instance=f;case"script":return f=za(r.src),(h=e.querySelector(hl(f)))?(n.instance=h,Te(h),h):(o=r,(h=Un.get(f))&&(o=A({},r),bd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,mc(o,r.precedence,e));return n.instance}function mc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function p_(e,n,r){if(gc===null){var o=new Map,h=gc=new Map;h.set(r,o)}else h=gc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[li]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function y_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function cb(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function __(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function hb(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Pa(o.href),f=n.querySelector(cl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=pc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Te(f);return}f=n.ownerDocument||n,o=m_(o),(h=Un.get(h))&&Td(o,h),f=f.createElement("link"),Te(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ge(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=pc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Sd=0;function fb(e,n){return e.stylesheets&&e.count===0&&_c(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Sd===0&&(Sd=62500*Q1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Sd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function _c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(db,e),yc=null,pc.call(e))}function db(e,n){if(!(n.state.loading&4)){var r=yc.get(e);if(r)var o=r.get(null);else{r=new Map,yc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=pc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var fl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function mb(e,n,r,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function v_(e,n,r,o,h,f,g,E,R,j,G,Y){return e=new mb(e,n,r,g,R,j,G,Y,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=ef(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},af(f),e}function E_(e){return e?(e=pa,e):pa}function T_(e,n,r,o,h,f){h=E_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ar(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=wr(e,o,n),r!==null&&(un(r,e,n),Go(r,e,n))}function b_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Ad(e,n){b_(e,n),(e=e.alternate)&&b_(e,n)}function S_(e){if(e.tag===13||e.tag===31){var n=Rs(e,67108864);n!==null&&un(n,e,67108864),Ad(e,67108864)}}function A_(e){if(e.tag===13||e.tag===31){var n=En();n=ms(n);var r=Rs(e,n);r!==null&&un(r,e,n),Ad(e,n)}}var vc=!0;function gb(e,n,r,o){var h=U.T;U.T=null;var f=X.p;try{X.p=2,wd(e,n,r,o)}finally{X.p=f,U.T=h}}function pb(e,n,r,o){var h=U.T;U.T=null;var f=X.p;try{X.p=8,wd(e,n,r,o)}finally{X.p=f,U.T=h}}function wd(e,n,r,o){if(vc){var h=Rd(o);if(h===null)hd(e,n,o,Ec,r),R_(e,o);else if(_b(h,e,n,r,o))o.stopPropagation();else if(R_(e,o),n&4&&-1<yb.indexOf(e)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ri(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-fe(g);E.entanglements[1]|=R,g&=~R}Si(f),(qt&6)===0&&(nc=We()+500,al(0))}}break;case 31:case 13:E=Rs(f,2),E!==null&&un(E,f,2),rc(),Ad(f,2)}if(f=Rd(o),f===null&&hd(e,n,o,Ec,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(e,n,o,null,r)}}function Rd(e){return e=Rn(e),Cd(e)}var Ec=null;function Cd(e){if(Ec=null,e=ui(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function w_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case go:return 2;case po:return 8;case ur:case Oh:return 32;case Zl:return 268435456;default:return 32}default:return 32}}var Id=!1,Ur=null,Lr=null,Pr=null,dl=new Map,ml=new Map,zr=[],yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(e,n){switch(e){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(n.pointerId)}}function gl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&S_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function _b(e,n,r,o,h){switch(n){case"focusin":return Ur=gl(Ur,e,n,r,o,h),!0;case"dragenter":return Lr=gl(Lr,e,n,r,o,h),!0;case"mouseover":return Pr=gl(Pr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return dl.set(f,gl(dl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ml.set(f,gl(ml.get(f)||null,e,n,r,o,h)),!0}return!1}function C_(e){var n=ui(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,qn(e.priority,function(){A_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,qn(e.priority,function(){A_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Rd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Io=o,r.target.dispatchEvent(o),Io=null}else return n=wn(r),n!==null&&S_(n),e.blockedOn=r,!1;n.shift()}return!0}function I_(e,n,r){Tc(e)&&r.delete(n)}function vb(){Id=!1,Ur!==null&&Tc(Ur)&&(Ur=null),Lr!==null&&Tc(Lr)&&(Lr=null),Pr!==null&&Tc(Pr)&&(Pr=null),dl.forEach(I_),ml.forEach(I_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Id||(Id=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,vb)))}var Sc=null;function x_(e){Sc!==e&&(Sc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Cd(o||r)===null)continue;break}var f=wn(r);f!==null&&(e.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function ja(e){function n(R){return bc(R,e)}Ur!==null&&bc(Ur,e),Lr!==null&&bc(Lr,e),Pr!==null&&bc(Pr,e),dl.forEach(n),ml.forEach(n);for(var r=0;r<zr.length;r++){var o=zr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<zr.length&&(r=zr[0],r.blockedOn===null);)C_(r),r.blockedOn===null&&zr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Ve]||null;if(typeof f=="function")g||x_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(Cd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),x_(r)}}}function N_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(e){this._internalRoot=e}Ac.prototype.render=xd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=En();T_(r,o,e,n,null,null)},Ac.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;T_(e.current,2,null,e,null,null),rc(),n[oi]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var r=0;r<zr.length&&n!==0&&n<zr[r].priority;r++);zr.splice(r,0,e),r===0&&C_(e)}};var D_=t.version;if(D_!=="19.2.4")throw Error(a(527,D_,"19.2.4"));X.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Eb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{jn=wc.inject(Eb),ze=wc}catch{}}return yl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Pp,f=zp,g=jp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=v_(e,1,!1,null,null,r,o,null,h,f,g,N_),e[oi]=n.current,cd(e),new xd(n)},yl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Pp,g=zp,E=jp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=v_(e,1,!0,n,r??null,o,h,R,f,g,E,N_),n.context=E_(null),r=n.current,o=En(),o=ms(o),h=Ar(o),h.callback=null,wr(r,h,o),r=o,n.current.lanes=r,fs(n,r),Si(n),e[oi]=n.current,cd(e),new Ac(n)},yl.version="19.2.4",yl}var B_;function Nb(){if(B_)return Od.exports;B_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Od.exports=xb(),Od.exports}var Db=Nb();const Ob=()=>{};var q_={};const pv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Mb=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},yv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,v=l+2<s.length,y=v?s[l+2]:0,b=c>>2,A=(c&3)<<4|p>>4;let V=(p&15)<<2|y>>6,Q=y&63;v||(Q=64,d||(V=64)),a.push(i[b],i[A],i[V],i[Q])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(pv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Mb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||A==null)throw new Vb;const V=c<<2|p>>4;if(a.push(V),y!==64){const Q=p<<4&240|y>>2;if(a.push(Q),A!==64){const W=y<<6&192|A;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Vb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kb=function(s){const t=pv(s);return yv.encodeByteArray(t,!0)},Hc=function(s){return kb(s).replace(/\./g,"")},_v=function(s){try{return yv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ub(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Lb=()=>Ub().__FIREBASE_DEFAULTS__,Pb=()=>{if(typeof process>"u"||typeof q_>"u")return;const s=q_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},zb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&_v(s[1]);return t&&JSON.parse(t)},lh=()=>{try{return Ob()||Lb()||Pb()||zb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},vv=s=>lh()?.emulatorHosts?.[s],jb=s=>{const t=vv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Ev=()=>lh()?.config,Tv=s=>lh()?.[`_${s}`];class Bb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function ro(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bv(s){return(await fetch(s,{credentials:"include"})).ok}function qb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const Sl={};function Hb(){const s={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?s.emulator.push(t):s.prod.push(t);return s}function Gb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let H_=!1;function Sv(s,t){if(typeof window>"u"||typeof document>"u"||!ro(window.location.host)||Sl[s]===t||Sl[s]||H_)return;Sl[s]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=Hb().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,Q){V.setAttribute("width","24"),V.setAttribute("id",Q),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{H_=!0,d()},V}function b(V,Q){V.setAttribute("id",Q),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function A(){const V=Gb(a),Q=i("text"),W=document.getElementById(Q)||document.createElement("span"),Z=i("learnmore"),tt=document.getElementById(Z)||document.createElement("a"),ut=i("preprendIcon"),dt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ht=V.element;p(ht),b(tt,Z);const bt=y();v(dt,ut),ht.append(dt,W,tt,bt),document.body.appendChild(ht)}c?(W.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Qb(){const s=lh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Yb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jb(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function $b(){return!Qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zb(){try{return typeof indexedDB=="object"}catch{return!1}}function Wb(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const tS="FirebaseError";class or extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=tS,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?eS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new or(l,p,a)}}function eS(s,t){return s.replace(nS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const nS=/\{\$([^}]+)}/g;function iS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function qs(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(G_(c)&&G_(d)){if(!qs(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function G_(s){return s!==null&&typeof s=="object"}function jl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function rS(s,t){const i=new sS(s,t);return i.subscribe.bind(i)}class sS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");aS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ud(){}function Pe(s){return s&&s._delegate?s._delegate:s}class Hs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const zs="[DEFAULT]";class oS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Bb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uS(t))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=zs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zs){return this.instances.has(t)}getOptions(t=zs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:lS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=zs){return this.component?this.component.multipleInstances?t:zs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lS(s){return s===zs?void 0:s}function uS(s){return s.instantiationMode==="EAGER"}class cS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new oS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ot||(Ot={}));const hS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},fS=Ot.INFO,dS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},mS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=dS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Am{constructor(t){this.name=t,this._logLevel=fS,this._logHandler=mS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const gS=(s,t)=>t.some(i=>s instanceof i);let F_,Q_;function pS(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yS(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Av=new WeakMap,$d=new WeakMap,wv=new WeakMap,Ld=new WeakMap,wm=new WeakMap;function _S(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Yr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Av.set(i,s)}).catch(()=>{}),wm.set(t,s),t}function vS(s){if($d.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});$d.set(s,t)}let Zd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return $d.get(s);if(t==="objectStoreNames")return s.objectStoreNames||wv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Yr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function ES(s){Zd=s(Zd)}function TS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Pd(this),t,...i);return wv.set(a,t.sort?t.sort():[t]),Yr(a)}:yS().includes(s)?function(...t){return s.apply(Pd(this),t),Yr(Av.get(this))}:function(...t){return Yr(s.apply(Pd(this),t))}}function bS(s){return typeof s=="function"?TS(s):(s instanceof IDBTransaction&&vS(s),gS(s,pS())?new Proxy(s,Zd):s)}function Yr(s){if(s instanceof IDBRequest)return _S(s);if(Ld.has(s))return Ld.get(s);const t=bS(s);return t!==s&&(Ld.set(s,t),wm.set(t,s)),t}const Pd=s=>wm.get(s);function SS(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Yr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Yr(d.result),v.oldVersion,v.newVersion,Yr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const AS=["get","getKey","getAll","getAllKeys","count"],wS=["put","add","delete","clear"],zd=new Map;function K_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(zd.get(t))return zd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=wS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||AS.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&v.done]))[0]};return zd.set(t,c),c}ES(s=>({...s,get:(t,i,a)=>K_(t,i)||s.get(t,i,a),has:(t,i)=>!!K_(t,i)||s.has(t,i)}));class RS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function CS(s){return s.getComponent()?.type==="VERSION"}const Wd="@firebase/app",Y_="0.14.8";const er=new Am("@firebase/app"),IS="@firebase/app-compat",xS="@firebase/analytics-compat",NS="@firebase/analytics",DS="@firebase/app-check-compat",OS="@firebase/app-check",MS="@firebase/auth",VS="@firebase/auth-compat",kS="@firebase/database",US="@firebase/data-connect",LS="@firebase/database-compat",PS="@firebase/functions",zS="@firebase/functions-compat",jS="@firebase/installations",BS="@firebase/installations-compat",qS="@firebase/messaging",HS="@firebase/messaging-compat",GS="@firebase/performance",FS="@firebase/performance-compat",QS="@firebase/remote-config",KS="@firebase/remote-config-compat",YS="@firebase/storage",XS="@firebase/storage-compat",JS="@firebase/firestore",$S="@firebase/ai",ZS="@firebase/firestore-compat",WS="firebase",tA="12.9.0";const tm="[DEFAULT]",eA={[Wd]:"fire-core",[IS]:"fire-core-compat",[NS]:"fire-analytics",[xS]:"fire-analytics-compat",[OS]:"fire-app-check",[DS]:"fire-app-check-compat",[MS]:"fire-auth",[VS]:"fire-auth-compat",[kS]:"fire-rtdb",[US]:"fire-data-connect",[LS]:"fire-rtdb-compat",[PS]:"fire-fn",[zS]:"fire-fn-compat",[jS]:"fire-iid",[BS]:"fire-iid-compat",[qS]:"fire-fcm",[HS]:"fire-fcm-compat",[GS]:"fire-perf",[FS]:"fire-perf-compat",[QS]:"fire-rc",[KS]:"fire-rc-compat",[YS]:"fire-gcs",[XS]:"fire-gcs-compat",[JS]:"fire-fst",[ZS]:"fire-fst-compat",[$S]:"fire-vertex","fire-js":"fire-js",[WS]:"fire-js-all"};const Gc=new Map,nA=new Map,em=new Map;function X_(s,t){try{s.container.addComponent(t)}catch(i){er.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Za(s){const t=s.name;if(em.has(t))return er.debug(`There were multiple attempts to register component ${t}.`),!1;em.set(t,s);for(const i of Gc.values())X_(i,s);for(const i of nA.values())X_(i,s);return!0}function Rm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Pn(s){return s==null?!1:s.settings!==void 0}const iA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new zl("app","Firebase",iA);class rA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}const so=tA;function Rv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:tm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Xr.create("bad-app-name",{appName:String(l)});if(i||(i=Ev()),!i)throw Xr.create("no-options");const c=Gc.get(l);if(c){if(qs(i,c.options)&&qs(a,c.config))return c;throw Xr.create("duplicate-app",{appName:l})}const d=new cS(l);for(const v of em.values())d.addComponent(v);const p=new rA(i,a,d);return Gc.set(l,p),p}function Cv(s=tm){const t=Gc.get(s);if(!t&&s===tm&&Ev())return Rv();if(!t)throw Xr.create("no-app",{appName:s});return t}function Jr(s,t,i){let a=eA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),er.warn(d.join(" "));return}Za(new Hs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const sA="firebase-heartbeat-database",aA=1,xl="firebase-heartbeat-store";let jd=null;function Iv(){return jd||(jd=SS(sA,aA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(xl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Xr.create("idb-open",{originalErrorMessage:s.message})})),jd}async function oA(s){try{const i=(await Iv()).transaction(xl),a=await i.objectStore(xl).get(xv(s));return await i.done,a}catch(t){if(t instanceof or)er.warn(t.message);else{const i=Xr.create("idb-get",{originalErrorMessage:t?.message});er.warn(i.message)}}}async function J_(s,t){try{const a=(await Iv()).transaction(xl,"readwrite");await a.objectStore(xl).put(t,xv(s)),await a.done}catch(i){if(i instanceof or)er.warn(i.message);else{const a=Xr.create("idb-set",{originalErrorMessage:i?.message});er.warn(a.message)}}}function xv(s){return`${s.name}!${s.options.appId}`}const lA=1024,uA=30;class cA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=$_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>uA){const l=dA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){er.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$_(),{heartbeatsToSend:i,unsentEntries:a}=hA(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return er.warn(t),""}}}function $_(){return new Date().toISOString().substring(0,10)}function hA(s,t=lA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Z_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Z_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class fA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zb()?Wb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await oA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Z_(s){return Hc(JSON.stringify({version:2,heartbeats:s})).length}function dA(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function mA(s){Za(new Hs("platform-logger",t=>new RS(t),"PRIVATE")),Za(new Hs("heartbeat",t=>new cA(t),"PRIVATE")),Jr(Wd,Y_,s),Jr(Wd,Y_,"esm2020"),Jr("fire-js","")}mA("");var gA="firebase",pA="12.9.0";Jr(gA,pA,"app");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $r,Nv;(function(){var s;function t(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(D,x,L){for(var w=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)w[Ht-2]=arguments[Ht];return S.prototype[x].apply(D,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,C){C||(C=0);const D=Array(16);if(typeof S=="string")for(var x=0;x<16;++x)D[x]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(x=0;x<16;++x)D[x]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],x=I.g[2];let L=I.g[3],w;w=S+(L^C&(x^L))+D[0]+3614090360&4294967295,S=C+(w<<7&4294967295|w>>>25),w=L+(x^S&(C^x))+D[1]+3905402710&4294967295,L=S+(w<<12&4294967295|w>>>20),w=x+(C^L&(S^C))+D[2]+606105819&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(S^x&(L^S))+D[3]+3250441966&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(L^C&(x^L))+D[4]+4118548399&4294967295,S=C+(w<<7&4294967295|w>>>25),w=L+(x^S&(C^x))+D[5]+1200080426&4294967295,L=S+(w<<12&4294967295|w>>>20),w=x+(C^L&(S^C))+D[6]+2821735955&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(S^x&(L^S))+D[7]+4249261313&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(L^C&(x^L))+D[8]+1770035416&4294967295,S=C+(w<<7&4294967295|w>>>25),w=L+(x^S&(C^x))+D[9]+2336552879&4294967295,L=S+(w<<12&4294967295|w>>>20),w=x+(C^L&(S^C))+D[10]+4294925233&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(S^x&(L^S))+D[11]+2304563134&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(L^C&(x^L))+D[12]+1804603682&4294967295,S=C+(w<<7&4294967295|w>>>25),w=L+(x^S&(C^x))+D[13]+4254626195&4294967295,L=S+(w<<12&4294967295|w>>>20),w=x+(C^L&(S^C))+D[14]+2792965006&4294967295,x=L+(w<<17&4294967295|w>>>15),w=C+(S^x&(L^S))+D[15]+1236535329&4294967295,C=x+(w<<22&4294967295|w>>>10),w=S+(x^L&(C^x))+D[1]+4129170786&4294967295,S=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(S^C))+D[6]+3225465664&4294967295,L=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(L^S))+D[11]+643717713&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^S&(x^L))+D[0]+3921069994&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(x^L&(C^x))+D[5]+3593408605&4294967295,S=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(S^C))+D[10]+38016083&4294967295,L=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(L^S))+D[15]+3634488961&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^S&(x^L))+D[4]+3889429448&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(x^L&(C^x))+D[9]+568446438&4294967295,S=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(S^C))+D[14]+3275163606&4294967295,L=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(L^S))+D[3]+4107603335&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^S&(x^L))+D[8]+1163531501&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(x^L&(C^x))+D[13]+2850285829&4294967295,S=C+(w<<5&4294967295|w>>>27),w=L+(C^x&(S^C))+D[2]+4243563512&4294967295,L=S+(w<<9&4294967295|w>>>23),w=x+(S^C&(L^S))+D[7]+1735328473&4294967295,x=L+(w<<14&4294967295|w>>>18),w=C+(L^S&(x^L))+D[12]+2368359562&4294967295,C=x+(w<<20&4294967295|w>>>12),w=S+(C^x^L)+D[5]+4294588738&4294967295,S=C+(w<<4&4294967295|w>>>28),w=L+(S^C^x)+D[8]+2272392833&4294967295,L=S+(w<<11&4294967295|w>>>21),w=x+(L^S^C)+D[11]+1839030562&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^S)+D[14]+4259657740&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(C^x^L)+D[1]+2763975236&4294967295,S=C+(w<<4&4294967295|w>>>28),w=L+(S^C^x)+D[4]+1272893353&4294967295,L=S+(w<<11&4294967295|w>>>21),w=x+(L^S^C)+D[7]+4139469664&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^S)+D[10]+3200236656&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(C^x^L)+D[13]+681279174&4294967295,S=C+(w<<4&4294967295|w>>>28),w=L+(S^C^x)+D[0]+3936430074&4294967295,L=S+(w<<11&4294967295|w>>>21),w=x+(L^S^C)+D[3]+3572445317&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^S)+D[6]+76029189&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(C^x^L)+D[9]+3654602809&4294967295,S=C+(w<<4&4294967295|w>>>28),w=L+(S^C^x)+D[12]+3873151461&4294967295,L=S+(w<<11&4294967295|w>>>21),w=x+(L^S^C)+D[15]+530742520&4294967295,x=L+(w<<16&4294967295|w>>>16),w=C+(x^L^S)+D[2]+3299628645&4294967295,C=x+(w<<23&4294967295|w>>>9),w=S+(x^(C|~L))+D[0]+4096336452&4294967295,S=C+(w<<6&4294967295|w>>>26),w=L+(C^(S|~x))+D[7]+1126891415&4294967295,L=S+(w<<10&4294967295|w>>>22),w=x+(S^(L|~C))+D[14]+2878612391&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~S))+D[5]+4237533241&4294967295,C=x+(w<<21&4294967295|w>>>11),w=S+(x^(C|~L))+D[12]+1700485571&4294967295,S=C+(w<<6&4294967295|w>>>26),w=L+(C^(S|~x))+D[3]+2399980690&4294967295,L=S+(w<<10&4294967295|w>>>22),w=x+(S^(L|~C))+D[10]+4293915773&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~S))+D[1]+2240044497&4294967295,C=x+(w<<21&4294967295|w>>>11),w=S+(x^(C|~L))+D[8]+1873313359&4294967295,S=C+(w<<6&4294967295|w>>>26),w=L+(C^(S|~x))+D[15]+4264355552&4294967295,L=S+(w<<10&4294967295|w>>>22),w=x+(S^(L|~C))+D[6]+2734768916&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~S))+D[13]+1309151649&4294967295,C=x+(w<<21&4294967295|w>>>11),w=S+(x^(C|~L))+D[4]+4149444226&4294967295,S=C+(w<<6&4294967295|w>>>26),w=L+(C^(S|~x))+D[11]+3174756917&4294967295,L=S+(w<<10&4294967295|w>>>22),w=x+(S^(L|~C))+D[2]+718787259&4294967295,x=L+(w<<15&4294967295|w>>>17),w=C+(L^(x|~S))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+x&4294967295,I.g[3]=I.g[3]+L&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,D=this.C;let x=this.h,L=0;for(;L<S;){if(x==0)for(;L<=C;)l(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<S;)if(D[x++]=I.charCodeAt(L++),x==this.blockSize){l(this,D),x=0;break}}else for(;L<S;)if(D[x++]=I[L++],x==this.blockSize){l(this,D),x=0;break}}this.h=x,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let D=0;D<32;D+=8)I[S++]=this.g[C]>>>D&255;return I};function c(I,S){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function d(I,S){this.h=S;const C=[];let D=!0;for(let x=I.length-1;x>=0;x--){const L=I[x]|0;D&&L==S||(C[x]=L,D=!1)}this.g=C}var p={};function v(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return tt(y(-I));const S=[];let C=1;for(let D=0;I>=C;D++)S[D]=I/C|0,C*=4294967296;return new d(S,0)}function b(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return tt(b(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let D=A;for(let L=0;L<I.length;L+=8){var x=Math.min(8,I.length-L);const w=parseInt(I.substring(L,L+x),S);x<8?(x=y(Math.pow(S,x)),D=D.j(x).add(y(w))):(D=D.j(C),D=D.add(y(w)))}return D}var A=v(0),V=v(1),Q=v(16777216);s=d.prototype,s.m=function(){if(Z(this))return-tt(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const D=this.i(C);I+=(D>=0?D:4294967296+D)*S,S*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(Z(this))return"-"+tt(this).toString(I);const S=y(Math.pow(I,6));var C=this;let D="";for(;;){const x=bt(C,S).g;C=ut(C,x.j(S));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=x,W(C))return L+D;for(;L.length<6;)L="0"+L;D=L+D}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function Z(I){return I.h==-1}s.l=function(I){return I=ut(this,I),Z(I)?-1:W(I)?0:1};function tt(I){const S=I.g.length,C=[];for(let D=0;D<S;D++)C[D]=~I.g[D];return new d(C,~I.h).add(V)}s.abs=function(){return Z(this)?tt(this):this},s.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let D=0;for(let x=0;x<=S;x++){let L=D+(this.i(x)&65535)+(I.i(x)&65535),w=(L>>>16)+(this.i(x)>>>16)+(I.i(x)>>>16);D=w>>>16,L&=65535,w&=65535,C[x]=w<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ut(I,S){return I.add(tt(S))}s.j=function(I){if(W(this)||W(I))return A;if(Z(this))return Z(I)?tt(this).j(tt(I)):tt(tt(this).j(I));if(Z(I))return tt(this.j(tt(I)));if(this.l(Q)<0&&I.l(Q)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var D=0;D<2*S;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(let x=0;x<I.g.length;x++){const L=this.i(D)>>>16,w=this.i(D)&65535,Ht=I.i(x)>>>16,he=I.i(x)&65535;C[2*D+2*x]+=w*he,dt(C,2*D+2*x),C[2*D+2*x+1]+=L*he,dt(C,2*D+2*x+1),C[2*D+2*x+1]+=w*Ht,dt(C,2*D+2*x+1),C[2*D+2*x+2]+=L*Ht,dt(C,2*D+2*x+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new d(C,0)};function dt(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function ht(I,S){this.g=I,this.h=S}function bt(I,S){if(W(S))throw Error("division by zero");if(W(I))return new ht(A,A);if(Z(I))return S=bt(tt(I),S),new ht(tt(S.g),tt(S.h));if(Z(S))return S=bt(I,tt(S)),new ht(tt(S.g),S.h);if(I.g.length>30){if(Z(I)||Z(S))throw Error("slowDivide_ only works with positive integers.");for(var C=V,D=S;D.l(I)<=0;)C=re(C),D=re(D);var x=Ut(C,1),L=Ut(D,1);for(D=Ut(D,2),C=Ut(C,2);!W(D);){var w=L.add(D);w.l(I)<=0&&(x=x.add(C),L=w),D=Ut(D,1),C=Ut(C,1)}return S=ut(I,x.j(S)),new ht(x,S)}for(x=A;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),L=y(C),w=L.j(S);Z(w)||w.l(I)>0;)C-=D,L=y(C),w=L.j(S);W(L)&&(L=V),x=x.add(L),I=ut(I,w)}return new ht(x,I)}s.B=function(I){return bt(this,I).h},s.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)&I.i(D);return new d(C,this.h&I.h)},s.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)|I.i(D);return new d(C,this.h|I.h)},s.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)^I.i(D);return new d(C,this.h^I.h)};function re(I){const S=I.g.length+1,C=[];for(let D=0;D<S;D++)C[D]=I.i(D)<<1|I.i(D-1)>>>31;return new d(C,I.h)}function Ut(I,S){const C=S>>5;S%=32;const D=I.g.length-C,x=[];for(let L=0;L<D;L++)x[L]=S>0?I.i(L+C)>>>S|I.i(L+C+1)<<32-S:I.i(L+C);return new d(x,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Nv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,$r=d}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Dv,vl,Ov,Oc,nm,Mv,Vv,kv;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in _))break t;_=_[P]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,P,q){for(var et=Array(arguments.length-2),St=2;St<arguments.length;St++)et[St-2]=arguments[St];return m.prototype[P].apply(T,et)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var _=typeof P;if(_=_!="object"?_:P?Array.isArray(P)?"array":_:"null",_=="array"||_=="object"&&typeof P.length=="number"){_=u.length||0;const q=P.length||0;u.length=_+q;for(let et=0;et<q;et++)u[_+et]=P[et]}else u.push(P)}}class Z{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function ut(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class dt{constructor(){this.h=this.g=null}add(m,_){const T=ht.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ht=new Z(()=>new bt,u=>u.reset());class bt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,Ut=!1,I=new dt,S=()=>{const u=Promise.resolve(void 0);re=()=>{u.then(C)}};function C(){for(var u;u=ut();){try{u.h.call(u.g)}catch(_){tt(_)}var m=ht;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ut=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Ht(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Ht,x),Ht.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ht.Z.h.call(this)},Ht.prototype.h=function(){Ht.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),U=0;function X(u,m,_,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=P,this.key=++U,this.da=this.fa=!1}function it(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ct(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function vt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function N(u){const m={};for(const _ in u)m[_]=u[_];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let _,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(_ in T)u[_]=T[_];for(let q=0;q<F.length;q++)_=F[q],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,_,T,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=wt(u,m,T,P);return et>-1?(m=u[et],_||(m.fa=!1)):(m=new X(m,this.src,q,!!T,P),m.fa=_,u.push(m)),m};function yt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(it(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function wt(u,m,_,T){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==T)return P}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),xe={};function se(u,m,_,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)se(u,m[q],_,T,P);return null}return _=mo(_),u&&u[he]?u.J(m,_,p(T)?!!T.capture:!1,P):ls(u,m,_,!1,T,P)}function ls(u,m,_,T,P,q){if(!m)throw Error("Invalid event type");const et=p(P)?!!P.capture:!!P;let St=us(u);if(St||(u[Lt]=St=new st(u)),_=St.add(m,_,T,et,q),_.proxy)return _;if(T=$s(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)L||(P=et),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(ni(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function $s(){function u(_){return m.call(u.src,u.listener,_)}const m=ho;return u}function Zs(u,m,_,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Zs(u,m[q],_,T,P);else T=p(T)?!!T.capture:!!T,_=mo(_),u&&u[he]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],_=wt(m,_,T,P),_>-1&&(it(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=us(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,_,T,P)),(_=u>-1?m[u]:null)&&Ws(_))}function Ws(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])yt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(ni(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=us(m))?(yt(_,u),_.h==0&&(_.src=null,m[Lt]=null)):it(u)}}}function ni(u){return u in xe?xe[u]:xe[u]="on"+u}function ho(u,m){if(u.da)u=!0;else{m=new Ht(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Ws(u),u=_.call(T,m)}return u}function us(u){return u=u[Lt],u instanceof st?u:null}var fo="__closure_events_fn_"+(Math.random()*1e9>>>0);function mo(u){return typeof u=="function"?u:(u[fo]||(u[fo]=function(m){return u.handleEvent(m)}),u[fo])}function _e(){D.call(this),this.i=new st(this),this.M=this,this.G=null}A(_e,D),_e.prototype[he]=!0,_e.prototype.removeEventListener=function(u,m,_,T){Zs(this,u,m,_,T)};function Ne(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var P=m;m=new x(T,u),nt(m,P)}P=!0;let q,et;if(_)for(et=_.length-1;et>=0;et--)q=m.g=_[et],P=lr(q,T,!0,m)&&P;if(q=m.g=u,P=lr(q,T,!0,m)&&P,P=lr(q,T,!1,m)&&P,_)for(et=0;et<_.length;et++)q=m.g=_[et],P=lr(q,T,!1,m)&&P}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)it(_[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},_e.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function lr(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==_){const St=et.listener,de=et.ha||et.src;et.fa&&yt(u.i,et),P=St.call(de,T)!==!1&&P}}return P&&!T.defaultPrevented}function Dh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function $l(u){u.g=Dh(()=>{u.g=null,u.i&&(u.i=!1,$l(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends D{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(u){D.call(this),this.h=u,this.g={}}A(cs,D);var go=[];function po(u){Ct(u.g,function(m,_){this.g.hasOwnProperty(_)&&Ws(m)},u),u.g={}}cs.prototype.N=function(){cs.Z.N.call(this),po(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=d.JSON.stringify,Oh=d.JSON.parse,Zl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wl(){}function tu(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){x.call(this,"d")}A(ze,x);function An(){x.call(this,"c")}A(An,x);var fe={},eu=null;function ta(){return eu=eu||new _e}fe.Ia="serverreachability";function nu(u){x.call(this,fe.Ia,u)}A(nu,x);function ii(u){const m=ta();Ne(m,new nu(m))}fe.STAT_EVENT="statevent";function hs(u,m){x.call(this,fe.STAT_EVENT,u),this.stat=m}A(hs,x);function ve(u){const m=ta();Ne(m,new hs(m,u))}fe.Ja="timingevent";function ri(u,m){x.call(this,fe.Ja,u),this.size=m}A(ri,x);function si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Mh(u,m,_,T,P,q){u.info(function(){if(u.g)if(q){var et="",St=q.split("&");for(let Bt=0;Bt<St.length;Bt++){var de=St[Bt].split("=");if(de.length>1){const ae=de[0];de=de[1];const In=ae.split("_");et=In.length>=2&&In[1]=="type"?et+(ae+"="+de+"&"):et+(ae+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+_+`
`+et})}function iu(u,m,_,T,P,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+_+`
`+q+" "+et})}function ai(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,_)+(T?" "+T:"")})}function fs(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var _=q[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return ur(q)}catch{return m}}var ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_o;function ms(){}A(ms,Wl),ms.prototype.g=function(){return new XMLHttpRequest},_o=new ms;function Mi(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function qn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Ee={},Ve={};function oi(u,m,_){u.M=1,u.A=gs(be(m)),u.u=_,u.R=!0,ea(u,null)}function ea(u,m){u.F=Date.now(),li(u),u.B=be(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),sa(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Hn,u.g=vu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new We(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(go[0]=P.toString()),P=go);for(let q=0;q<P.length;q++){const et=se(_,P[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Qn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Qn(this.g),de=this.g.ya(),Bt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||St!=4||de==7||(de==8||Bt<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var _=kh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var q=T;break e}}q=null}if(u=q)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,ve(12),fn(this),wn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<_.length;)if(ae=au(this,_),ae==Ve){St==4&&(this.m=4,ve(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Ee){this.m=4,ve(15),ai(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,ae,null),ci(this,ae);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||_.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,_,"[Invalid Chunked Response]"),fn(this),wn(this);else if(_.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Mo(et),et.P=!0,ve(11))}}else ai(this.i,this.l,_,null),ci(this,_);St==4&&fn(this),this.o&&!this.K&&(St==4?gu(this.j,this):(this.o=!1,li(this)))}else ki(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),fn(this),wn(this)}}}catch{}};function kh(u){if(!su(u))return u.g.la();const m=je(u.g);if(m==="")return"";let _="";const T=m.length,P=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,_+=u.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Ve:(_=Number(m.substring(_,T)),isNaN(_)?Ee:(T+=1,T+_>m.length?Ve:(m=m.slice(T,T+_),u.C=T+_,m)))}qn.prototype.cancel=function(){this.K=!0,fn(this)};function li(u){u.T=Date.now()+u.H,na(u,u.H)}function na(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=si(y(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fs(this.i,this.B),this.M!=2&&(ii(),ve(17)),fn(this),this.m=2,wn(this)):na(this,this.T-u)};function wn(u){u.j.I==0||u.K||gu(u.j,u)}function fn(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,po(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||fi(_.h,u))){if(!u.L&&fi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ca(_),yr(_);else break t;bs(_),ve(18)}}else _.xa=P[1],0<_.xa-_.K&&P[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=si(y(_.Va,_),6e3));hi(_.h)<=1&&_.ta&&(_.ta=void 0)}else _i(_,11)}else if((u.L||_.g==u)&&ca(_),!w(m))for(P=_.Ba.g.parse(m),m=0;m<P.length;m++){let Bt=P[m];const ae=Bt[0];if(!(ae<=_.K))if(_.K=ae,Bt=Bt[1],_.I==2)if(Bt[0]=="c"){_.M=Bt[1],_.ba=Bt[2];const In=Bt[3];In!=null&&(_.ka=In,_.j.info("VER="+_.ka));const vi=Bt[4];vi!=null&&(_.za=vi,_.j.info("SVER="+_.za));const Kn=Bt[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(T=1.5*Kn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Yn=u.g;if(Yn){const Ss=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var q=T.h;q.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(To(q,q.h),q.h=null))}if(T.G){const ha=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(T.wa=ha,Ft(T.J,T.G,ha))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var et=u;if(T.na=_u(T,T.L?T.ba:null,T.W),et.L){bo(T.h,et);var St=et,de=T.O;de&&(St.H=de),St.D&&(ui(St),li(St)),T.g=et}else du(T);_.i.length>0&&yi(_)}else Bt[0]!="stop"&&Bt[0]!="close"||_i(_,7);else _.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?_i(_,7):Do(_):Bt[0]!="noop"&&_.l&&_.l.qa(Bt),_.A=0)}}ii(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function vo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Eo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function To(u,m){u.g?u.g.add(m):u.h=m}function bo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vo.prototype.cancel=function(){if(this.i=So(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function So(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return Q(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let P,q=null;T>=0?(P=u[_].substring(0,T),q=u[_].substring(T+1)):P=u[_],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,cr(this,u.u),this.h=u.h,Ao(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,ke(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),cr(this,m[4]),this.h=di(m[5]||"",!0),Ao(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ps(m,ra,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ps(m,ra,!0),"@"),u.push(Mi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ps(_,_.charAt(0)=="/"?wo:lu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ps(_,uu)),u.join("")},dn.prototype.resolve=function(u){const m=be(this);let _=!!u.j;_?ke(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)cr(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let et=0;et<P.length;){const St=P[et++];St=="."?T&&et==P.length&&q.push(""):St==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&et==P.length&&q.push("")):(q.push(St),T=!0)}T=q.join("/")}else T=P}return _?m.h=T:_=u.i.toString()!=="",_?Ao(m,hu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function be(u){return new dn(u)}function ke(u,m,_){u.j=_?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ao(u,m,_){m instanceof fr?(u.i=m,aa(u.i,u.l)):(_||(m=ps(m,hr)),u.i=new fr(m,u.l))}function Ft(u,m,_){u.i.set(m,_)}function gs(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ps(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,lu=/[#\?:]/g,wo=/[#\?]/g,hr=/[#\?@]/g,uu=/#/g;function fr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ia(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=fr.prototype,s.add=function(u,m){rn(this),this.i=null,u=dr(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function cu(u,m){rn(u),m=dr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ro(u,m){return rn(u),m=dr(u,m),u.g.has(m)}s.forEach=function(u,m){rn(this),this.g.forEach(function(_,T){_.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Co(u,m){rn(u);let _=[];if(typeof m=="string")Ro(u,m)&&(_=_.concat(u.g.get(dr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}s.set=function(u,m){return rn(this),this.i=null,u=dr(this,u),Ro(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Co(this,u),u.length>0?String(u[0]):m):m};function sa(u,m,_){cu(u,m),_.length>0&&(u.i=null,u.g.set(dr(u,m),Q(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const P=Mi(_);_=Co(this,_);for(let q=0;q<_.length;q++){let et=P;_[q]!==""&&(et+="="+Mi(_[q])),u.push(et)}}return this.i=u.join("&")};function hu(u){const m=new fr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function dr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function aa(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(_,T){const P=T.toLowerCase();T!=P&&(cu(this,T),sa(this,P,_))},u)),u.j=m}function Gn(u,m){const _=new Bn;if(d.Image){const T=new Image;T.onload=b(Rn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Rn,_,"TestLoadImage: error",!1,m,T),T.onabort=b(Rn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Rn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Io(u,m){const _=new Bn,T=new AbortController,P=setTimeout(()=>{T.abort(),Rn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?Rn(_,"TestPingServer: ok",!0,m):Rn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Rn(_,"TestPingServer: error",!1,m)})}function Rn(u,m,_,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(_)}catch{}}function mr(){this.g=new Zl}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(mi,Wl),mi.prototype.g=function(){return new ys(this.i,this.h)};function ys(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(ys,_e),s=ys.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Fn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?gr(this):Fn(this),this.readyState==3&&oa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,gr(this))},s.Na=function(u){this.g&&(this.response=u,gr(this))},s.ga=function(){this.g&&gr(this)};function gr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Fn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cn(u){let m="";return Ct(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function _s(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Cn(_),typeof u=="string"?_!=null&&Mi(_):Ft(u,m,_))}function Xt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Xt,_e);var gi=/^https?$/i,xo=["POST","PUT"];s=Xt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_o.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){vs(this,q);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)_.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())_.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(xo,m,void 0)>=0)||T||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of _)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){vs(this,q)}};function vs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,No(u),Vi(u)}function No(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Vi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Es(this):this.Xa())},s.Xa=function(){Es(this)};function Es(u){if(u.h&&typeof c<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=q===0){let et=String(u.D).match(ou)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!gi.test(et?et.toLowerCase():"")}_=T}if(_)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var P=Qn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",No(u)}}finally{Vi(u)}}}}function Vi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ne(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oh(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(u){const m={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=ru(u[T]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[P]||[];m[P]=q,q.push(_)}vt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function pr(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,u),this.Za=pi("retryDelaySeedMs",1e4,u),this.Ta=pi("forwardChannelMaxRetries",2,u),this.va=pi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vo(u&&u.concurrentRequestLimit),this.Ba=new mr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=pr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,_,T){ve(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=_u(this,null,this.W),yi(this)};function Do(u){if(la(u),u.I==3){var m=u.V++,_=be(u.J);if(Ft(_,"SID",u.M),Ft(_,"RID",m),Ft(_,"TYPE","terminate"),Ts(u,_),m=new qn(u,u.j,m),m.M=2,m.A=gs(be(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}yu(u)}function yr(u){u.g&&(Mo(u),u.g.cancel(),u.g=null)}function la(u){yr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function yi(u){if(!Eo(u.h)&&!u.m){u.m=!0;var m=u.Ea;re||S(),Ut||(re(),Ut=!0),I.add(m,u),u.D=0}}function ua(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=si(y(u.Ea,u,m),pu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new qn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=N(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=fu(this,P,m),_=be(this.J),Ft(_,"RID",u),Ft(_,"CVER",22),this.G&&Ft(_,"X-HTTP-Session-Id",this.G),Ts(this,_),q&&(this.R?m="headers="+Mi(Cn(q))+"&"+m:this.u&&_s(_,this.u,q)),To(this.h,P),this.Ra&&Ft(_,"TYPE","init"),this.S?(Ft(_,"$req",m),Ft(_,"SID","null"),P.U=!0,oi(P,_,null)):oi(P,_,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||Eo(this.h)||Oo(this))};function Oo(u,m){var _;m?_=m.l:_=u.V++;const T=be(u.J);Ft(T,"SID",u.M),Ft(T,"RID",_),Ft(T,"AID",u.K),Ts(u,T),u.u&&u.o&&_s(T,u.u,u.o),_=new qn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),To(u.h,_),oi(_,T,m)}function Ts(u,m){u.H&&Ct(u.H,function(_,T){Ft(m,T,_)}),u.l&&Ct({},function(_,T){Ft(m,T,_)})}function fu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let St=-1;for(;;){const de=["count="+_];St==-1?_>0?(St=P[0].g,de.push("ofs="+St)):St=0:de.push("ofs="+St);let Bt=!0;for(let ae=0;ae<_;ae++){var q=P[ae].g;const In=P[ae].map;if(q-=St,q<0)St=Math.max(0,P[ae].g-100),Bt=!1;else try{q="req"+q+"_"||"";try{var et=In instanceof Map?In:Object.entries(In);for(const[vi,Kn]of et){let Yn=Kn;p(Kn)&&(Yn=ur(Kn)),de.push(q+vi+"="+encodeURIComponent(Yn))}}catch(vi){throw de.push(q+"type="+encodeURIComponent("_badmap")),vi}}catch{T&&T(In)}}if(Bt){et=de.join("&");break t}}et=void 0}return u=u.i.splice(0,_),m.G=u,et}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;re||S(),Ut||(re(),Ut=!0),I.add(m,u),u.A=0}}function bs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=si(y(u.Da,u),pu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=si(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),yr(this),mu(this))};function Mo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),Ts(u,m),u.u&&u.o&&_s(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=gs(be(m)),_.u=null,_.R=!0,ea(_,u)}s.Va=function(){this.C!=null&&(this.C=null,yr(this),bs(this),ve(19))};function ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var _=null;if(u.g==m){ca(u),Mo(u),u.g=null;var T=2}else if(fi(u.h,m))_=m.G,bo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=ta(),Ne(T,new ri(T,_)),yi(u)}else du(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&ua(u,m)||T==2&&bs(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),P){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function pu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const P=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),gs(T),P?Gn(T.toString(),_):Io(T.toString(),_)}else ve(2);u.I=0,u.l&&u.l.pa(m),yu(u),la(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=So(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,_){var T=_ instanceof dn?be(_):new dn(_);if(T.g!="")m&&(T.g=m+"."+T.g),cr(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new dn(null);T&&ke(q,T),m&&(q.g=m),P&&cr(q,P),_&&(q.h=_),T=q}return _=u.G,m=u.wa,_&&m&&Ft(T,_,m),Ft(T,"VER",u.ka),Ts(u,T),T}function vu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new mi({ab:_})):new Xt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function _r(){}_r.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){_e.call(this),this.g=new pr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}A(tn,_e),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Do(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ur(u),u=_);m.i.push(new Te(m.Ya++,u)),m.I==3&&yi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,tn.Z.N.call(this)};function Tu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Tu,ze);function bu(){An.call(this),this.status=1}A(bu,An);function Ui(u){this.g=u}A(Ui,Eu),Ui.prototype.ra=function(){Ne(this.g,"a")},Ui.prototype.qa=function(u){Ne(this.g,new Tu(u))},Ui.prototype.pa=function(u){Ne(this.g,new bu)},Ui.prototype.oa=function(){Ne(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,kv=function(){return new _r},Vv=function(){return ta()},Mv=fe,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,Oc=ds,yo.COMPLETE="complete",Ov=yo,tu.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,vl=tu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,Dv=Xt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let ao="12.9.0";function yA(s){ao=s}const Gs=new Am("@firebase/firestore");function Ba(){return Gs.logLevel}function rt(s,...t){if(Gs.logLevel<=Ot.DEBUG){const i=t.map(Cm);Gs.debug(`Firestore (${ao}): ${s}`,...i)}}function nr(s,...t){if(Gs.logLevel<=Ot.ERROR){const i=t.map(Cm);Gs.error(`Firestore (${ao}): ${s}`,...i)}}function Fs(s,...t){if(Gs.logLevel<=Ot.WARN){const i=t.map(Cm);Gs.warn(`Firestore (${ao}): ${s}`,...i)}}function Cm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,Uv(s,a,i)}function Uv(s,t,i){let a=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw nr(a),new Error(a)}function Gt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||Uv(t,l,a)}function Tt(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends or{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class Lv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _A{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class vA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class EA{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string",31837,{l:a}),new Lv(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class TA{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class bA{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new TA(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class t0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SA{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new t0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new t0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function AA(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Im{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=AA(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Mt(s,t){return s<t?-1:s>t?1:0}function im(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Bd(l)===Bd(c)?Mt(l,c):Bd(l)?1:-1}return Mt(s.length,t.length)}const wA=55296,RA=57343;function Bd(s){const t=s.charCodeAt(0);return t>=wA&&t<=RA}function Wa(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const e0="__name__";class Ai{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ai.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=Ai.isNumericId(t),l=Ai.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ai.extractNumericId(t).compare(Ai.extractNumericId(i)):im(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $r.fromString(t.substring(4,t.length-2))}}class ne extends Ai{construct(t,i,a){return new ne(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const CA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ai{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return CA.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e0}static keyField(){return new Qe([e0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ot($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ot($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ot($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ne.fromString(t))}static fromName(t){return new ft(ne.fromString(t).popFirst(5))}static empty(){return new ft(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ne(t.slice()))}}function Pv(s,t,i){if(!i)throw new ot($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function IA(s,t,i,a){if(t===!0&&a===!0)throw new ot($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function n0(s){if(!ft.isDocumentKey(s))throw new ot($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function i0(s){if(ft.isDocumentKey(s))throw new ot($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function zv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function xm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function ti(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ot($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xm(s);throw new ot($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ie(s,t){const i={typeString:s};return t&&(i.value=t),i}function Bl(s,t){if(!zv(s))throw new ot($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ot($.INVALID_ARGUMENT,i);return!0}const r0=-62135596800,s0=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*s0);return new ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<r0)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/s0}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-r0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ie("string",ie._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ie(0,0))}static max(){return new _t(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nl=-1;function xA(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new ts(l,ft.empty(),t)}function NA(s){return new ts(s.readTime,s.key,Nl)}class ts{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ts(_t.min(),ft.empty(),Nl)}static max(){return new ts(_t.max(),ft.empty(),Nl)}}function DA(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,t.documentKey),i!==0?i:Mt(s.largestBatchId,t.largestBatchId))}const OA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function oo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==OA)throw s;rt("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,a)=>{i(t)}))}static reject(t){return new J(((i,a)=>{a(t)}))}static waitFor(t){return new J(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const a of t)i=i.next((l=>l?J.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new J(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((b=>{d[y]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new J(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function VA(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function lo(s){return s.name==="IndexedDbTransactionError"}class uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uh.ce=-1;const Nm=-1;function ch(s){return s==null}function Fc(s){return s===0&&1/s==-1/0}function kA(s){return typeof s=="number"&&Number.isInteger(s)&&!Fc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const jv="";function UA(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=a0(t)),t=LA(s.get(i),t);return a0(t)}function LA(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case jv:i+="";break;default:i+=c}}return i}function a0(s){return s+jv+""}function o0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function as(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function Bv(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new l0(this.data.getIterator())}getIteratorFrom(t){return new l0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class l0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Tn([])}unionWith(t){let i=new Me(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Tn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class qv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new qv("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const PA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(s){if(Gt(!!s,39018),typeof s=="string"){let t=0;const i=PA.exec(s);if(Gt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:pe(s.seconds),nanos:pe(s.nanos)}}function pe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ns(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}const Hv="server_timestamp",Gv="__type__",Fv="__previous_value__",Qv="__local_write_time__";function Dm(s){return(s?.mapValue?.fields||{})[Gv]?.stringValue===Hv}function hh(s){const t=s.mapValue.fields[Fv];return Dm(t)?hh(t):t}function Dl(s){const t=es(s.mapValue.fields[Qv].timestampValue);return new ie(t.seconds,t.nanos)}class zA{constructor(t,i,a,l,c,d,p,v,y,b,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=A}}const Qc="(default)";class Ol{constructor(t,i){this.projectId=t,this.database=i||Qc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}function jA(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ot($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(s.options.projectId,t)}const Kv="__type__",BA="__max__",Ic={mapValue:{}},Yv="__vector__",Kc="value";function is(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Dm(s)?4:HA(s)?9007199254740991:qA(s)?10:11:gt(28295,{value:s})}function Di(s,t){if(s===t)return!0;const i=is(s);if(i!==is(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Dl(s).isEqual(Dl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=es(l.timestampValue),p=es(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return ns(l.bytesValue).isEqual(ns(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return pe(l.geoPointValue.latitude)===pe(c.geoPointValue.latitude)&&pe(l.geoPointValue.longitude)===pe(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return pe(l.integerValue)===pe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=pe(l.doubleValue),p=pe(c.doubleValue);return d===p?Fc(d)===Fc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Wa(s.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(o0(d)!==o0(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Di(d[v],p[v])))return!1;return!0})(s,t);default:return gt(52216,{left:s})}}function Ml(s,t){return(s.values||[]).find((i=>Di(i,t)))!==void 0}function to(s,t){if(s===t)return 0;const i=is(s),a=is(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=pe(c.integerValue||c.doubleValue),v=pe(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,t);case 3:return u0(s.timestampValue,t.timestampValue);case 4:return u0(Dl(s),Dl(t));case 5:return im(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=ns(c),v=ns(d);return p.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const b=Mt(p[y],v[y]);if(b!==0)return b}return Mt(p.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Mt(pe(c.latitude),pe(d.latitude));return p!==0?p:Mt(pe(c.longitude),pe(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return c0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[Kc]?.arrayValue,b=v[Kc]?.arrayValue,A=Mt(y?.values?.length||0,b?.values?.length||0);return A!==0?A:c0(y,b)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},b=Object.keys(y);v.sort(),b.sort();for(let A=0;A<v.length&&A<b.length;++A){const V=im(v[A],b[A]);if(V!==0)return V;const Q=to(p[v[A]],y[b[A]]);if(Q!==0)return Q}return Mt(v.length,b.length)})(s.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function u0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Mt(s,t);const i=es(s),a=es(t),l=Mt(i.seconds,a.seconds);return l!==0?l:Mt(i.nanos,a.nanos)}function c0(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=to(i[l],a[l]);if(c)return c}return Mt(i.length,a.length)}function eo(s){return rm(s)}function rm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=es(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ns(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=rm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${rm(i.fields[d])}`;return l+"}"})(s.mapValue):gt(61005,{value:s})}function Mc(s){switch(is(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(s);return t?16+Mc(t):16;case 5:return 2*s.stringValue.length;case 6:return ns(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Mc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return as(a.fields,((c,d)=>{l+=c.length+Mc(d)})),l})(s.mapValue);default:throw gt(13486,{value:s})}}function sm(s){return!!s&&"integerValue"in s}function Om(s){return!!s&&"arrayValue"in s}function h0(s){return!!s&&"nullValue"in s}function f0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Vc(s){return!!s&&"mapValue"in s}function qA(s){return(s?.mapValue?.fields||{})[Kv]?.stringValue===Yv}function Al(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return as(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Al(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Al(s.arrayValue.values[i]);return t}return{...s}}function HA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===BA}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Vc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Al(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Al(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Vc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Vc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){as(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new hn(Al(this.value))}}function Xv(s){const t=[];return as(s.fields,((i,a)=>{const l=new Qe([i]);if(Vc(a)){const c=Xv(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Tn(t)}class $e{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new $e(t,0,_t.min(),_t.min(),_t.min(),hn.empty(),0)}static newFoundDocument(t,i,a,l){return new $e(t,1,i,_t.min(),a,l,0)}static newNoDocument(t,i){return new $e(t,2,i,_t.min(),_t.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,_t.min(),_t.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yc{constructor(t,i){this.position=t,this.inclusive=i}}function d0(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=to(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function m0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Di(s.position[i],t.position[i]))return!1;return!0}class Xc{constructor(t,i="asc"){this.field=t,this.dir=i}}function GA(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class Jv{}class Oe extends Jv{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new QA(t,i,a):i==="array-contains"?new XA(t,a):i==="in"?new JA(t,a):i==="not-in"?new $A(t,a):i==="array-contains-any"?new ZA(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new KA(t,a):new YA(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(to(i,this.value)):i!==null&&is(this.value)===is(i)&&this.matchesComparison(to(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends Jv{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Oi(t,i)}matches(t){return $v(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $v(s){return s.op==="and"}function Zv(s){return FA(s)&&$v(s)}function FA(s){for(const t of s.filters)if(t instanceof Oi)return!1;return!0}function am(s){if(s instanceof Oe)return s.field.canonicalString()+s.op.toString()+eo(s.value);if(Zv(s))return s.filters.map((t=>am(t))).join(",");{const t=s.filters.map((i=>am(i))).join(",");return`${s.op}(${t})`}}function Wv(s,t){return s instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&Di(a.value,l.value)})(s,t):s instanceof Oi?(function(a,l){return l instanceof Oi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&Wv(d,l.filters[p])),!0):!1})(s,t):void gt(19439)}function tE(s){return s instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${eo(i.value)}`})(s):s instanceof Oi?(function(i){return i.op.toString()+" {"+i.getFilters().map(tE).join(" ,")+"}"})(s):"Filter"}class QA extends Oe{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class KA extends Oe{constructor(t,i){super(t,"in",i),this.keys=eE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class YA extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=eE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function eE(s,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class XA extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Om(i)&&Ml(i.arrayValue,this.value)}}class JA extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ml(this.value.arrayValue,i)}}class $A extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ml(this.value.arrayValue,i)}}class ZA extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Om(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ml(this.value.arrayValue,a)))}}class WA{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function g0(s,t=null,i=[],a=[],l=null,c=null,d=null){return new WA(s,t,i,a,l,c,d)}function Mm(s){const t=Tt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>am(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>eo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>eo(a))).join(",")),t.Te=i}return t.Te}function Vm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!GA(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Wv(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!m0(s.startAt,t.startAt)&&m0(s.endAt,t.endAt)}function om(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class fh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function tw(s,t,i,a,l,c,d,p){return new fh(s,t,i,a,l,c,d,p)}function dh(s){return new fh(s)}function p0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function ew(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function nw(s){return s.collectionGroup!==null}function wl(s){const t=Tt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Xc(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Xc(Qe.keyField(),a))}return t.Ie}function Ri(s){const t=Tt(s);return t.Ee||(t.Ee=iw(t,wl(s))),t.Ee}function iw(s,t){if(s.limitType==="F")return g0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Xc(l.field,c)}));const i=s.endAt?new Yc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Yc(s.startAt.position,s.startAt.inclusive):null;return g0(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function lm(s,t,i){return new fh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function mh(s,t){return Vm(Ri(s),Ri(t))&&s.limitType===t.limitType}function nE(s){return`${Mm(Ri(s))}|lt:${s.limitType}`}function qa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>tE(l))).join(", ")}]`),ch(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>eo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>eo(l))).join(",")),`Target(${a})`})(Ri(s))}; limitType=${s.limitType})`}function gh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ft.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of wl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const y=d0(d,p,v);return d.inclusive?y<=0:y<0})(a.startAt,wl(a),l)||a.endAt&&!(function(d,p,v){const y=d0(d,p,v);return d.inclusive?y>=0:y>0})(a.endAt,wl(a),l))})(s,t)}function rw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function iE(s){return(t,i)=>{let a=!1;for(const l of wl(s)){const c=sw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function sw(s,t,i){const a=s.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?to(v,y):gt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:s.dir})}}class Xs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){as(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return Bv(this.inner)}size(){return this.innerSize}}const aw=new le(ft.comparator);function ir(){return aw}const rE=new le(ft.comparator);function El(...s){let t=rE;for(const i of s)t=t.insert(i.key,i);return t}function sE(s){let t=rE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function js(){return Rl()}function aE(){return Rl()}function Rl(){return new Xs((s=>s.toString()),((s,t)=>s.isEqual(t)))}const ow=new le(ft.comparator),lw=new Me(ft.comparator);function Vt(...s){let t=lw;for(const i of s)t=t.add(i);return t}const uw=new Me(Mt);function cw(){return uw}function km(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(t)?"-0":t}}function oE(s){return{integerValue:""+s}}function hw(s,t){return kA(t)?oE(t):km(s,t)}class ph{constructor(){this._=void 0}}function fw(s,t,i){return s instanceof Vl?(function(l,c){const d={fields:{[Gv]:{stringValue:Hv},[Qv]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Dm(c)&&(c=hh(c)),c&&(d.fields[Fv]=c),{mapValue:d}})(i,t):s instanceof kl?uE(s,t):s instanceof Ul?cE(s,t):(function(l,c){const d=lE(l,c),p=y0(d)+y0(l.Ae);return sm(d)&&sm(l.Ae)?oE(p):km(l.serializer,p)})(s,t)}function dw(s,t,i){return s instanceof kl?uE(s,t):s instanceof Ul?cE(s,t):i}function lE(s,t){return s instanceof Jc?(function(a){return sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Vl extends ph{}class kl extends ph{constructor(t){super(),this.elements=t}}function uE(s,t){const i=hE(t);for(const a of s.elements)i.some((l=>Di(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ul extends ph{constructor(t){super(),this.elements=t}}function cE(s,t){let i=hE(t);for(const a of s.elements)i=i.filter((l=>!Di(l,a)));return{arrayValue:{values:i}}}class Jc extends ph{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function y0(s){return pe(s.integerValue||s.doubleValue)}function hE(s){return Om(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class mw{constructor(t,i){this.field=t,this.transform=i}}function gw(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof kl&&l instanceof kl||a instanceof Ul&&l instanceof Ul?Wa(a.elements,l.elements,Di):a instanceof Jc&&l instanceof Jc?Di(a.Ae,l.Ae):a instanceof Vl&&l instanceof Vl})(s.transform,t.transform)}class pw{constructor(t,i){this.version=t,this.transformResults=i}}class bn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new bn}static exists(t){return new bn(void 0,t)}static updateTime(t){return new bn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class yh{}function fE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Um(s.key,bn.none()):new ql(s.key,s.data,bn.none());{const i=s.data,a=hn.empty();let l=new Me(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new os(s.key,a,new Tn(l.toArray()),bn.none())}}function yw(s,t,i){s instanceof ql?(function(l,c,d){const p=l.value.clone(),v=v0(l.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof os?(function(l,c,d){if(!kc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=v0(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(dE(l)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Cl(s,t,i,a){return s instanceof ql?(function(c,d,p,v){if(!kc(c.precondition,d))return p;const y=c.value.clone(),b=E0(c.fieldTransforms,v,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof os?(function(c,d,p,v){if(!kc(c.precondition,d))return p;const y=E0(c.fieldTransforms,v,d),b=d.data;return b.setAll(dE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,a):(function(c,d,p){return kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function _w(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=lE(a.transform,l||null);c!=null&&(i===null&&(i=hn.empty()),i.set(a.field,c))}return i||null}function _0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Wa(a,l,((c,d)=>gw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class ql extends yh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class os extends yh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function dE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function v0(s,t,i){const a=new Map;Gt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,dw(d,p,i[l]))}return a}function E0(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,fw(c,d,t))}return a}class Um extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vw extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ew{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&yw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=aE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const v=fE(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((i,a)=>_0(i,a)))&&Wa(this.baseMutations,t.baseMutations,((i,a)=>_0(i,a)))}}class Lm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Gt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return ow})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Lm(t,i,a,l)}}class Tw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class bw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ce,Pt;function Sw(s){switch(s){case $.OK:return gt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function mE(s){if(s===void 0)return nr("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ce.OK:return $.OK;case Ce.CANCELLED:return $.CANCELLED;case Ce.UNKNOWN:return $.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return $.INTERNAL;case Ce.UNAVAILABLE:return $.UNAVAILABLE;case Ce.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ce.NOT_FOUND:return $.NOT_FOUND;case Ce.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ce.ABORTED:return $.ABORTED;case Ce.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ce.DATA_LOSS:return $.DATA_LOSS;default:return gt(39323,{code:s})}}(Pt=Ce||(Ce={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function Aw(){return new TextEncoder}const ww=new $r([4294967295,4294967295],0);function T0(s){const t=Aw().encode(s),i=new Nv;return i.update(t),new Uint8Array(i.digest())}function b0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new $r([i,a],0),new $r([l,c],0)]}class Pm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Tl(`Invalid padding: ${i}`);if(a<0)throw new Tl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=$r.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply($r.fromNumber(a)));return l.compare(ww)===1&&(l=new $r([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=T0(t),[a,l]=b0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Pm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=T0(t),[a,l]=b0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _h{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Hl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new _h(_t.min(),l,new le(Mt),ir(),Vt())}}class Hl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Hl(a,i,Vt(),Vt(),Vt())}}class Uc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class gE{constructor(t,i){this.targetId=t,this.Ce=i}}class pE{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class S0{constructor(){this.ve=0,this.Fe=A0(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new Hl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=A0()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Rw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ir(),this.He=xc(),this.Je=xc(),this.Ze=new le(Mt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(om(c))if(a===0){const d=new ft(c.path);this.et(i,d,$e.newNoDocument(d,_t.min()))}else Gt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ns(a).toUint8Array()}catch(v){if(v instanceof qv)return Fs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Pm(d,l,c)}catch(v){return Fs(v instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&om(p.target)){const v=new ft(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,$e.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Vt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new _h(t,i,this.Ze,this.je,a);return this.je=ir(),this.He=xc(),this.Je=xc(),this.Ze=new le(Mt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new S0,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Me(Mt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Me(Mt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new S0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function xc(){return new le(ft.comparator)}function A0(){return new le(ft.comparator)}const Cw={asc:"ASCENDING",desc:"DESCENDING"},Iw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xw={and:"AND",or:"OR"};class Nw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function um(s,t){return s.useProto3Json||ch(t)?t:{value:t}}function $c(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Dw(s,t){return $c(s,t.toTimestamp())}function Ci(s){return Gt(!!s,49232),_t.fromTimestamp((function(i){const a=es(i);return new ie(a.seconds,a.nanos)})(s))}function zm(s,t){return cm(s,t).canonicalString()}function cm(s,t){const i=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function _E(s){const t=ne.fromString(s);return Gt(SE(t),10190,{key:t.toString()}),t}function hm(s,t){return zm(s.databaseId,t.path)}function qd(s,t){const i=_E(t);if(i.get(1)!==s.databaseId.projectId)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(EE(i))}function vE(s,t){return zm(s.databaseId,t)}function Ow(s){const t=_E(s);return t.length===4?ne.emptyPath():EE(t)}function fm(s){return new ne(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function EE(s){return Gt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function w0(s,t,i){return{name:hm(s,t),fields:i.value.mapValue.fields}}function Mw(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Gt(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(Gt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?$.UNKNOWN:mE(y.code);return new ot(b,y.message||"")})(d);i=new pE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=qd(s,a.document.name),c=Ci(a.document.updateTime),d=a.document.createTime?Ci(a.document.createTime):_t.min(),p=new hn({mapValue:{fields:a.document.fields}}),v=$e.newFoundDocument(l,c,d,p),y=a.targetIds||[],b=a.removedTargetIds||[];i=new Uc(y,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=qd(s,a.document),c=a.readTime?Ci(a.readTime):_t.min(),d=$e.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Uc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=qd(s,a.document),c=a.removedTargetIds||[];i=new Uc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new bw(l,c),p=a.targetId;i=new gE(p,d)}}return i}function Vw(s,t){let i;if(t instanceof ql)i={update:w0(s,t.key,t.value)};else if(t instanceof Um)i={delete:hm(s,t.key)};else if(t instanceof os)i={update:w0(s,t.key,t.data),updateMask:Hw(t.fieldMask)};else{if(!(t instanceof vw))return gt(16599,{dt:t.type});i={verify:hm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Vl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof kl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Jc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Dw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(s,t.precondition)),i}function kw(s,t){return s&&s.length>0?(Gt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ci(l.updateTime):Ci(c);return d.isEqual(_t.min())&&(d=Ci(c)),new pw(d,l.transformResults||[])})(i,t)))):[]}function Uw(s,t){return{documents:[vE(s,t.path)]}}function Lw(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=vE(s,l);const c=(function(y){if(y.length!==0)return bE(Oi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(V){return{field:Ha(V.field),direction:jw(V.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=um(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function Pw(s){let t=Ow(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Gt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const V=TE(A);return V instanceof Oi&&Zv(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((V=>(function(W){return new Xc(Ga(W.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let V;return V=typeof A=="object"?A.value:A,ch(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(A){const V=!!A.before,Q=A.values||[];return new Yc(Q,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const V=!A.before,Q=A.values||[];return new Yc(Q,V)})(i.endAt)),tw(t,l,d,c,p,"F",v,y)}function zw(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function TE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ga(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ga(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ga(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Oe.create(Ga(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Oi.create(i.compositeFilter.filters.map((a=>TE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function jw(s){return Cw[s]}function Bw(s){return Iw[s]}function qw(s){return xw[s]}function Ha(s){return{fieldPath:s.canonicalString()}}function Ga(s){return Qe.fromServerFormat(s.fieldPath)}function bE(s){return s instanceof Oe?(function(i){if(i.op==="=="){if(f0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if(h0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(f0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if(h0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:Bw(i.op),value:i.value}}})(s):s instanceof Oi?(function(i){const a=i.getFilters().map((l=>bE(l)));return a.length===1?a[0]:{compositeFilter:{op:qw(i.op),filters:a}}})(s):gt(54877,{filter:s})}function Hw(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function SE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function AE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Kr{constructor(t,i,a,l,c=_t.min(),d=_t.min(),p=Ke.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new Kr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Gw{constructor(t){this.yt=t}}function Fw(s){const t=Pw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?lm(t,t.limit,"L"):t}class Qw{constructor(){this.Sn=new Kw}addToCollectionParentIndex(t,i){return this.Sn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(ts.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(ts.min())}updateCollectionGroup(t,i,a){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class Kw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Me(ne.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(ne.comparator)).toArray()}}const R0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wE=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(wE,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class no{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new no(0)}static ar(){return new no(-1)}}const C0="LruGarbageCollector",Yw=1048576;function I0([s,t],[i,a]){const l=Mt(s,i);return l===0?Mt(t,a):l}class Xw{constructor(t){this.Pr=t,this.buffer=new Me(I0),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();I0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Jw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){rt(C0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){lo(i)?rt(C0,"Ignoring IndexedDB error during garbage collection: ",i):await oo(i)}await this.Ar(3e5)}))}}class $w{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(uh.ce);const a=new Xw(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(R0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R0):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,v,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(y=Date.now(),Ba()<=Ot.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${A} documents in `+(y-v)+`ms
Total Duration: ${y-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function Zw(s,t){return new $w(s,t)}class Ww{constructor(){this.changes=new Xs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class t2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class e2{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Cl(a.mutation,l,Tn.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=js();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=El();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=js();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ir();const d=Rl(),p=(function(){return Rl()})();return i.forEach(((v,y)=>{const b=a.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof os)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Cl(b.mutation,y,b.mutation.getFieldMask(),ie.now())):d.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new t2(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Rl();let l=new le(((d,p)=>d-p)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let b=a.get(v)||Tn.empty();b=p.applyToLocalView(y,b),a.set(v,b);const A=(l.get(p.batchId)||Vt()).add(v);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,b=v.value,A=aE();b.forEach((V=>{if(!c.has(V)){const Q=fE(i.get(V),a.get(V));Q!==null&&A.set(V,Q),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return ew(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):nw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):J.resolve(js());let p=Nl,v=c;return d.next((y=>J.forEach(y,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(t,b).next((V=>{v=v.insert(b,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Vt()))).next((b=>({batchId:p,changes:sE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((a=>{let l=El();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=El();return this.indexManager.getCollectionParents(t,c).next((p=>J.forEach(p,(v=>{const y=(function(A,V){return new fh(V,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((b=>{b.forEach(((A,V)=>{d=d.insert(A,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,$e.newInvalidDocument(b)))}));let p=El();return d.forEach(((v,y)=>{const b=c.get(v);b!==void 0&&Cl(b.mutation,y,Tn.empty(),ie.now()),gh(i,y)&&(p=p.insert(v,y))})),p}))}}class n2{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:Fw(l.bundledQuery),readTime:Ci(l.readTime)}})(i)),J.resolve()}}class i2{constructor(){this.overlays=new le(ft.comparator),this.Lr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const a=js();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),J.resolve()}getOverlaysForCollection(t,i,a){const l=js(),c=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=js(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=js(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return J.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Tw(i,a));let c=this.Lr.get(i);c===void 0&&(c=Vt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class r2{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class jm{constructor(){this.kr=new Me(Le.Kr),this.qr=new Me(Le.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Le(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ft(new ne([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ft(new ne([])),a=new Le(i,t),l=new Le(i,t+1);let c=Vt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ft.comparator(t.key,i.key)||Mt(t.Hr,i.Hr)}static Ur(t,i){return Mt(t.Hr,i.Hr)||ft.comparator(t.key,i.key)}}class s2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Me(Le.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Ew(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Nm:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Mt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),J.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ft.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ft(c),0);let p=new Me(Mt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(v.Hr)),!0)}),d),J.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return J.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Le(i,0),l=this.Jr.firstAfterOrEqual(a);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class a2{constructor(t){this.ti=t,this.docs=(function(){return new le(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let a=ir();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),J.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ir();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:b}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||DA(NA(b),a)<=0||(l.has(b.key)||gh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ni(t,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new o2(this)}getSize(t){return J.resolve(this.size)}}class o2 extends Ww{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),J.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class l2{constructor(t){this.persistence=t,this.ri=new Xs((i=>Mm(i)),Vm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.ii=0,this.si=new jm,this.targetCount=0,this.oi=no._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),J.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new no(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.lr(i),J.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return J.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),J.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return J.resolve(a)}containsKey(t,i){return J.resolve(this.si.containsKey(i))}}class RE{constructor(t,i){this._i={},this.overlays={},this.ai=new uh(0),this.ui=!1,this.ui=!0,this.ci=new r2,this.referenceDelegate=t(this),this.li=new l2(this),this.indexManager=new Qw,this.remoteDocumentCache=(function(l){return new a2(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new Gw(i),this.Pi=new n2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new i2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new s2(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new u2(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return J.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class u2 extends MA{constructor(t){super(),this.currentSequenceNumber=t}}class Bm{constructor(t){this.persistence=t,this.Ri=new jm,this.Ai=null}static Vi(t){return new Bm(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),J.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(a=>{const l=ft.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Zc{constructor(t,i){this.persistence=t,this.fi=new Xs((a=>UA(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Zw(this,i)}static Vi(t,i){return new Zc(t,i)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return J.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Mc(t.data.value)),i}wr(t,i,a){return J.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return J.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class qm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new qm(t,i.fromCache,a,l)}}class c2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class h2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return $b()?8:VA(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new c2;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Ba()<=Ot.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Ba()<=Ot.DEBUG&&rt("QueryEngine","Query:",qa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ba()<=Ot.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(i))):J.resolve())}gs(t,i){if(p0(i))return J.resolve(null);let a=Ri(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=lm(i,null,"F"),a=Ri(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,p);return this.Ss(i,y,d,v.readTime)?this.gs(t,lm(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,l){return p0(i)||l.isEqual(_t.min())?J.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?J.resolve(null):(Ba()<=Ot.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(i)),this.Ds(t,d,i,xA(l,Nl)).next((p=>p)))}))}bs(t,i){let a=new Me(iE(t));return i.forEach(((l,c)=>{gh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Ba()<=Ot.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",qa(i)),this.fs.getDocumentsMatchingQuery(t,i,ts.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Hm="LocalStore",f2=3e8;class d2{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new le(Mt),this.Fs=new Xs((c=>Mm(c)),Vm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new e2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function m2(s,t,i,a){return new d2(s,t,i,a)}async function CE(s,t){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=Vt();for(const y of l){d.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function g2(s,t){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,b){const A=y.batch,V=A.keys();let Q=J.resolve();return V.forEach((W=>{Q=Q.next((()=>b.getEntry(v,W))).next((Z=>{const tt=y.docVersions.get(W);Gt(tt!==null,48541),Z.version.compareTo(tt)<0&&(A.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),b.addEntry(Z)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(v,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Vt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function IE(s){const t=Tt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function p2(s,t){const i=Tt(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((b,A)=>{const V=l.get(A);if(!V)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,A))));let Q=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?Q=Q.withResumeToken(Ke.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,a)),l=l.insert(A,Q),(function(Z,tt,ut){return Z.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=f2?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(V,Q,b)&&p.push(i.li.updateTargetData(c,Q))}));let v=ir(),y=Vt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(y2(c,d,t.documentUpdates).next((b=>{v=b.Bs,y=b.Ls}))),!a.isEqual(_t.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function y2(s,t,i){let a=Vt(),l=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=ir();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(_t.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):rt(Hm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function _2(s,t){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Nm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function v2(s,t){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,J.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Kr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function dm(s,t,i){const a=Tt(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!lo(d))throw d;rt(Hm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function x0(s,t,i){const a=Tt(s);let l=_t.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,b){const A=Tt(v),V=A.Fs.get(b);return V!==void 0?J.resolve(A.vs.get(V)):A.li.getTargetData(y,b)})(a,d,Ri(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Vt()))).next((p=>(E2(a,rw(t),p),{documents:p,ks:c})))))}function E2(s,t,i){let a=s.Ms.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class N0{constructor(){this.activeTargetIds=cw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class T2{constructor(){this.vo=new N0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new N0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class b2{Mo(t){}shutdown(){}}const D0="ConnectivityMonitor";class O0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){rt(D0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){rt(D0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nc=null;function mm(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}const Hd="RestConnection",S2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class A2{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Qc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=mm(),p=this.Qo(t,i.toUriEncodedString());rt(Hd,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(p),b=ro(y);return this.zo(t,p,v,a,b).then((A=>(rt(Hd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Fs(Hd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ao})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=S2[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class w2{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",_l=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Qa extends A2{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Qa.c_){const t=Vv();_l(t,Mv.STAT_EVENT,(i=>{i.stat===nm.PROXY?rt(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===nm.NOPROXY&&rt(Xe,"STAT_EVENT: detected no buffering proxy")})),Qa.c_=!0}}zo(t,i,a,l,c){const d=mm();return new Promise(((p,v)=>{const y=new Dv;y.setWithCredentials(!0),y.listenOnce(Ov.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Oc.NO_ERROR:const A=y.getResponseJson();rt(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Oc.TIMEOUT:rt(Xe,`RPC '${t}' ${d} timed out`),v(new ot($.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const V=y.getStatus();if(rt(Xe,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const W=Q?.error;if(W&&W.status&&W.message){const Z=(function(ut){const dt=ut.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(dt)>=0?dt:$.UNKNOWN})(W.status);v(new ot(Z,W.message))}else v(new ot($.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ot($.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(Xe,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);rt(Xe,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=mm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");rt(Xe,`Creating RPC '${t}' stream ${l}: ${y}`,p);const b=d.createWebChannel(y,p);this.I_(b);let A=!1,V=!1;const Q=new w2({Ho:W=>{V?rt(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(A||(rt(Xe,`Opening RPC '${t}' stream ${l} transport.`),b.open(),A=!0),rt(Xe,`RPC '${t}' stream ${l} sending:`,W),b.send(W))},Jo:()=>b.close()});return _l(b,vl.EventType.OPEN,(()=>{V||(rt(Xe,`RPC '${t}' stream ${l} transport opened.`),Q.i_())})),_l(b,vl.EventType.CLOSE,(()=>{V||(V=!0,rt(Xe,`RPC '${t}' stream ${l} transport closed`),Q.o_(),this.E_(b))})),_l(b,vl.EventType.ERROR,(W=>{V||(V=!0,Fs(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),Q.o_(new ot($.UNAVAILABLE,"The operation could not be completed")))})),_l(b,vl.EventType.MESSAGE,(W=>{if(!V){const Z=W.data[0];Gt(!!Z,16349);const tt=Z,ut=tt?.error||tt[0]?.error;if(ut){rt(Xe,`RPC '${t}' stream ${l} received error:`,ut);const dt=ut.status;let ht=(function(Ut){const I=Ce[Ut];if(I!==void 0)return mE(I)})(dt),bt=ut.message;dt==="NOT_FOUND"&&bt.includes("database")&&bt.includes("does not exist")&&bt.includes(this.databaseId.database)&&Fs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ht===void 0&&(ht=$.INTERNAL,bt="Unknown error status: "+dt+" with message "+ut.message),V=!0,Q.o_(new ot(ht,bt)),b.close()}else rt(Xe,`RPC '${t}' stream ${l} received:`,Z),Q.__(Z)}})),Qa.u_(),setTimeout((()=>{Q.s_()}),0),Q}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return kv()}}function R2(s){return new Qa(s)}function Gd(){return typeof document<"u"?document:null}function vh(s){return new Nw(s,!0)}Qa.c_=!1;class xE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const M0="PersistentStream";class NE{constructor(t,i,a,l,c,d,p,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(nr(i.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ot($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(M0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(rt(M0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class C2 extends NE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Mw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Ci(d.readTime):_t.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=fm(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=om(v)?{documents:Uw(c,v)}:{query:Lw(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=yE(c,d.resumeToken);const y=um(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=$c(c,d.snapshotVersion.toTimestamp());const y=um(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=zw(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=fm(this.serializer),i.removeTarget=t,this.K_(i)}}class I2 extends NE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=kw(t.writeResults,t.commitTime),a=Ci(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=fm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Vw(this.serializer,a)))};this.K_(i)}}class x2{}class N2 extends x2{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,cm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot($.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,cm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function D2(s,t,i,a){return new N2(s,t,i,a)}class O2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nr(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qs="RemoteStore";class M2{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Js(this)&&(rt(Qs,"Restarting streams for network reachability change."),await(async function(v){const y=Tt(v);y.Ea.add(4),await Gl(y),y.Va.set("Unknown"),y.Ea.delete(4),await Eh(y)})(this))}))})),this.Va=new O2(a,l)}}async function Eh(s){if(Js(s))for(const t of s.Ra)await t(!0)}async function Gl(s){for(const t of s.Ra)await t(!1)}function DE(s,t){const i=Tt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Km(i)?Qm(i):uo(i).O_()&&Fm(i,t))}function Gm(s,t){const i=Tt(s),a=uo(i);i.Ia.delete(t),a.O_()&&OE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Js(i)&&i.Va.set("Unknown"))}function Fm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}uo(s).Z_(t)}function OE(s,t){s.da.$e(t),uo(s).X_(t)}function Qm(s){s.da=new Rw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),uo(s).start(),s.Va.ua()}function Km(s){return Js(s)&&!uo(s).x_()&&s.Ia.size>0}function Js(s){return Tt(s).Ea.size===0}function ME(s){s.da=void 0}async function V2(s){s.Va.set("Online")}async function k2(s){s.Ia.forEach(((t,i)=>{Fm(s,t)}))}async function U2(s,t){ME(s),Km(s)?(s.Va.ha(t),Qm(s)):s.Va.set("Unknown")}async function L2(s,t,i){if(s.Va.set("Online"),t instanceof pE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,t)}catch(a){rt(Qs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Wc(s,a)}else if(t instanceof Uc?s.da.Xe(t):t instanceof gE?s.da.st(t):s.da.tt(t),!i.isEqual(_t.min()))try{const a=await IE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const b=c.Ia.get(v);if(!b)return;c.Ia.set(v,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),OE(c,v);const A=new Kr(b.target,v,y,b.sequenceNumber);Fm(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){rt(Qs,"Failed to raise snapshot:",a),await Wc(s,a)}}async function Wc(s,t,i){if(!lo(t))throw t;s.Ea.add(1),await Gl(s),s.Va.set("Offline"),i||(i=()=>IE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(Qs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Eh(s)}))}function VE(s,t){return t().catch((i=>Wc(s,i,t)))}async function Th(s){const t=Tt(s),i=rs(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Nm;for(;P2(t);)try{const l=await _2(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,z2(t,l)}catch(l){await Wc(t,l)}kE(t)&&UE(t)}function P2(s){return Js(s)&&s.Ta.length<10}function z2(s,t){s.Ta.push(t);const i=rs(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function kE(s){return Js(s)&&!rs(s).x_()&&s.Ta.length>0}function UE(s){rs(s).start()}async function j2(s){rs(s).ra()}async function B2(s){const t=rs(s);for(const i of s.Ta)t.ea(i.mutations)}async function q2(s,t,i){const a=s.Ta.shift(),l=Lm.from(a,t,i);await VE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Th(s)}async function H2(s,t){t&&rs(s).Y_&&await(async function(a,l){if((function(d){return Sw(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();rs(a).B_(),await VE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Th(a)}})(s,t),kE(s)&&UE(s)}async function V0(s,t){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),rt(Qs,"RemoteStore received new credentials");const a=Js(i);i.Ea.add(3),await Gl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Eh(i)}async function G2(s,t){const i=Tt(s);t?(i.Ea.delete(2),await Eh(i)):t||(i.Ea.add(2),await Gl(i),i.Va.set("Unknown"))}function uo(s){return s.ma||(s.ma=(function(i,a,l){const c=Tt(i);return c.sa(),new C2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:V2.bind(null,s),Yo:k2.bind(null,s),t_:U2.bind(null,s),J_:L2.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Km(s)?Qm(s):s.Va.set("Unknown")):(await s.ma.stop(),ME(s))}))),s.ma}function rs(s){return s.fa||(s.fa=(function(i,a,l){const c=Tt(i);return c.sa(),new I2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:j2.bind(null,s),t_:H2.bind(null,s),ta:B2.bind(null,s),na:q2.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Th(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(Qs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Ym{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Ym(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(s,t){if(nr("AsyncQueue",`${t}: ${s}`),lo(s))return new ot($.UNAVAILABLE,`${t}: ${s}`);throw s}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=El(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class k0{constructor(){this.ga=new le(ft.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class io{constructor(t,i,a,l,c,d,p,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new io(t,i,Ka.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class F2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class Q2{constructor(){this.queries=U0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Tt(i),c=l.queries;l.queries=U0(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new ot($.ABORTED,"Firestore shutting down"))}}function U0(){return new Xs((s=>nE(s)),mh)}async function LE(s,t){const i=Tt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new F2,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Xm(d,`Initialization of query '${qa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Jm(i)}async function PE(s,t){const i=Tt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function K2(s,t){const i=Tt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&Jm(i)}function Y2(s,t,i){const a=Tt(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function Jm(s){s.Ca.forEach((t=>{t.next()}))}var gm,L0;(L0=gm||(gm={})).Ma="default",L0.Cache="cache";class zE{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new io(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=io.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==gm.Cache}}class jE{constructor(t){this.key=t}}class BE{constructor(t){this.key=t}}class X2{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.eu=iE(t),this.tu=new Ka(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new k0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,A)=>{const V=l.get(b),Q=gh(this.query,A)?A:null,W=!!V&&this.mutatedKeys.has(V.key),Z=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let tt=!1;V&&Q?V.data.isEqual(Q.data)?W!==Z&&(a.track({type:3,doc:Q}),tt=!0):this.su(V,Q)||(a.track({type:2,doc:Q}),tt=!0,(v&&this.eu(Q,v)>0||y&&this.eu(Q,y)<0)&&(p=!0)):!V&&Q?(a.track({type:0,doc:Q}),tt=!0):V&&!Q&&(a.track({type:1,doc:V}),tt=!0,(v||y)&&(p=!0)),tt&&(Q?(d=d.add(Q),c=Z?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(Q,W){const Z=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:tt})}};return Z(Q)-Z(W)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new io(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new k0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new BE(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new jE(a))})),i}cu(t){this.Za=t.ks,this.Ya=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const $m="SyncEngine";class J2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class $2{constructor(t){this.key=t,this.hu=!1}}class Z2{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Xs((p=>nE(p)),mh),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(ft.comparator),this.Au=new Map,this.Vu=new jm,this.du={},this.mu=new Map,this.fu=no.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function W2(s,t,i=!0){const a=KE(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await qE(a,t,i,!0),l}async function tR(s,t){const i=KE(s);await qE(i,t,!0,!1)}async function qE(s,t,i,a){const l=await v2(s.localStore,Ri(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await eR(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&DE(s.remoteStore,l),p}async function eR(s,t,i,a,l){s.pu=(A,V,Q)=>(async function(Z,tt,ut,dt){let ht=tt.view.ru(ut);ht.Ss&&(ht=await x0(Z.localStore,tt.query,!1).then((({documents:I})=>tt.view.ru(I,ht))));const bt=dt&&dt.targetChanges.get(tt.targetId),re=dt&&dt.targetMismatches.get(tt.targetId)!=null,Ut=tt.view.applyChanges(ht,Z.isPrimaryClient,bt,re);return z0(Z,tt.targetId,Ut.au),Ut.snapshot})(s,A,V,Q);const c=await x0(s.localStore,t,!0),d=new X2(t,c.ks),p=d.ru(c.documents),v=Hl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,v);z0(s,i,y.au);const b=new J2(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function nR(s,t,i){const a=Tt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!mh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await dm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Gm(a.remoteStore,l.targetId),pm(a,l.targetId)})).catch(oo)):(pm(a,l.targetId),await dm(a.localStore,l.targetId,!0))}async function iR(s,t){const i=Tt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Gm(i.remoteStore,a.targetId))}async function rR(s,t,i){const a=hR(s);try{const l=await(function(d,p){const v=Tt(d),y=ie.now(),b=p.reduce(((Q,W)=>Q.add(W.key)),Vt());let A,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let W=ir(),Z=Vt();return v.xs.getEntries(Q,b).next((tt=>{W=tt,W.forEach(((ut,dt)=>{dt.isValidDocument()||(Z=Z.add(ut))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,W))).next((tt=>{A=tt;const ut=[];for(const dt of p){const ht=_w(dt,A.get(dt.key).overlayedDocument);ht!=null&&ut.push(new os(dt.key,ht,Xv(ht.value.mapValue),bn.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,y,ut,p)})).next((tt=>{V=tt;const ut=tt.applyToLocalDocumentSet(A,Z);return v.documentOverlayCache.saveOverlays(Q,tt.batchId,ut)}))})).then((()=>({batchId:V.batchId,changes:sE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let y=d.du[d.currentUser.toKey()];y||(y=new le(Mt)),y=y.insert(p,v),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Fl(a,l.changes),await Th(a.remoteStore)}catch(l){const c=Xm(l,"Failed to persist write");i.reject(c)}}async function HE(s,t){const i=Tt(s);try{const a=await p2(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Fl(i,a,t)}catch(a){await oo(a)}}function P0(s,t,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=Tt(d);v.onlineState=p;let y=!1;v.queries.forEach(((b,A)=>{for(const V of A.ba)V.va(p)&&(y=!0)})),y&&Jm(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function sR(s,t,i){const a=Tt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new le(ft.comparator);d=d.insert(c,$e.newNoDocument(c,_t.min()));const p=Vt().add(c),v=new _h(_t.min(),new Map,new le(Mt),d,p);await HE(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),Zm(a)}else await dm(a.localStore,t,!1).then((()=>pm(a,t,i))).catch(oo)}async function aR(s,t){const i=Tt(s),a=t.batch.batchId;try{const l=await g2(i.localStore,t);FE(i,a,null),GE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Fl(i,l)}catch(l){await oo(l)}}async function oR(s,t,i){const a=Tt(s);try{const l=await(function(d,p){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return v.mutationQueue.lookupMutationBatch(y,p).next((A=>(Gt(A!==null,37113),b=A.keys(),v.mutationQueue.removeMutationBatch(y,A)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>v.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);FE(a,t,i),GE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Fl(a,l)}catch(l){await oo(l)}}function GE(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function FE(s,t,i){const a=Tt(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function pm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||QE(s,a)}))}function QE(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Gm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),Zm(s))}function z0(s,t,i){for(const a of i)a instanceof jE?(s.Vu.addReference(a.key,t),lR(s,a)):a instanceof BE?(rt($m,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||QE(s,a.key)):gt(19791,{wu:a})}function lR(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(rt($m,"New document in limbo: "+i),s.Eu.add(a),Zm(s))}function Zm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ft(ne.fromString(t)),a=s.fu.next();s.Au.set(a,new $2(i)),s.Ru=s.Ru.insert(i,a),DE(s.remoteStore,new Kr(Ri(dh(i.path)),a,"TargetPurposeLimboResolution",uh.ce))}}async function Fl(s,t,i){const a=Tt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(y){l.push(y);const b=qm.Es(v.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,y){const b=Tt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(y,(V=>J.forEach(V.Ts,(Q=>b.persistence.referenceDelegate.addReference(A,V.targetId,Q))).next((()=>J.forEach(V.Is,(Q=>b.persistence.referenceDelegate.removeReference(A,V.targetId,Q)))))))))}catch(A){if(!lo(A))throw A;rt(Hm,"Failed to update sequence numbers: "+A)}for(const A of y){const V=A.targetId;if(!A.fromCache){const Q=b.vs.get(V),W=Q.snapshotVersion,Z=Q.withLastLimboFreeSnapshotVersion(W);b.vs=b.vs.insert(V,Z)}}})(a.localStore,c))}async function uR(s,t){const i=Tt(s);if(!i.currentUser.isEqual(t)){rt($m,"User change. New user:",t.toKey());const a=await CE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new ot($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Fl(i,a.Ns)}}function cR(s,t){const i=Tt(s),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function KE(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=HE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sR.bind(null,t),t.Pu.J_=K2.bind(null,t.eventManager),t.Pu.yu=Y2.bind(null,t.eventManager),t}function hR(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oR.bind(null,t),t}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return m2(this.persistence,new h2,t.initialUser,this.serializer)}Cu(t){return new RE(Bm.Vi,this.serializer)}Du(t){return new T2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class fR extends th{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof Zc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Jw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new RE((a=>Zc.Vi(a,i)),this.serializer)}}class ym{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>P0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=uR.bind(null,this.syncEngine),await G2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Q2})()}createDatastore(t){const i=vh(t.databaseInfo.databaseId),a=R2(t.databaseInfo);return D2(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new M2(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>P0(this.syncEngine,i,0)),(function(){return O0.v()?new O0:new b2})())}createSyncEngine(t,i){return(function(l,c,d,p,v,y,b){const A=new Z2(l,c,d,p,v,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);rt(Qs,"RemoteStore shutting down."),a.Ea.add(5),await Gl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};class YE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):nr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ss="FirestoreClient";class dR{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=Im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(ss,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(ss,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Xm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Fd(s,t){s.asyncQueue.verifyOperationInProgress(),rt(ss,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await CE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function j0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await mR(s);rt(ss,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>V0(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>V0(t.remoteStore,l))),s._onlineComponents=t}async function mR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(ss,"Using user provided OfflineComponentProvider");try{await Fd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Fs("Error using user provided cache. Falling back to memory cache: "+i),await Fd(s,new th)}}else rt(ss,"Using default OfflineComponentProvider"),await Fd(s,new fR(void 0));return s._offlineComponents}async function XE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(ss,"Using user provided OnlineComponentProvider"),await j0(s,s._uninitializedComponentsProvider._online)):(rt(ss,"Using default OnlineComponentProvider"),await j0(s,new ym))),s._onlineComponents}function gR(s){return XE(s).then((t=>t.syncEngine))}async function _m(s){const t=await XE(s),i=t.eventManager;return i.onListen=W2.bind(null,t.syncEngine),i.onUnlisten=nR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=tR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=iR.bind(null,t.syncEngine),i}function pR(s,t,i,a){const l=new YE(a),c=new zE(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>LE(await _m(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>PE(await _m(s),c)))}}function yR(s,t,i={}){const a=new Zr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,y){const b=new YE({next:V=>{b.Nu(),d.enqueueAndForget((()=>PE(c,A)));const Q=V.docs.has(p);!Q&&V.fromCache?y.reject(new ot($.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&V.fromCache&&v&&v.source==="server"?y.reject(new ot($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(V)},error:V=>y.reject(V)}),A=new zE(dh(p.path),b,{includeMetadataChanges:!0,Ka:!0});return LE(c,A)})(await _m(s),s.asyncQueue,t,i,a))),a.promise}function _R(s,t){const i=new Zr;return s.asyncQueue.enqueueAndForget((async()=>rR(await gR(s),t,i))),i.promise}function JE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const vR="ComponentProvider",B0=new Map;function ER(s,t,i,a,l){return new zA(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,JE(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const $E="firestore.googleapis.com",q0=!0;class H0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$E,this.ssl=q0}else this.host=t.host,this.ssl=t.ssl??q0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Yw)throw new ot($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}IA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new _A;switch(a.type){case"firstParty":return new bA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=B0.get(i);a&&(rt(vR,"Removing Datastore"),B0.delete(i),a.terminate())})(this),Promise.resolve()}}function TR(s,t,i,a={}){s=ti(s,bh);const l=ro(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(bv(`https://${p}`),Sv("Firestore",!0)),c.host!==$E&&c.host!==p&&Fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:l,emulatorOptions:a};if(!qs(v,d)&&(s._setSettings(v),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=Je.MOCK_USER;else{y=qb(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ot($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Je(A)}s._authCredentials=new vA(new Lv(y,b))}}class Sh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Sh(this.firestore,t,this._query)}}class ye{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ye(this.firestore,t,this._key)}toJSON(){return{type:ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Bl(i,ye._jsonSchema))return new ye(t,a||null,new ft(ne.fromString(i.referencePath)))}}ye._jsonSchemaVersion="firestore/documentReference/1.0",ye._jsonSchema={type:Ie("string",ye._jsonSchemaVersion),referencePath:Ie("string")};class Wr extends Sh{constructor(t,i,a){super(t,i,dh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ye(this.firestore,null,new ft(t))}withConverter(t){return new Wr(this.firestore,t,this._path)}}function bR(s,t,...i){if(s=Pe(s),Pv("collection","path",t),s instanceof bh){const a=ne.fromString(t,...i);return i0(a),new Wr(s,null,a)}{if(!(s instanceof ye||s instanceof Wr))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ne.fromString(t,...i));return i0(a),new Wr(s.firestore,null,a)}}function wi(s,t,...i){if(s=Pe(s),arguments.length===1&&(t=Im.newId()),Pv("doc","path",t),s instanceof bh){const a=ne.fromString(t,...i);return n0(a),new ye(s,null,new ft(a))}{if(!(s instanceof ye||s instanceof Wr))throw new ot($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ne.fromString(t,...i));return n0(a),new ye(s.firestore,s instanceof Wr?s.converter:null,new ft(a))}}const G0="AsyncQueue";class F0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xE(this,"async_queue_retry"),this._c=()=>{const a=Gd();a&&rt(G0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!lo(t))throw t;rt(G0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,nr("INTERNAL UNHANDLED ERROR: ",Q0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Ym.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:Q0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Q0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Ks extends bh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new F0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new F0(t),this._firestoreClient=void 0,await t}}}function SR(s,t){const i=typeof s=="object"?s:Cv(),a=typeof s=="string"?s:Qc,l=Rm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=jb("firestore");c&&TR(l,...c)}return l}function Ah(s){if(s._terminated)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||AR(s),s._firestoreClient}function AR(s){const t=s._freezeSettings(),i=ER(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new dR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(Ke.fromBase64String(t))}catch(i){throw new ot($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new zn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bl(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Ie("string",zn._jsonSchemaVersion),bytes:Ie("string")};class wh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Rh{constructor(t){this._methodName=t}}class Ii{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(t){if(Bl(t,Ii._jsonSchema))return new Ii(t.latitude,t.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Ie("string",Ii._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class ei{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bl(t,ei._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ei(t.vectorValues);throw new ot($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Ie("string",ei._jsonSchemaVersion),vectorValues:Ie("object")};const wR=/^__.*__$/;class RR{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new os(t,this.data,this.fieldMask,i,this.fieldTransforms):new ql(t,this.data,i,this.fieldTransforms)}}class ZE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new os(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function WE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:s})}}class Wm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Wm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return eh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(WE(this.dataSource)&&wR.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class CR{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||vh(t)}createContext(t,i,a,l=!1){return new Wm({dataSource:t,methodName:i,targetDoc:a,path:Qe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tg(s){const t=s._freezeSettings(),i=vh(s._databaseId);return new CR(s._databaseId,!!t.ignoreUndefinedProperties,i)}function tT(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);ng("Data must be an object, but it was:",d,a);const p=iT(a,d);let v,y;if(c.merge)v=new Tn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const V=Ll(t,A,i);if(!d.contains(V))throw new ot($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);aT(b,V)||b.push(V)}v=new Tn(b),y=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,y=d.fieldTransforms;return new RR(new hn(p),v,y)}class Ch extends Rh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ch}}class eg extends Rh{_toFieldTransform(t){return new mw(t.path,new Vl)}isEqual(t){return t instanceof eg}}function eT(s,t,i,a){const l=s.createContext(1,t,i);ng("Data must be an object, but it was:",l,a);const c=[],d=hn.empty();as(a,((v,y)=>{const b=sT(t,v,i);y=Pe(y);const A=l.childContextForFieldPath(b);if(y instanceof Ch)c.push(b);else{const V=Ih(y,A);V!=null&&(c.push(b),d.set(b,V))}}));const p=new Tn(c);return new ZE(d,p,l.fieldTransforms)}function nT(s,t,i,a,l,c){const d=s.createContext(1,t,i),p=[Ll(t,a,i)],v=[l];if(c.length%2!=0)throw new ot($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(Ll(t,c[V])),v.push(c[V+1]);const y=[],b=hn.empty();for(let V=p.length-1;V>=0;--V)if(!aT(y,p[V])){const Q=p[V];let W=v[V];W=Pe(W);const Z=d.childContextForFieldPath(Q);if(W instanceof Ch)y.push(Q);else{const tt=Ih(W,Z);tt!=null&&(y.push(Q),b.set(Q,tt))}}const A=new Tn(y);return new ZE(b,A,d.fieldTransforms)}function Ih(s,t){if(rT(s=Pe(s)))return ng("Unsupported field value:",t,s),iT(s,t);if(s instanceof Rh)return(function(a,l){if(!WE(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let v=Ih(p,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Pe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return hw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ie.fromDate(a);return{timestampValue:$c(l.serializer,c)}}if(a instanceof ie){const c=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:$c(l.serializer,c)}}if(a instanceof Ii)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof zn)return{bytesValue:yE(l.serializer,a._byteString)};if(a instanceof ye){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ei)return(function(d,p){const v=d instanceof ei?d.toArray():d;return{mapValue:{fields:{[Kv]:{stringValue:Yv},[Kc]:{arrayValue:{values:v.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return km(p.serializer,b)}))}}}}}})(a,l);if(AE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${xm(a)}`)})(s,t)}function iT(s,t){const i={};return Bv(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):as(s,((a,l)=>{const c=Ih(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function rT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ie||s instanceof Ii||s instanceof zn||s instanceof ye||s instanceof Rh||s instanceof ei||AE(s))}function ng(s,t,i){if(!rT(i)||!zv(i)){const a=xm(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function Ll(s,t,i){if((t=Pe(t))instanceof wh)return t._internalPath;if(typeof t=="string")return sT(s,t);throw eh("Field path arguments must be of type string or ",s,!1,void 0,i)}const IR=new RegExp("[~\\*/\\[\\]]");function sT(s,t,i){if(t.search(IR)>=0)throw eh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new wh(...t.split("."))._internalPath}catch{throw eh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function eh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new ot($.INVALID_ARGUMENT,p+s+v)}function aT(s,t){return s.some((i=>i.isEqual(t)))}class xR{convertValue(t,i="none"){switch(is(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ns(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return as(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Kc].arrayValue?.values?.map((a=>pe(a.doubleValue)));return new ei(i)}convertGeoPoint(t){return new Ii(pe(t.latitude),pe(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=hh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Dl(t));default:return null}}convertTimestamp(t){const i=es(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ne.fromString(t);Gt(SE(a),9688,{name:t});const l=new Ol(a.get(1),a.get(3)),c=new ft(a.popFirst(5));return l.isEqual(i)||nr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class oT extends xR{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ye(this.firestore,null,i)}}function NR(){return new eg("serverTimestamp")}const K0="@firebase/firestore",Y0="4.11.0";function X0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class lT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Ll("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class DR extends lT{data(){return super.data()}}function OR(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ot($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function uT(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}class bl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Bs extends lT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Ll("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Bs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bs._jsonSchema={type:Ie("string",Bs._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Lc extends Bs{data(t={}){return super.data(t)}}class Ya{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new bl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Lc(this._firestore,this._userDataWriter,a.key,a,new bl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Lc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Lc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:MR(p.type),doc:v,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ya._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Im.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function MR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:Ie("string",Ya._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class VR{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=tg(t)}set(t,i,a){this._verifyNotCommitted();const l=Qd(t,this._firestore),c=uT(l.converter,i,a),d=tT(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,a);return this._mutations.push(d.toMutation(l._key,bn.none())),this}update(t,i,a,...l){this._verifyNotCommitted();const c=Qd(t,this._firestore);let d;return d=typeof(i=Pe(i))=="string"||i instanceof wh?nT(this._dataReader,"WriteBatch.update",c._key,i,a,l):eT(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,bn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=Qd(t,this._firestore);return this._mutations=this._mutations.concat(new Um(i._key,bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ot($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qd(s,t){if((s=Pe(s)).firestore!==t)throw new ot($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function kR(s){s=ti(s,ye);const t=ti(s.firestore,Ks),i=Ah(t);return yR(i,s._key).then((a=>cT(t,s,a)))}function Pc(s,t,i){s=ti(s,ye);const a=ti(s.firestore,Ks),l=uT(s.converter,t,i),c=tg(a);return ig(a,[tT(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,bn.none())])}function vm(s,t,i,...a){s=ti(s,ye);const l=ti(s.firestore,Ks),c=tg(l);let d;return d=typeof(t=Pe(t))=="string"||t instanceof wh?nT(c,"updateDoc",s._key,t,i,a):eT(c,"updateDoc",s._key,t),ig(l,[d.toMutation(s._key,bn.exists(!0))])}function J0(s,...t){s=Pe(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||X0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(X0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof ye)d=ti(s.firestore,Ks),p=dh(s._key.path),c={next:y=>{t[a]&&t[a](cT(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=ti(s,Sh);d=ti(y.firestore,Ks),p=y._query;const b=new oT(d);c={next:A=>{t[a]&&t[a](new Ya(d,b,y,A))},error:t[a+1],complete:t[a+2]},OR(s._query)}const v=Ah(d);return pR(v,p,l,c)}function ig(s,t){const i=Ah(s);return _R(i,t)}function cT(s,t,i){const a=i.docs.get(t._key),l=new oT(s);return new Bs(s,l,t._key,a,new bl(i.hasPendingWrites,i.fromCache),t.converter)}function UR(s){return s=ti(s,Ks),Ah(s),new VR(s,(t=>ig(s,t)))}(function(t,i=!0){yA(so),Za(new Hs("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Ks(new EA(a.getProvider("auth-internal")),new SA(d,a.getProvider("app-check-internal")),jA(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Jr(K0,Y0,t),Jr(K0,Y0,"esm2020")})();function hT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LR=hT,fT=new zl("auth","Firebase",hT());const nh=new Am("@firebase/auth");function PR(s,...t){nh.logLevel<=Ot.WARN&&nh.warn(`Auth (${so}): ${s}`,...t)}function zc(s,...t){nh.logLevel<=Ot.ERROR&&nh.error(`Auth (${so}): ${s}`,...t)}function rr(s,...t){throw rg(s,...t)}function xi(s,...t){return rg(s,...t)}function dT(s,t,i){const a={...LR(),[t]:i};return new zl("auth","Firebase",a).create(t,{appName:s.name})}function tr(s){return dT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rg(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return fT.create(s,...t)}function pt(s,t,...i){if(!s)throw rg(t,...i)}function Zi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw zc(t),new Error(t)}function sr(s,t){s||Zi(t)}function Em(){return typeof self<"u"&&self.location?.href||""}function zR(){return $0()==="http:"||$0()==="https:"}function $0(){return typeof self<"u"&&self.location?.protocol||null}function jR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zR()||Yb()||"connection"in navigator)?navigator.onLine:!0}function BR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,sr(i>t,"Short delay should be less than long delay!"),this.isMobile=Fb()||Xb()}get(){return jR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sg(s,t){sr(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class mT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const HR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GR=new Ql(3e4,6e4);function Kl(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function co(s,t,i,a,l={}){return gT(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=jl({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:v,...c};return Kb()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&ro(s.emulatorConfig.host)&&(y.credentials="include"),mT.fetch()(await pT(s,s.config.apiHost,i,p),y)})}async function gT(s,t,i){s._canInitEmulator=!1;const a={...qR,...t};try{const l=new FR(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Dc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Dc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Dc(s,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw dT(s,b,y);rr(s,b)}}catch(l){if(l instanceof or)throw l;rr(s,"network-request-failed",{message:String(l)})}}async function ag(s,t,i,a,l={}){const c=await co(s,t,i,a,l);return"mfaPendingCredential"in c&&rr(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function pT(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?sg(s.config,l):`${s.config.apiScheme}://${l}`;return HR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class FR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(xi(this.auth,"network-request-failed")),GR.get())})}}function Dc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=xi(s,t,a);return l.customData._tokenResponse=i,l}async function QR(s,t){return co(s,"POST","/v1/accounts:delete",t)}async function ih(s,t){return co(s,"POST","/v1/accounts:lookup",t)}function Il(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function KR(s,t=!1){const i=Pe(s),a=await i.getIdToken(t),l=og(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Il(Kd(l.auth_time)),issuedAtTime:Il(Kd(l.iat)),expirationTime:Il(Kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Kd(s){return Number(s)*1e3}function og(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const l=_v(i);return l?JSON.parse(l):(zc("Failed to decode base64 JWT payload"),null)}catch(l){return zc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Z0(s){const t=og(s);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Pl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof or&&YR(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function YR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class XR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rh(s){const t=s.auth,i=await s.getIdToken(),a=await Pl(s,ih(t,{idToken:i}));pt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?yT(l.providerUserInfo):[],d=$R(s.providerData,c),p=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,y=p?v:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Tm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function JR(s){const t=Pe(s);await rh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function $R(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function yT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function ZR(s,t){const i=await gT(s,{},async()=>{const a=jl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await pT(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return s.emulatorConfig&&ro(s.emulatorConfig.host)&&(v.credentials="include"),mT.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function WR(s,t){return co(s,"POST","/v2/accounts:revokeToken",Kl(s,t))}class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Z0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=Z0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await ZR(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Xa;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function Br(s,t){pt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new XR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Pl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return KR(this,t)}reload(){return JR(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await rh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(tr(this.auth));const t=await this.getIdToken();return await Pl(this,QR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:V,isAnonymous:Q,providerData:W,stsTokenManager:Z}=i;pt(A&&Z,t,"internal-error");const tt=Xa.fromJSON(this.name,Z);pt(typeof A=="string",t,"internal-error"),Br(a,t.name),Br(l,t.name),pt(typeof V=="boolean",t,"internal-error"),pt(typeof Q=="boolean",t,"internal-error"),Br(c,t.name),Br(d,t.name),Br(p,t.name),Br(v,t.name),Br(y,t.name),Br(b,t.name);const ut=new Wn({uid:A,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:y,lastLoginAt:b});return W&&Array.isArray(W)&&(ut.providerData=W.map(dt=>({...dt}))),v&&(ut._redirectEventId=v),ut}static async _fromIdTokenResponse(t,i,a=!1){const l=new Xa;l.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await rh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?yT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Xa;p.updateFromIdToken(a);const v=new Wn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const W0=new Map;function Wi(s){sr(s instanceof Function,"Expected a class definition");let t=W0.get(s);return t?(sr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,W0.set(s,t),t)}class _T{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}_T.type="NONE";const tv=_T;function jc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ja{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=jc(this.userKey,l.apiKey,c),this.fullPersistenceKey=jc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ih(this.auth,{idToken:t}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ja(Wi(tv),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Wi(tv);const d=jc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let A;if(typeof b=="string"){const V=await ih(t,{idToken:b}).catch(()=>{});if(!V)break;A=await Wn._fromGetAccountInfoResponse(t,V,b)}else A=Wn._fromJSON(t,b);y!==c&&(p=A),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ja(c,t,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ja(c,t,a))}}function ev(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(AT(t))return"Blackberry";if(wT(t))return"Webos";if(ET(t))return"Safari";if((t.includes("chrome/")||TT(t))&&!t.includes("edge/"))return"Chrome";if(ST(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function vT(s=Ze()){return/firefox\//i.test(s)}function ET(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function TT(s=Ze()){return/crios\//i.test(s)}function bT(s=Ze()){return/iemobile/i.test(s)}function ST(s=Ze()){return/android/i.test(s)}function AT(s=Ze()){return/blackberry/i.test(s)}function wT(s=Ze()){return/webos/i.test(s)}function lg(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function tC(s=Ze()){return lg(s)&&!!window.navigator?.standalone}function eC(){return Jb()&&document.documentMode===10}function RT(s=Ze()){return lg(s)||ST(s)||wT(s)||AT(s)||/windows phone/i.test(s)||bT(s)}function CT(s,t=[]){let i;switch(s){case"Browser":i=ev(Ze());break;case"Worker":i=`${ev(Ze())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${so}/${a}`}class nC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function iC(s,t={}){return co(s,"GET","/v2/passwordPolicy",Kl(s,t))}const rC=6;class sC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??rC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class aC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nv(this),this.idTokenSubscription=new nv(this),this.beforeStateQueue=new nC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Wi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ja.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ih(this,{idToken:t}),a=await Wn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Pn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await rh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=BR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Pn(this.app))return Promise.reject(tr(this));const i=t?Pe(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Pn(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await iC(this),i=new sC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await WR(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Wi(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[Wi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=CT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&PR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Yl(s){return Pe(s)}class nv{constructor(t){this.auth=t,this.observer=null,this.addObserver=rS(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ug={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oC(s){ug=s}function lC(s){return ug.loadJS(s)}function uC(){return ug.gapiScript}function cC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function hC(s,t){const i=Rm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(qs(c,t??{}))return l;rr(l,"already-initialized")}return i.initialize({options:t})}function fC(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Wi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function dC(s,t,i){const a=Yl(s);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=IT(t),{host:d,port:p}=mC(t),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(qs(y,a.config.emulator)&&qs(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,ro(d)?(bv(`${c}//${d}${v}`),Sv("Auth",!0)):gC()}function IT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function mC(s){const t=IT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:iv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:iv(d)}}}function iv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function gC(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class xT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function $a(s,t){return ag(s,"POST","/v1/accounts:signInWithIdp",Kl(s,t))}const pC="http://localhost";class Ys extends xT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ys(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):rr("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Ys(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return $a(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,$a(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,$a(t,i)}buildRequest(){const t={requestUri:pC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=jl(i)}return t}}class NT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Xl extends NT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Hr extends Xl{constructor(){super("facebook.com")}static credential(t){return Ys._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hr.credential(t.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";class Gr extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ys._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Gr.credential(i,a)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";class Fr extends Xl{constructor(){super("github.com")}static credential(t){return Ys._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";class Qr extends Xl{constructor(){super("twitter.com")}static credential(t,i){return Ys._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Qr.credential(i,a)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";async function yC(s,t){return ag(s,"POST","/v1/accounts:signUp",Kl(s,t))}class ar{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Wn._fromIdTokenResponse(t,a,l),d=rv(a);return new ar({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=rv(a);return new ar({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function rv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function _C(s){if(Pn(s.app))return Promise.reject(tr(s));const t=Yl(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ar({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await yC(t,{returnSecureToken:!0}),a=await ar._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class sh extends or{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new sh(t,i,a,l)}}function DT(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(s,c,t,a):c})}async function vC(s,t,i=!1){const a=await Pl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ar._forOperation(s,"link",a)}async function EC(s,t,i=!1){const{auth:a}=s;if(Pn(a.app))return Promise.reject(tr(a));const l="reauthenticate";try{const c=await Pl(s,DT(a,l,t,s),i);pt(c.idToken,a,"internal-error");const d=og(c.idToken);pt(d,a,"internal-error");const{sub:p}=d;return pt(s.uid===p,a,"user-mismatch"),ar._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&rr(a,"user-mismatch"),c}}async function TC(s,t,i=!1){if(Pn(s.app))return Promise.reject(tr(s));const a="signIn",l=await DT(s,a,t),c=await ar._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function bC(s,t){return ag(s,"POST","/v1/accounts:signInWithCustomToken",Kl(s,t))}async function SC(s,t){if(Pn(s.app))return Promise.reject(tr(s));const i=Yl(s),a=await bC(i,{token:t,returnSecureToken:!0}),l=await ar._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function AC(s,t,i,a){return Pe(s).onIdTokenChanged(t,i,a)}function wC(s,t,i){return Pe(s).beforeAuthStateChanged(t,i)}function RC(s,t,i,a){return Pe(s).onAuthStateChanged(t,i,a)}const ah="__sak";class OT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const CC=1e3,IC=10;class MT extends OT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);eC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,IC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},CC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}MT.type="LOCAL";const xC=MT;class VT extends OT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}VT.type="SESSION";const kT=VT;function NC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class xh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new xh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await NC(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];function cg(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class DC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=cg("",20);l.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const V=A;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function OC(s){Ni().location.href=s}function UT(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function MC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VC(){return navigator?.serviceWorker?.controller||null}function kC(){return UT()?self:null}const LT="firebaseLocalStorageDb",UC=1,oh="firebaseLocalStorage",PT="fbase_key";class Jl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Nh(s,t){return s.transaction([oh],t?"readwrite":"readonly").objectStore(oh)}function LC(){const s=indexedDB.deleteDatabase(LT);return new Jl(s).toPromise()}function bm(){const s=indexedDB.open(LT,UC);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(oh,{keyPath:PT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(oh)?t(a):(a.close(),await LC(),t(await bm()))})})}async function sv(s,t,i){const a=Nh(s,!0).put({[PT]:t,value:i});return new Jl(a).toPromise()}async function PC(s,t){const i=Nh(s,!1).get(t),a=await new Jl(i).toPromise();return a===void 0?null:a.value}function av(s,t){const i=Nh(s,!0).delete(t);return new Jl(i).toPromise()}const zC=800,jC=3;class zT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>jC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(kC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MC(),!this.activeServiceWorker)return;this.sender=new DC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||VC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await bm();return await sv(t,ah,"1"),await av(t,ah),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>sv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>PC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>av(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Nh(l,!1).getAll();return new Jl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zT.type="LOCAL";const BC=zT;new Ql(3e4,6e4);function qC(s,t){return t?Wi(t):(pt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class hg extends xT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,i){return $a(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function HC(s){return TC(s.auth,new hg(s),s.bypassAuthState)}function GC(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),EC(i,new hg(s),s.bypassAuthState)}async function FC(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),vC(i,new hg(s),s.bypassAuthState)}class jT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return HC;case"linkViaPopup":case"linkViaRedirect":return FC;case"reauthViaPopup":case"reauthViaRedirect":return GC;default:rr(this.auth,"internal-error")}}resolve(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const QC=new Ql(2e3,1e4);class Fa extends jT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const t=cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,QC.get())};t()}}Fa.currentPopupAction=null;const KC="pendingRedirect",Bc=new Map;class YC extends jT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Bc.get(this.auth._key());if(!t){try{const a=await XC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Bc.set(this.auth._key(),t)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XC(s,t){const i=ZC(t),a=$C(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function JC(s,t){Bc.set(s._key(),t)}function $C(s){return Wi(s._redirectPersistence)}function ZC(s){return jc(KC,s.config.apiKey,s.name)}async function WC(s,t,i=!1){if(Pn(s.app))return Promise.reject(tr(s));const a=Yl(s),l=qC(a,t),d=await new YC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const tI=600*1e3;class eI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!nI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!BT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(xi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=tI&&this.cachedEventUids.clear(),this.cachedEventUids.has(ov(t))}saveEventToCache(t){this.cachedEventUids.add(ov(t)),this.lastProcessedEventTime=Date.now()}}function ov(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function BT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function nI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BT(s);default:return!1}}async function iI(s,t={}){return co(s,"GET","/v1/projects",t)}const rI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sI=/^https?/;async function aI(s){if(s.config.emulator)return;const{authorizedDomains:t}=await iI(s);for(const i of t)try{if(oI(i))return}catch{}rr(s,"unauthorized-domain")}function oI(s){const t=Em(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!sI.test(i))return!1;if(rI.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const lI=new Ql(3e4,6e4);function lv(){const s=Ni().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function uI(s){return new Promise((t,i)=>{function a(){lv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{lv(),i(xi(s,"network-request-failed"))},timeout:lI.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)a();else{const l=cC("iframefcb");return Ni()[l]=()=>{gapi.load?a():i(xi(s,"network-request-failed"))},lC(`${uC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw qc=null,t})}let qc=null;function cI(s){return qc=qc||uI(s),qc}const hI=new Ql(5e3,15e3),fI="__/auth/iframe",dI="emulator/auth/iframe",mI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pI(s){const t=s.config;pt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?sg(t,dI):`https://${s.config.authDomain}/${fI}`,a={apiKey:t.apiKey,appName:s.name,v:so},l=gI.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${jl(a).slice(1)}`}async function yI(s){const t=await cI(s),i=Ni().gapi;return pt(i,s,"internal-error"),t.open({where:document.body,url:pI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mI,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=xi(s,"network-request-failed"),p=Ni().setTimeout(()=>{c(d)},hI.get());function v(){Ni().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const _I={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vI=500,EI=600,TI="_blank",bI="http://localhost";class uv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SI(s,t,i,a=vI,l=EI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={..._I,width:a.toString(),height:l.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(p=TT(y)?TI:i),vT(y)&&(t=t||bI,v.scrollbars="yes");const b=Object.entries(v).reduce((V,[Q,W])=>`${V}${Q}=${W},`,"");if(tC(y)&&p!=="_self")return AI(t||"",p),new uv(null);const A=window.open(t||"",p,b);pt(A,s,"popup-blocked");try{A.focus()}catch{}return new uv(A)}function AI(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const wI="__/auth/handler",RI="emulator/auth/handler",CI=encodeURIComponent("fac");async function cv(s,t,i,a,l,c){pt(s.config.authDomain,s,"auth-domain-config-required"),pt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:so,eventId:l};if(t instanceof NT){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",iS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof Xl){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const v=await s._getAppCheckToken(),y=v?`#${CI}=${encodeURIComponent(v)}`:"";return`${II(s)}?${jl(p).slice(1)}${y}`}function II({config:s}){return s.emulator?sg(s,RI):`https://${s.authDomain}/${wI}`}const Yd="webStorageSupport";class xI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kT,this._completeRedirectFn=WC,this._overrideRedirectResult=JC}async _openPopup(t,i,a,l){sr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await cv(t,i,a,Em(),l);return SI(t,c,cg())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await cv(t,i,a,Em(),l);return OC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(sr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await yI(t),a=new eI(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Yd,{type:Yd},l=>{const c=l?.[0]?.[Yd];c!==void 0&&i(!!c),rr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=aI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return RT()||ET()||lg()}}const NI=xI;var hv="@firebase/auth",fv="1.12.0";class DI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function OI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MI(s){Za(new Hs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CT(s)},y=new aC(a,l,c,v);return fC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Za(new Hs("auth-internal",t=>{const i=Yl(t.getProvider("auth").getImmediate());return(a=>new DI(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(hv,fv,OI(s)),Jr(hv,fv,"esm2020")}const VI=300,kI=Tv("authIdTokenMaxAge")||VI;let dv=null;const UI=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>kI)return;const l=i?.token;dv!==l&&(dv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function LI(s=Cv()){const t=Rm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=hC(s,{popupRedirectResolver:NI,persistence:[BC,xC,kT]}),a=Tv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=UI(c.toString());wC(i,d,()=>d(i.currentUser)),AC(i,p=>d(p))}}const l=vv("auth");return l&&dC(i,`http://${l}`),i}function PI(){return document.getElementsByTagName("head")?.[0]??document}oC({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=xi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",PI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MI("Browser");const qT=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const zI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const jI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const mv=s=>{const t=jI(s);return t.charAt(0).toUpperCase()+t.slice(1)};var BI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qI=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const HI=Yt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},v)=>Yt.createElement("svg",{ref:v,...BI,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:qT("lucide",l),...!c&&!qI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,b])=>Yt.createElement(y,b)),...Array.isArray(c)?c:[c]]));const Sn=(s,t)=>{const i=Yt.forwardRef(({className:a,...l},c)=>Yt.createElement(HI,{ref:c,iconNode:t,className:qT(`lucide-${zI(mv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=mv(s),i};const GI=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],FI=Sn("arrow-down",GI);const QI=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],KI=Sn("chart-pie",QI);const YI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],XI=Sn("circle-check-big",YI);const JI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$I=Sn("circle-x",JI);const ZI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],WI=Sn("clock",ZI);const tx=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],HT=Sn("crown",tx);const ex=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],GT=Sn("gift",ex);const nx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ix=Sn("loader-circle",nx);const rx=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],sx=Sn("party-popper",rx);const ax=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ox=Sn("send",ax);const lx=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],ux=Sn("skip-forward",lx);const cx=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],hx=Sn("star",cx);const fx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],dx=Sn("trash-2",fx),mx={apiKey:"AIzaSyCuhIpxtvxVux4JhMKvF89JTvs7-MiKK6Q",authDomain:"spa-activity.firebaseapp.com",projectId:"spa-activity",storageBucket:"spa-activity.firebasestorage.app",messagingSenderId:"8554093402",appId:"1:8554093402:web:f21469855b0f24eda4f163",measurementId:"G-7NVTFPQGR0"},gx=typeof __firebase_config<"u"?JSON.parse(__firebase_config):mx,FT=Rv(gx),Xd=LI(FT),Ln=SR(FT),Zn=typeof __app_id<"u"?__app_id:"spring-quiz-2026",qr=[{q:" 2 ",a:[" & "," & "," & "," & "],correct:2},{q:"",a:["2  23 "," 10 ","2  26 ","2  10 "],correct:1},{q:"2026 ",a:[" "," "," "," "],correct:3},{q:"",a:[`9F-2 NO. 206, SEC2,
NANJING EAST ROAD, TAIPEI`,`9F-2 NO. 206, SEC2,
NENJING EAST ROAD, TAIPEI`],correct:0},{q:"",a:["3","5","7","9"],correct:3},{q:" 2 ",a:["3","5","7","9"],correct:1},{q:" Sherry ",a:["5","10","20","50"],correct:0},{q:"3  2  & ",a:["Patty & Alice","Patty & Daisy"," & Sherry","Lory & Sherry"],correct:1},{q:"",a:["Panasonic","SAMPO","Whirpool","TOSHIBA"],correct:2},{q:"",a:["","","",""],correct:3},{q:"",a:["","","",""],correct:0},{q:"",a:["","","",""],correct:[0,1,2,3]}],px=[{name:"",prize:" 5,000 "},{name:"",prize:" 3,000 "},{name:"",prize:" 2,000 "},{name:"",prize:" 2,000 "},{name:"",prize:" "},{name:"",prize:" 1,000 "},{name:"",prize:"SOGO 3,000 "},{name:"",prize:" 2,000 "},{name:"",prize:" 3,600 "},{name:"",prize:" 1,600 "},{name:"",prize:" 1,000 "},{name:"",prize:" 2,000 "}],gv=["8888","6666","3600","2000","1200","600","","",""],yx=()=>M.jsx("style",{children:`
    @keyframes borderShake {
      0% { transform: translate(0, 0); }
      25% { transform: translate(4px, 4px); }
      50% { transform: translate(-4px, -4px); }
      75% { transform: translate(4px, -4px); }
      100% { transform: translate(0, 0); }
    }
    .shake-border-active {
      border: 8px solid #ef4444;
      animation: borderShake 0.1s infinite;
      z-index: 50;
      pointer-events: none;
    }
  `}),Jd=()=>M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"absolute top-2 left-2 w-6 h-6 border-t-2 border-l-2 border-yellow-400/50 pointer-events-none"}),M.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 border-t-2 border-r-2 border-yellow-400/50 pointer-events-none"}),M.jsx("div",{className:"absolute bottom-2 left-2 w-6 h-6 border-b-2 border-l-2 border-yellow-400/50 pointer-events-none"}),M.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 border-b-2 border-r-2 border-yellow-400/50 pointer-events-none"})]}),_x=({players:s})=>M.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none pt-40 pb-40",children:[M.jsx("style",{children:`
      @keyframes floatUpDown {
        0%, 100% { transform: translateY(0px) rotate(var(--rot)); }
        50% { transform: translateY(-30px) rotate(var(--rot)); }
      }
      .word-item { animation: floatUpDown var(--dur) ease-in-out infinite; }
    `}),s.slice(0,9).map((t,i)=>M.jsxs("div",{className:"word-item absolute flex flex-col items-center justify-center text-center w-40",style:{top:`${i*15%45+30}%`,left:`${i*24%65+10}%`,"--rot":`${i%2===0?3:-3}deg`,"--dur":`${4+i%3}s`,animationDelay:`${i*.3}s`},children:[M.jsx("span",{className:"font-black text-yellow-100/60 drop-shadow-md leading-tight italic text-xl",children:String(t.greeting||"")}),M.jsxs("span",{className:"text-white/25 text-[10px] font-bold mt-1 tracking-widest",children:[" ",String(t.name)]})]},t.id||i))]}),vx=()=>M.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[150] overflow-hidden",children:[M.jsx("style",{children:`
      @keyframes fall { 0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; } 100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } }
      .confetti { position: absolute; width: 10px; height: 10px; animation: fall 3s linear forwards; }
    `}),[...Array(50)].map((s,t)=>M.jsx("div",{className:"confetti",style:{left:`${Math.random()*100}%`,backgroundColor:["#fbbf24","#fcd34d","#ffffff","#ef4444"][t%4],animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`}},t))]}),Ex=({prizeName:s,onClose:t})=>M.jsx("div",{className:"fixed inset-0 z-[200] bg-black/95 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in zoom-in duration-300",children:M.jsxs("div",{className:"relative w-full max-w-sm aspect-[3/4] bg-gradient-to-b from-red-600 to-red-800 rounded-[2.5rem] shadow-[0_0_100px_rgba(239,68,68,0.5)] border-4 border-yellow-400 flex flex-col items-center justify-center text-center p-8 overflow-hidden",children:[M.jsx("div",{className:"absolute top-0 w-full h-1/2 bg-red-500 rounded-b-[50%] -translate-y-1/2 shadow-xl border-b-4 border-yellow-500/20"}),M.jsxs("div",{className:"z-10 mt-12",children:[M.jsx("div",{className:"w-24 h-24 bg-yellow-400 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl border-4 border-white animate-bounce",children:M.jsx(GT,{className:"w-12 h-12 text-red-700"})}),M.jsx("h2",{className:"text-4xl font-black text-yellow-300 mb-2 drop-shadow-md italic text-center",children:""}),M.jsx("p",{className:"text-white text-lg font-bold mb-8 text-center",children:""}),M.jsx("div",{className:"bg-yellow-400 text-red-900 px-8 py-5 rounded-2xl text-3xl font-black shadow-inner",children:String(s)})]}),M.jsx("button",{onClick:t,className:"mt-12 text-white/60 text-sm underline font-bold active:text-white",children:""})]})}),Tx=({players:s,gameState:t,sortedPlayers:i,elapsedSeconds:a,currentPhase:l})=>{const[c,d]=Yt.useState(!1),[p,v]=Yt.useState(null),y=async()=>{await Pc(wi(Ln,"artifacts",Zn,"public","data","settings","gameState"),{isGameStarted:!0,countdownStartTime:Date.now(),phaseStartTime:Date.now()+5e3,currentQuestionIndex:0,viewMode:"question"},{merge:!0})},b=async()=>{const Z=t.currentQuestionIndex+1;Z>=qr.length?await Pc(wi(Ln,"artifacts",Zn,"public","data","settings","gameState"),{viewMode:"final"},{merge:!0}):await Pc(wi(Ln,"artifacts",Zn,"public","data","settings","gameState"),{currentQuestionIndex:Z,phaseStartTime:Date.now(),viewMode:"question"},{merge:!0})},A=async()=>{if(!window.confirm(""))return;const Z=UR(Ln);s.forEach(tt=>Z.delete(wi(Ln,"artifacts",Zn,"public","data","players",tt.id))),Z.set(wi(Ln,"artifacts",Zn,"public","data","settings","gameState"),{currentQuestionIndex:0,isGameStarted:!1,viewMode:"question",countdownStartTime:0,phaseStartTime:0}),await Z.commit(),window.location.reload()},V=async()=>{!p||c||(d(!0),setTimeout(async()=>{const Z=gv[Math.floor(Math.random()*gv.length)];await vm(wi(Ln,"artifacts",Zn,"public","data","players",p.id),{winningPrize:Z}),d(!1),v(null)},3e3))},Q=Z=>{const tt=[0,0,0,0];return s.forEach(ut=>{const dt=ut.answers?.[Z];if(dt!=null){const ht=Number(dt);ht>=0&&ht<4&&tt[ht]++}}),tt},W=Yt.useMemo(()=>l==="question"?`: ${Math.max(0,10-Math.floor(a))} `:l==="buffer"?`: ${Math.max(0,12-Math.floor(a))} `:l==="reveal"?`: ${Math.max(0,15-Math.floor(a))} `:l==="rank"?"":l==="countdown_lobby"?"":"",[l,a]);return M.jsxs("div",{className:"flex flex-col h-full p-4 space-y-6 overflow-y-auto no-scrollbar pb-24 text-white",children:[M.jsxs("div",{className:"bg-white/10 rounded-3xl p-6 border-2 border-yellow-500/30",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("h2",{className:"text-xl font-bold text-yellow-400 italic font-serif-tc",children:""}),M.jsxs("button",{onClick:A,className:"text-red-400 text-xs font-bold border border-red-400/30 px-3 py-1 rounded-lg",children:[M.jsx(dx,{className:"w-3 h-3 inline mr-1"}),""]})]}),t.isGameStarted?M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"mb-4 bg-black/40 p-3 rounded-xl border border-white/10 flex justify-between items-center",children:[M.jsxs("span",{className:"text-xs font-bold text-white/50 uppercase tracking-widest",children:[M.jsx(WI,{className:"w-3 h-3 inline mr-1"}),""]}),M.jsx("span",{className:"text-yellow-400 font-black",children:W})]}),M.jsxs("button",{onClick:b,className:"w-full bg-blue-600 p-5 rounded-2xl font-black text-xl flex items-center justify-center gap-2",children:[M.jsx(ux,{className:"w-6 h-6"})," / "]})]}):M.jsx("button",{onClick:y,className:"w-full bg-green-600 p-5 rounded-2xl font-black text-xl shadow-lg",children:" (5s )"})]}),M.jsxs("div",{className:"bg-white/10 rounded-3xl p-6 border border-white/10",children:[M.jsx("h3",{className:"text-sm font-bold text-yellow-400 mb-4 uppercase italic",children:""}),M.jsx("div",{className:"space-y-2",children:i.slice(0,5).map((Z,tt)=>M.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-3 rounded-xl",children:[M.jsxs("span",{children:[tt+1,". ",Z.name]}),M.jsxs("span",{className:"text-yellow-400 font-bold",children:[Z.score," pt / ",Z.totalTimeTaken?.toFixed(1),"s"]})]},Z.id))})]}),M.jsxs("div",{className:"bg-white/10 rounded-3xl p-6 border border-white/10 space-y-6",children:[M.jsxs("h3",{className:"text-sm font-bold text-yellow-400 uppercase italic flex items-center gap-2",children:[M.jsx(KI,{className:"w-4 h-4"}),""]}),qr.map((Z,tt)=>{const ut=Q(tt),dt=ut.reduce((ht,bt)=>ht+bt,0);return M.jsxs("div",{className:`p-4 rounded-xl border ${t.currentQuestionIndex===tt?"bg-yellow-400/10 border-yellow-400":"bg-black/20 border-white/5 opacity-60"}`,children:[M.jsxs("p",{className:"text-white text-xs font-bold mb-2",children:["Q",tt+1,": ",Z.q]}),M.jsx("div",{className:"space-y-2",children:Z.a.map((ht,bt)=>M.jsxs("div",{className:"space-y-1 text-[9px]",children:[M.jsxs("div",{className:"flex justify-between text-white/70",children:[M.jsxs("span",{children:[String.fromCharCode(65+bt),". ",ht.replace(/\n/g," ")]}),M.jsxs("span",{children:[ut[bt],""]})]}),M.jsx("div",{className:"h-1 bg-black/40 rounded-full overflow-hidden",children:M.jsx("div",{className:"h-full bg-yellow-500",style:{width:`${dt>0?ut[bt]/dt*100:0}%`}})})]},bt))})]},tt)})]}),M.jsxs("div",{className:"bg-white/10 rounded-3xl p-6 border-2 border-yellow-500/30 text-center relative",children:[M.jsx("h2",{className:"text-xl font-bold text-yellow-400 mb-6 italic",children:""}),M.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-6",children:[M.jsx("div",{className:`w-full h-full rounded-full border-4 border-yellow-500 transition-all duration-[3000ms] ${c?"rotate-[1080deg]":"rotate-0"}`,style:{background:"conic-gradient(#8b0000 0% 25%, #d4af37 25% 50%, #8b0000 50% 75%, #d4af37 75% 100%)"}}),M.jsx(HT,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white w-8 h-8"})]}),M.jsx("p",{className:"mb-4 font-bold text-white/80 h-6 text-sm",children:p?`${p.name}`:""}),M.jsx("button",{disabled:!p||c,onClick:V,className:"w-full py-4 bg-yellow-500 text-red-950 font-black rounded-2xl disabled:opacity-30",children:""}),M.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4 max-h-40 overflow-y-auto no-scrollbar",children:i.map(Z=>M.jsx("button",{onClick:()=>v(Z),className:`p-2 rounded-lg text-[10px] font-bold border truncate ${p?.id===Z.id?"bg-yellow-400 text-red-950 border-yellow-400":"bg-black/40 border-white/10"}`,children:Z.name},Z.id))})]})]})};function bx(){const[s,t]=Yt.useState(null),[i,a]=Yt.useState("register"),[l,c]=Yt.useState([]),[d,p]=Yt.useState({currentQuestionIndex:0,isGameStarted:!1,phaseStartTime:0,viewMode:"question",countdownStartTime:0}),[v,y]=Yt.useState(null),[b,A]=Yt.useState(null),[V,Q]=Yt.useState(null),[W,Z]=Yt.useState(!1),[tt,ut]=Yt.useState(!1),[dt,ht]=Yt.useState(""),[bt,re]=Yt.useState(0),[Ut,I]=Yt.useState(!1),S=Yt.useMemo(()=>l.find(U=>U.id===s?.uid),[l,s]),C=U=>{U&&U.preventDefault(),dt==="1234"?(Z(!0),ut(!1),ht("")):alert("")};Yt.useEffect(()=>((async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await SC(Xd,__initial_auth_token):await _C(Xd)}catch(X){console.error("Auth error:",X)}})(),RC(Xd,t)),[]),Yt.useEffect(()=>{if(!s)return;const U=J0(bR(Ln,"artifacts",Zn,"public","data","players"),it=>{const Ct=it.docs.map(vt=>({id:vt.id,...vt.data()}));c(Ct),Ct.some(vt=>vt.id===s.uid)?i==="register"&&a("sponsors"):(a("register"),sessionStorage.removeItem("hasSeenSponsors_2026"))}),X=J0(wi(Ln,"artifacts",Zn,"public","data","settings","gameState"),it=>{it.exists()&&p(it.data())});return()=>{U(),X()}},[s,i]);const D=Yt.useMemo(()=>{if(d.viewMode==="final")return"final";const U=Date.now(),X=(U-d.countdownStartTime)/1e3;if(d.countdownStartTime>0&&X<5)return"countdown_lobby";if(d.isGameStarted){const it=(U-d.phaseStartTime)/1e3;return it<10?"question":it<12?"buffer":it<15?"reveal":"rank"}return"idle"},[bt,d.isGameStarted,d.viewMode,d.countdownStartTime,d.phaseStartTime]);Yt.useEffect(()=>{S&&!W&&((D==="countdown_lobby"||i==="sponsors"&&sessionStorage.getItem("hasSeenSponsors_2026"))&&a("greetings"),d.isGameStarted&&D!=="countdown_lobby"&&a("quiz"))},[D,d.isGameStarted,S,W]),Yt.useEffect(()=>{d.isGameStarted&&D==="question"&&(y(null),A(null),Q(null))},[d.currentQuestionIndex,D]),Yt.useEffect(()=>{if(!d.phaseStartTime||!d.isGameStarted)return;const U=setInterval(()=>re((Date.now()-d.phaseStartTime)/1e3),100);return()=>clearInterval(U)},[d.phaseStartTime,d.isGameStarted]);const x=Yt.useMemo(()=>[...l].sort((U,X)=>(X.score||0)!==(U.score||0)?(X.score||0)-(U.score||0):(U.totalTimeTaken||0)-(X.totalTimeTaken||0)),[l]),L=async U=>{U.preventDefault(),await Pc(wi(Ln,"artifacts",Zn,"public","data","players",s.uid),{name:U.target.name.value,greeting:U.target.greeting.value.substring(0,10),score:0,totalTimeTaken:0,currentStreak:0,answers:{},winningPrize:null,timestamp:NR()},{merge:!0}),a("sponsors")},w=async()=>{if(v===null||b!==null||D!=="question")return;A(v);const U=d.currentQuestionIndex,X=Array.isArray(qr[U].correct)?qr[U].correct.includes(v):v===qr[U].correct;Q(X);const it=wi(Ln,"artifacts",Zn,"public","data","players",s.uid),vt=(await kR(it)).data()||{};let N=X?U>=qr.length-3?100:66:0,F=X?(vt.currentStreak||0)+1:0,nt=X&&F>=3?88:0;await vm(it,{score:(vt.score||0)+N+nt,totalTimeTaken:(vt.totalTimeTaken||0)+Math.min(10,Math.max(0,bt)),currentStreak:F,[`answers.${U}`]:v})},Ht=qr[d.currentQuestionIndex]||qr[0],he=D==="question"&&bt>=7;return M.jsxs("div",{className:"flex flex-col h-screen max-w-lg mx-auto shadow-2xl relative overflow-hidden bg-[#450a0a] font-serif-tc text-white",children:[M.jsx(yx,{}),he&&M.jsx("div",{className:"absolute inset-0 shake-border-active"}),D==="reveal"&&V&&M.jsx(vx,{}),S?.winningPrize&&M.jsx(Ex,{prizeName:S.winningPrize,onClose:async()=>vm(wi(Ln,"artifacts",Zn,"public","data","players",s.uid),{winningPrize:null})}),M.jsxs("div",{className:"sticky top-0 z-[60] bg-gradient-to-r from-amber-600 via-yellow-400 to-amber-600 text-red-950 px-4 py-3 shadow-2xl flex items-center justify-between border-b-2 border-amber-700/50 font-black",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("span",{className:"animate-pulse text-xl font-bold",children:""}),M.jsx("h1",{className:"text-sm tracking-tight uppercase font-black",children:"2026 & "})]}),M.jsx("button",{onClick:()=>W?Z(!1):ut(!0),className:"text-[10px] uppercase bg-red-900/10 px-2 py-1 rounded-md border border-red-900/20 active:bg-red-900/40",children:W?"Exit":"Admin"})]}),M.jsx("main",{className:"flex-grow flex flex-col relative px-4 pb-6 overflow-hidden",children:W?M.jsx(Tx,{players:l,gameState:d,sortedPlayers:x,elapsedSeconds:bt,currentPhase:D}):M.jsxs("div",{className:"flex-grow flex flex-col h-full relative",children:[i==="register"&&M.jsxs("div",{className:"my-auto space-y-6 animate-in slide-in-from-bottom-8",children:[M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"w-24 h-24 bg-yellow-400 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-amber-600 shadow-2xl text-4xl",children:""}),M.jsx("h2",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-b from-yellow-200 to-amber-500 drop-shadow-lg mb-2 italic",children:""})]}),M.jsxs("div",{className:"bg-white/5 backdrop-blur-xl p-8 rounded-[2.5rem] border border-yellow-400/30 shadow-2xl relative",children:[M.jsx(Jd,{}),M.jsxs("form",{onSubmit:L,className:"space-y-6",children:[M.jsxs("div",{children:[M.jsx("label",{className:"text-xs text-yellow-400 font-bold ml-2 mb-2 block tracking-widest uppercase",children:""}),M.jsx("input",{name:"name",required:!0,className:"w-full px-6 py-4 rounded-2xl bg-white text-gray-900 border-2 border-yellow-400/30 outline-none text-xl font-bold",placeholder:""})]}),M.jsxs("div",{children:[M.jsx("label",{className:"text-xs text-yellow-400 font-bold ml-2 mb-2 block tracking-widest uppercase",children:" (10)"}),M.jsx("input",{name:"greeting",required:!0,maxLength:10,className:"w-full px-6 py-4 rounded-2xl bg-white text-gray-900 border-2 border-yellow-400/30 outline-none text-xl font-bold",placeholder:""})]}),M.jsx("button",{type:"submit",className:"w-full py-5 bg-gradient-to-b from-yellow-300 to-amber-600 text-red-950 font-black rounded-2xl shadow-xl text-2xl active:translate-y-1 transition-all border-b-4 border-amber-800 italic uppercase",children:" "})]})]})]}),i==="sponsors"&&M.jsxs("div",{className:"flex flex-col h-full space-y-4 py-6 animate-in fade-in text-center",children:[M.jsx("h2",{className:"text-2xl font-black text-yellow-400 italic underline decoration-amber-500/50 font-serif-tc",children:""}),M.jsx("div",{onScroll:U=>{U.target.scrollHeight-U.target.scrollTop-U.target.clientHeight<50&&I(!0)},className:"flex-grow space-y-3 overflow-y-auto no-scrollbar pb-6 px-1",children:px.map((U,X)=>M.jsxs("div",{className:"bg-white/5 p-4 rounded-3xl flex items-center gap-4 border-l-4 border-yellow-400 shadow-lg animate-in slide-in-from-right",style:{animationDelay:`${X*100}ms`},children:[M.jsx("div",{className:"bg-gradient-to-br from-yellow-300 to-amber-600 p-3 rounded-2xl text-red-950",children:M.jsx(GT,{className:"w-5 h-5"})}),M.jsxs("div",{className:"text-left font-black text-lg leading-tight truncate",children:[U.name,M.jsx("div",{className:"text-xs text-yellow-300 font-bold mt-1 italic",children:U.prize})]})]},X))}),M.jsx("div",{className:"h-20 shrink-0 flex items-center",children:Ut?M.jsx("button",{onClick:()=>{sessionStorage.setItem("hasSeenSponsors_2026","true"),a("greetings")},className:"w-full py-4 bg-gradient-to-b from-yellow-300 to-amber-600 text-red-950 font-black rounded-2xl shadow-xl text-xl animate-in zoom-in uppercase",children:" "}):M.jsxs("div",{className:"w-full text-yellow-400 text-xs font-black animate-bounce flex items-center justify-center gap-2 uppercase",children:[M.jsx(FI,{className:"w-4 h-4"})," "]})})]}),i==="greetings"&&M.jsxs("div",{className:"flex-grow flex flex-col h-full relative",children:[M.jsxs("div",{className:"absolute top-10 left-0 right-0 text-center z-20",children:[M.jsx("h2",{className:"text-5xl font-black text-yellow-400 drop-shadow-[0_0_15px_rgba(0,0,0,0.8)] italic tracking-widest font-serif-tc",children:""}),M.jsx("p",{className:"text-yellow-200/60 text-[10px] mt-2 uppercase tracking-[0.3em] font-bold",children:"New Year Celebration Wall"})]}),M.jsx(_x,{players:l}),M.jsx("div",{className:"mt-auto mb-10 text-center space-y-6 z-20",children:M.jsxs("div",{className:"bg-black/60 backdrop-blur-xl px-10 py-5 rounded-[2rem] border-2 border-yellow-500/40 inline-flex flex-col items-center gap-3 shadow-2xl",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-ping"}),M.jsx("span",{className:"text-base font-black tracking-widest text-yellow-100 italic",children:""})]}),M.jsxs("p",{className:"text-[10px] text-white/40 font-bold tracking-widest",children:[" ",l.length," "]})]})}),D==="countdown_lobby"&&M.jsxs("div",{className:"fixed inset-0 z-[100] bg-red-950/95 flex flex-col items-center justify-center animate-in fade-in duration-500 text-center font-serif-tc",children:[M.jsx("div",{className:"text-yellow-400 text-[18rem] font-black animate-ping drop-shadow-2xl",children:Math.max(1,5-Math.floor((Date.now()-d.countdownStartTime)/1e3))}),M.jsx("div",{className:"text-5xl font-black text-white tracking-[0.5em] mt-10 italic uppercase drop-shadow-lg",children:""})]})]}),i==="quiz"&&M.jsx("div",{className:"flex flex-col h-full pt-4",children:D==="question"||D==="buffer"||D==="reveal"?M.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[M.jsxs("div",{className:"flex justify-between items-end px-2",children:[M.jsxs("div",{className:"text-yellow-400 font-black italic text-sm",children:[" ",d.currentQuestionIndex+1," "]}),M.jsxs("div",{className:"px-5 py-2 rounded-2xl font-mono text-lg font-black transition-all shadow-xl bg-black/60 border border-white/20 text-center",children:[M.jsx("span",{className:"text-[9px] opacity-60 block leading-none uppercase mb-1",children:""}),D==="reveal"||D==="buffer"?"0 ":`${Math.max(0,10-Math.floor(bt))} `]})]}),M.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] shadow-2xl min-h-[140px] flex items-center justify-center text-center relative text-red-950 border-b-8 border-amber-900/30 animate-in zoom-in",children:[M.jsx(Jd,{}),M.jsx("p",{className:"text-xl font-black leading-tight italic",children:String(Ht.q)})]}),M.jsx("div",{className:"flex-grow flex flex-col justify-center space-y-3",children:Ht.a.map((U,X)=>{const it=D==="reveal",Ct=D==="buffer",vt=Array.isArray(Ht.correct)?Ht.correct.includes(X):X===Ht.correct,N=b===X;let F="bg-white/5 border-white/10 text-white/80";return it?vt?F="bg-green-600 border-green-300 ring-4 ring-green-400 shadow-[0_0_20px_rgba(34,197,94,0.6)] z-10 text-white":N?F="bg-black/60 border-red-500 ring-2 ring-red-500/30 text-red-500 font-black":F="opacity-10 scale-95 grayscale bg-black/40 border-transparent text-white/40":N?F="bg-gradient-to-r from-yellow-400 to-amber-500 text-red-950 border-white ring-4 ring-yellow-400 shadow-xl scale-[1.02]":v===X&&(F="bg-white/20 border-yellow-400 scale-[1.02] text-white"),M.jsxs("button",{disabled:b!==null||it||Ct,onClick:()=>y(X),className:`p-5 border-2 rounded-2xl transition-all duration-300 text-left flex items-center gap-4 relative overflow-hidden font-bold ${F}`,children:[M.jsx("span",{className:`w-8 h-8 rounded-full bg-black/20 flex items-center justify-center shrink-0 text-xs font-mono ${it&&N&&!vt?"text-red-500":""}`,children:String.fromCharCode(65+X)}),M.jsxs("div",{className:"flex flex-col flex-grow",children:[M.jsx("span",{className:"text-lg whitespace-pre-line break-words leading-tight",children:String(U)}),it&&vt&&M.jsxs("span",{className:"text-[10px] font-black animate-pulse flex items-center gap-1 text-green-200 mt-1",children:[M.jsx(XI,{className:"w-3 h-3"})," "]}),it&&N&&!vt&&M.jsxs("span",{className:"text-[10px] font-black text-red-400 flex items-center gap-1 mt-1",children:[M.jsx($I,{className:"w-3 h-3"})," "]})]}),it&&vt&&M.jsx(sx,{className:"w-6 h-6 text-yellow-300 animate-bounce ml-2 shrink-0"})]},X)})}),M.jsx("div",{className:"h-20 flex items-center justify-center",children:D==="reveal"?M.jsx("div",{className:`text-base font-black italic px-8 py-3 rounded-full border-2 animate-in zoom-in shadow-2xl ${V?"bg-green-600 text-white border-green-300":"bg-red-900/60 text-red-200 border-red-500/30"}`,children:V?" ":" "}):M.jsxs(M.Fragment,{children:[v!==null&&b===null&&D==="question"&&M.jsxs("button",{onClick:w,className:"w-full py-4 bg-gradient-to-b from-yellow-300 to-yellow-600 text-red-950 font-black rounded-2xl shadow-2xl text-xl border-b-4 border-amber-800 active:scale-95 flex items-center justify-center gap-3 animate-in slide-in-from-bottom uppercase font-serif-tc",children:[" ",M.jsx(ox,{className:"w-6 h-6"})]}),b!==null&&M.jsxs("div",{className:"text-yellow-400 font-bold italic animate-pulse flex items-center gap-3 bg-black/30 px-8 py-3 rounded-full border border-yellow-500/20",children:[M.jsx(ix,{className:"w-6 h-6 animate-spin"})," ..."]})]})})]}):M.jsxs("div",{className:"flex flex-col h-full space-y-4 animate-in slide-in-from-right",children:[M.jsx("h2",{className:"text-center text-4xl font-black text-yellow-400 italic tracking-[0.2em] drop-shadow-lg font-serif-tc",children:""}),M.jsxs("div",{className:"bg-white/5 rounded-[3rem] p-6 border border-yellow-500/20 shadow-2xl flex-grow overflow-hidden flex flex-col",children:[M.jsx("p",{className:"text-center text-[10px] text-white/40 mb-4 uppercase tracking-[0.3em] font-bold font-serif-tc",children:"Top 5 "}),M.jsx("div",{className:"space-y-3 overflow-y-auto no-scrollbar",children:x.slice(0,5).map((U,X)=>M.jsxs("div",{className:"bg-black/40 p-4 rounded-2xl flex items-center justify-between border border-white/5 animate-in slide-in-from-bottom",style:{animationDelay:`${X*100}ms`},children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("span",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold shadow-lg ${X===0?"bg-yellow-400 text-red-950 scale-110":"bg-white/10 text-white/60"}`,children:X+1}),M.jsx("span",{className:`font-bold text-lg ${X===0?"text-yellow-400 font-black italic":""}`,children:String(U.name)})]}),M.jsxs("div",{className:"text-right",children:[M.jsxs("div",{className:"text-2xl font-black text-yellow-400 leading-none italic",children:[U.score," ",M.jsx("span",{className:"text-[10px] opacity-50 not-italic",children:"pt"})]}),M.jsxs("div",{className:"text-[9px] opacity-40 mt-1 font-mono",children:[U.totalTimeTaken?.toFixed(1),"s"]})]})]},U.id))})]}),M.jsxs("div",{className:"h-16 flex flex-col items-center justify-center text-yellow-500/60 text-sm animate-pulse italic font-bold gap-1 uppercase tracking-widest font-serif-tc",children:[M.jsx("span",{children:"..."}),M.jsxs("div",{className:"flex gap-1",children:[M.jsx("span",{className:"w-1.5 h-1.5 bg-yellow-500/40 rounded-full animate-bounce",style:{animationDelay:"0s"}}),M.jsx("span",{className:"w-1.5 h-1.5 bg-yellow-500/40 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),M.jsx("span",{className:"w-1.5 h-1.5 bg-yellow-500/40 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})]})]})}),i==="leaderboard"&&M.jsxs("div",{className:"flex flex-col h-full space-y-6 pt-8 animate-in slide-in-from-bottom duration-1000",children:[M.jsxs("div",{className:"text-center",children:[M.jsx("h2",{className:"text-6xl font-black text-yellow-400 drop-shadow-2xl italic tracking-tighter font-serif-tc",children:""}),M.jsx("p",{className:"text-white/40 text-xs mt-2 font-bold uppercase tracking-[0.4em] font-sans",children:"Final Leaderboard"})]}),S&&M.jsxs("div",{className:"bg-gradient-to-br from-yellow-400 to-yellow-600 text-red-950 p-6 rounded-[2.5rem] shadow-[0_0_50px_rgba(251,191,36,0.3)] relative overflow-hidden ring-4 ring-white/20",children:[M.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[M.jsxs("div",{children:[M.jsx("p",{className:"text-[10px] font-black opacity-70 uppercase tracking-widest",children:""}),M.jsx("p",{className:"text-3xl font-black italic",children:String(S.name)})]}),M.jsxs("div",{className:"text-right",children:[M.jsx("p",{className:"text-5xl font-black",children:x.findIndex(U=>U.id===s.uid)+1}),M.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-tighter font-serif-tc",children:["Ranking / ",S.score," PT"]})]})]}),M.jsx(hx,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-red-950/10 rotate-12"})]}),M.jsx("div",{className:"bg-white/5 rounded-[3rem] p-6 border border-yellow-400/20 flex-grow overflow-y-auto no-scrollbar shadow-inner",children:M.jsx("div",{className:"space-y-3",children:x.map((U,X)=>M.jsxs("div",{className:`p-4 rounded-2xl flex items-center justify-between border transition-all ${X<3?"bg-yellow-400/10 border-yellow-400/40 py-5":"bg-black/20 border-white/5"}`,children:[M.jsxs("div",{className:"flex items-center gap-4",children:[X===0?M.jsx(HT,{className:"text-yellow-400 w-8 h-8 drop-shadow-lg"}):M.jsx("span",{className:"text-white/40 font-mono w-8 text-center text-sm font-bold",children:X+1}),M.jsx("span",{className:`font-bold ${X<3?"text-yellow-400 text-xl italic font-black":"text-white/80"}`,children:String(U.name)})]}),M.jsxs("div",{className:"text-right",children:[M.jsx("div",{className:"font-black text-xl italic",children:U.score}),M.jsxs("div",{className:"text-[9px] opacity-30 font-mono",children:[U.totalTimeTaken?.toFixed(1),"s"]})]})]},U.id))})}),M.jsx("div",{className:"text-center py-4 bg-yellow-400/10 rounded-2xl border border-yellow-400/20 shadow-xl",children:M.jsx("p",{className:"text-yellow-400 text-sm font-black animate-pulse uppercase tracking-[0.2em] font-serif-tc",children:"  "})})]})]})}),tt&&M.jsx("div",{className:"fixed inset-0 z-[100] bg-black/95 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:M.jsxs("form",{onSubmit:C,className:"bg-[#450a0a] border-2 border-yellow-400 p-8 rounded-[2.5rem] w-full max-w-xs shadow-2xl relative",children:[M.jsx(Jd,{}),M.jsx("h3",{className:"text-xl font-black text-yellow-400 mb-6 text-center italic font-serif-tc",children:""}),M.jsx("input",{type:"password",autoFocus:!0,className:"w-full p-4 rounded-xl bg-white text-black mb-6 outline-none font-bold text-center text-2xl tracking-widest shadow-inner",placeholder:"",value:dt,onChange:U=>ht(U.target.value)}),M.jsxs("div",{className:"flex gap-3",children:[M.jsx("button",{type:"button",onClick:()=>ut(!1),className:"flex-1 py-4 bg-white/10 rounded-xl font-bold transition-colors active:bg-white/20",children:""}),M.jsx("button",{type:"submit",className:"flex-1 py-4 bg-yellow-500 text-red-950 rounded-xl font-black shadow-lg active:scale-95 transition-transform",children:""})]})]})})]})}Db.createRoot(document.getElementById("root")).render(M.jsx(Yt.StrictMode,{children:M.jsx(bx,{})}));
